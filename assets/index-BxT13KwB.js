const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SectionLandscape-CMlL50xm.js","assets/SectionLandscape-BApBc0xW.css","assets/SectionData-D88IPD4q.js","assets/IconAudio-C4REGgrg.js","assets/IconBug-B2vTg28j.js","assets/IconImage-Djg6lQ7k.js","assets/IconMicroscope-CTq-RJ_0.js","assets/IconReference-DfIuSU0Z.js","assets/IconOk-CUcTnBmW.js","assets/iconCitation-BOsA9aWZ.js","assets/DataType-D-PW4D0w.js","assets/home-Bguyr8kd.js","assets/SectionAuthor-BZHnL1oq.js","assets/SectionDescription-TRmKBtUe.js","assets/SectionTerms-u0Wxv2Sm.js","assets/SectionAnnouncements-B5whUH8Y.js"])))=>i.map(i=>d[i]);
var p0=Object.defineProperty;var f0=(e,t,i)=>t in e?p0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var lt=(e,t,i)=>f0(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerPolicy&&(s.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?s.credentials="include":c.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(c){if(c.ep)return;c.ep=!0;const s=i(c);fetch(c.href,s)}})();/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qh(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const Wt={},ds=[],Wi=()=>{},m0=()=>!1,$a=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Kh=e=>e.startsWith("onUpdate:"),Sn=Object.assign,Wh=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},_0=Object.prototype.hasOwnProperty,Gt=(e,t)=>_0.call(e,t),dt=Array.isArray,ps=e=>Ua(e)==="[object Map]",bs=e=>Ua(e)==="[object Set]",Vd=e=>Ua(e)==="[object Date]",vt=e=>typeof e=="function",ln=e=>typeof e=="string",Ji=e=>typeof e=="symbol",Jt=e=>e!==null&&typeof e=="object",Nf=e=>(Jt(e)||vt(e))&&vt(e.then)&&vt(e.catch),zf=Object.prototype.toString,Ua=e=>zf.call(e),g0=e=>Ua(e).slice(8,-1),Vf=e=>Ua(e)==="[object Object]",Jh=e=>ln(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fs=qh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cu=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},y0=/-(\w)/g,Si=Cu(e=>e.replace(y0,(t,i)=>i?i.toUpperCase():"")),v0=/\B([A-Z])/g,Hr=Cu(e=>e.replace(v0,"-$1").toLowerCase()),ku=Cu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vc=Cu(e=>e?`on${ku(e)}`:""),$r=(e,t)=>!Object.is(e,t),Ql=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},Gf=(e,t,i,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:i})},lu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},b0=e=>{const t=ln(e)?Number(e):NaN;return isNaN(t)?e:t};let Gd;const $f=()=>Gd||(Gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pi(e){if(dt(e)){const t={};for(let i=0;i<e.length;i++){const o=e[i],c=ln(o)?C0(o):pi(o);if(c)for(const s in c)t[s]=c[s]}return t}else if(ln(e)||Jt(e))return e}const x0=/;(?![^(]*\))/g,w0=/:([^]+)/,L0=/\/\*[^]*?\*\//g;function C0(e){const t={};return e.replace(L0,"").split(x0).forEach(i=>{if(i){const o=i.split(w0);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function tn(e){let t="";if(ln(e))t=e;else if(dt(e))for(let i=0;i<e.length;i++){const o=tn(e[i]);o&&(t+=o+" ")}else if(Jt(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function fh(e){if(!e)return null;let{class:t,style:i}=e;return t&&!ln(t)&&(e.class=tn(t)),i&&(e.style=pi(i)),e}const k0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",E0=qh(k0);function Uf(e){return!!e||e===""}function M0(e,t){if(e.length!==t.length)return!1;let i=!0;for(let o=0;i&&o<e.length;o++)i=Ha(e[o],t[o]);return i}function Ha(e,t){if(e===t)return!0;let i=Vd(e),o=Vd(t);if(i||o)return i&&o?e.getTime()===t.getTime():!1;if(i=Ji(e),o=Ji(t),i||o)return e===t;if(i=dt(e),o=dt(t),i||o)return i&&o?M0(e,t):!1;if(i=Jt(e),o=Jt(t),i||o){if(!i||!o)return!1;const c=Object.keys(e).length,s=Object.keys(t).length;if(c!==s)return!1;for(const u in e){const f=e.hasOwnProperty(u),_=t.hasOwnProperty(u);if(f&&!_||!f&&_||!Ha(e[u],t[u]))return!1}}return String(e)===String(t)}function Yh(e,t){return e.findIndex(i=>Ha(i,t))}const Hf=e=>!!(e&&e.__v_isRef===!0),Be=e=>ln(e)?e:e==null?"":dt(e)||Jt(e)&&(e.toString===zf||!vt(e.toString))?Hf(e)?Be(e.value):JSON.stringify(e,Zf,2):String(e),Zf=(e,t)=>Hf(t)?Zf(e,t.value):ps(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[o,c],s)=>(i[Gc(o,s)+" =>"]=c,i),{})}:bs(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>Gc(i))}:Ji(t)?Gc(t):Jt(t)&&!dt(t)&&!Vf(t)?String(t):t,Gc=(e,t="")=>{var i;return Ji(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wn;class qf{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Wn,!t&&Wn&&(this.index=(Wn.scopes||(Wn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Wn;try{return Wn=this,t()}finally{Wn=i}}}on(){Wn=this}off(){Wn=this.parent}stop(t){if(this._active){let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.scopes)for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this._active=!1}}}function Kf(e){return new qf(e)}function Wf(){return Wn}function S0(e,t=!1){Wn&&Wn.cleanups.push(e)}let Xt;const $c=new WeakSet;class Jf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Wn&&Wn.active&&Wn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$c.has(this)&&($c.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$d(this),Qf(this);const t=Xt,i=Di;Xt=this,Di=!0;try{return this.fn()}finally{em(this),Xt=t,Di=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ed(t);this.deps=this.depsTail=void 0,$d(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$c.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){mh(this)&&this.run()}get dirty(){return mh(this)}}let Yf=0,ya,va;function Xf(e,t=!1){if(e.flags|=8,t){e.next=va,va=e;return}e.next=ya,ya=e}function Xh(){Yf++}function Qh(){if(--Yf>0)return;if(va){let t=va;for(va=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;ya;){let t=ya;for(ya=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=i}}if(e)throw e}function Qf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function em(e){let t,i=e.depsTail,o=i;for(;o;){const c=o.prevDep;o.version===-1?(o===i&&(i=c),ed(o),P0(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=c}e.deps=t,e.depsTail=i}function mh(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(tm(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function tm(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Pa))return;e.globalVersion=Pa;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!mh(e)){e.flags&=-3;return}const i=Xt,o=Di;Xt=e,Di=!0;try{Qf(e);const c=e.fn(e._value);(t.version===0||$r(c,e._value))&&(e._value=c,t.version++)}catch(c){throw t.version++,c}finally{Xt=i,Di=o,em(e),e.flags&=-3}}function ed(e,t=!1){const{dep:i,prevSub:o,nextSub:c}=e;if(o&&(o.nextSub=c,e.prevSub=void 0),c&&(c.prevSub=o,e.nextSub=void 0),i.subs===e&&(i.subs=o),!i.subs&&i.computed){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)ed(s,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function P0(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let Di=!0;const nm=[];function Zr(){nm.push(Di),Di=!1}function qr(){const e=nm.pop();Di=e===void 0?!0:e}function $d(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Xt;Xt=void 0;try{t()}finally{Xt=i}}}let Pa=0;class B0{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class td{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Xt||!Di||Xt===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Xt)i=this.activeLink=new B0(Xt,this),Xt.deps?(i.prevDep=Xt.depsTail,Xt.depsTail.nextDep=i,Xt.depsTail=i):Xt.deps=Xt.depsTail=i,im(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const o=i.nextDep;o.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=o),i.prevDep=Xt.depsTail,i.nextDep=void 0,Xt.depsTail.nextDep=i,Xt.depsTail=i,Xt.deps===i&&(Xt.deps=o)}return i}trigger(t){this.version++,Pa++,this.notify(t)}notify(t){Xh();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{Qh()}}}function im(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)im(o)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const uu=new WeakMap,yo=Symbol(""),_h=Symbol(""),Ba=Symbol("");function Un(e,t,i){if(Di&&Xt){let o=uu.get(e);o||uu.set(e,o=new Map);let c=o.get(i);c||(o.set(i,c=new td),c.map=o,c.key=i),c.track()}}function pr(e,t,i,o,c,s){const u=uu.get(e);if(!u){Pa++;return}const f=_=>{_&&_.trigger()};if(Xh(),t==="clear")u.forEach(f);else{const _=dt(e),v=_&&Jh(i);if(_&&i==="length"){const b=Number(o);u.forEach((w,P)=>{(P==="length"||P===Ba||!Ji(P)&&P>=b)&&f(w)})}else switch(i!==void 0&&f(u.get(i)),v&&f(u.get(Ba)),t){case"add":_?v&&f(u.get("length")):(f(u.get(yo)),ps(e)&&f(u.get(_h)));break;case"delete":_||(f(u.get(yo)),ps(e)&&f(u.get(_h)));break;case"set":ps(e)&&f(u.get(yo));break}}Qh()}function T0(e,t){const i=uu.get(e);return i&&i.get(t)}function os(e){const t=Ft(e);return t===e?t:(Un(t,"iterate",Ba),Ei(e)?t:t.map(Gn))}function Eu(e){return Un(e=Ft(e),"iterate",Ba),e}const A0={__proto__:null,[Symbol.iterator](){return Uc(this,Symbol.iterator,Gn)},concat(...e){return os(this).concat(...e.map(t=>dt(t)?os(t):t))},entries(){return Uc(this,"entries",e=>(e[1]=Gn(e[1]),e))},every(e,t){return ur(this,"every",e,t,void 0,arguments)},filter(e,t){return ur(this,"filter",e,t,i=>i.map(Gn),arguments)},find(e,t){return ur(this,"find",e,t,Gn,arguments)},findIndex(e,t){return ur(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ur(this,"findLast",e,t,Gn,arguments)},findLastIndex(e,t){return ur(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ur(this,"forEach",e,t,void 0,arguments)},includes(...e){return Hc(this,"includes",e)},indexOf(...e){return Hc(this,"indexOf",e)},join(e){return os(this).join(e)},lastIndexOf(...e){return Hc(this,"lastIndexOf",e)},map(e,t){return ur(this,"map",e,t,void 0,arguments)},pop(){return ua(this,"pop")},push(...e){return ua(this,"push",e)},reduce(e,...t){return Ud(this,"reduce",e,t)},reduceRight(e,...t){return Ud(this,"reduceRight",e,t)},shift(){return ua(this,"shift")},some(e,t){return ur(this,"some",e,t,void 0,arguments)},splice(...e){return ua(this,"splice",e)},toReversed(){return os(this).toReversed()},toSorted(e){return os(this).toSorted(e)},toSpliced(...e){return os(this).toSpliced(...e)},unshift(...e){return ua(this,"unshift",e)},values(){return Uc(this,"values",Gn)}};function Uc(e,t,i){const o=Eu(e),c=o[t]();return o!==e&&!Ei(e)&&(c._next=c.next,c.next=()=>{const s=c._next();return s.value&&(s.value=i(s.value)),s}),c}const O0=Array.prototype;function ur(e,t,i,o,c,s){const u=Eu(e),f=u!==e&&!Ei(e),_=u[t];if(_!==O0[t]){const w=_.apply(e,s);return f?Gn(w):w}let v=i;u!==e&&(f?v=function(w,P){return i.call(this,Gn(w),P,e)}:i.length>2&&(v=function(w,P){return i.call(this,w,P,e)}));const b=_.call(u,v,o);return f&&c?c(b):b}function Ud(e,t,i,o){const c=Eu(e);let s=i;return c!==e&&(Ei(e)?i.length>3&&(s=function(u,f,_){return i.call(this,u,f,_,e)}):s=function(u,f,_){return i.call(this,u,Gn(f),_,e)}),c[t](s,...o)}function Hc(e,t,i){const o=Ft(e);Un(o,"iterate",Ba);const c=o[t](...i);return(c===-1||c===!1)&&od(i[0])?(i[0]=Ft(i[0]),o[t](...i)):c}function ua(e,t,i=[]){Zr(),Xh();const o=Ft(e)[t].apply(e,i);return Qh(),qr(),o}const R0=qh("__proto__,__v_isRef,__isVue"),rm=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ji));function D0(e){Ji(e)||(e=String(e));const t=Ft(this);return Un(t,"has",e),t.hasOwnProperty(e)}class om{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,o){const c=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!c;if(i==="__v_isReadonly")return c;if(i==="__v_isShallow")return s;if(i==="__v_raw")return o===(c?s?K0:um:s?lm:am).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const u=dt(t);if(!c){let _;if(u&&(_=A0[i]))return _;if(i==="hasOwnProperty")return D0}const f=Reflect.get(t,i,gn(t)?t:o);return(Ji(i)?rm.has(i):R0(i))||(c||Un(t,"get",i),s)?f:gn(f)?u&&Jh(i)?f:f.value:Jt(f)?c?hm(f):Za(f):f}}class sm extends om{constructor(t=!1){super(!1,t)}set(t,i,o,c){let s=t[i];if(!this._isShallow){const _=Co(s);if(!Ei(o)&&!Co(o)&&(s=Ft(s),o=Ft(o)),!dt(t)&&gn(s)&&!gn(o))return _?!1:(s.value=o,!0)}const u=dt(t)&&Jh(i)?Number(i)<t.length:Gt(t,i),f=Reflect.set(t,i,o,gn(t)?t:c);return t===Ft(c)&&(u?$r(o,s)&&pr(t,"set",i,o):pr(t,"add",i,o)),f}deleteProperty(t,i){const o=Gt(t,i);t[i];const c=Reflect.deleteProperty(t,i);return c&&o&&pr(t,"delete",i,void 0),c}has(t,i){const o=Reflect.has(t,i);return(!Ji(i)||!rm.has(i))&&Un(t,"has",i),o}ownKeys(t){return Un(t,"iterate",dt(t)?"length":yo),Reflect.ownKeys(t)}}class I0 extends om{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const F0=new sm,j0=new I0,N0=new sm(!0);const nd=e=>e,Mu=e=>Reflect.getPrototypeOf(e);function $l(e,t,i=!1,o=!1){e=e.__v_raw;const c=Ft(e),s=Ft(t);i||($r(t,s)&&Un(c,"get",t),Un(c,"get",s));const{has:u}=Mu(c),f=o?nd:i?ad:Gn;if(u.call(c,t))return f(e.get(t));if(u.call(c,s))return f(e.get(s));e!==c&&e.get(t)}function Ul(e,t=!1){const i=this.__v_raw,o=Ft(i),c=Ft(e);return t||($r(e,c)&&Un(o,"has",e),Un(o,"has",c)),e===c?i.has(e):i.has(e)||i.has(c)}function Hl(e,t=!1){return e=e.__v_raw,!t&&Un(Ft(e),"iterate",yo),Reflect.get(e,"size",e)}function Hd(e,t=!1){!t&&!Ei(e)&&!Co(e)&&(e=Ft(e));const i=Ft(this);return Mu(i).has.call(i,e)||(i.add(e),pr(i,"add",e,e)),this}function Zd(e,t,i=!1){!i&&!Ei(t)&&!Co(t)&&(t=Ft(t));const o=Ft(this),{has:c,get:s}=Mu(o);let u=c.call(o,e);u||(e=Ft(e),u=c.call(o,e));const f=s.call(o,e);return o.set(e,t),u?$r(t,f)&&pr(o,"set",e,t):pr(o,"add",e,t),this}function qd(e){const t=Ft(this),{has:i,get:o}=Mu(t);let c=i.call(t,e);c||(e=Ft(e),c=i.call(t,e)),o&&o.call(t,e);const s=t.delete(e);return c&&pr(t,"delete",e,void 0),s}function Kd(){const e=Ft(this),t=e.size!==0,i=e.clear();return t&&pr(e,"clear",void 0,void 0),i}function Zl(e,t){return function(o,c){const s=this,u=s.__v_raw,f=Ft(u),_=t?nd:e?ad:Gn;return!e&&Un(f,"iterate",yo),u.forEach((v,b)=>o.call(c,_(v),_(b),s))}}function ql(e,t,i){return function(...o){const c=this.__v_raw,s=Ft(c),u=ps(s),f=e==="entries"||e===Symbol.iterator&&u,_=e==="keys"&&u,v=c[e](...o),b=i?nd:t?ad:Gn;return!t&&Un(s,"iterate",_?_h:yo),{next(){const{value:w,done:P}=v.next();return P?{value:w,done:P}:{value:f?[b(w[0]),b(w[1])]:b(w),done:P}},[Symbol.iterator](){return this}}}}function Tr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function z0(){const e={get(s){return $l(this,s)},get size(){return Hl(this)},has:Ul,add:Hd,set:Zd,delete:qd,clear:Kd,forEach:Zl(!1,!1)},t={get(s){return $l(this,s,!1,!0)},get size(){return Hl(this)},has:Ul,add(s){return Hd.call(this,s,!0)},set(s,u){return Zd.call(this,s,u,!0)},delete:qd,clear:Kd,forEach:Zl(!1,!0)},i={get(s){return $l(this,s,!0)},get size(){return Hl(this,!0)},has(s){return Ul.call(this,s,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:Zl(!0,!1)},o={get(s){return $l(this,s,!0,!0)},get size(){return Hl(this,!0)},has(s){return Ul.call(this,s,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:Zl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ql(s,!1,!1),i[s]=ql(s,!0,!1),t[s]=ql(s,!1,!0),o[s]=ql(s,!0,!0)}),[e,i,t,o]}const[V0,G0,$0,U0]=z0();function id(e,t){const i=t?e?U0:$0:e?G0:V0;return(o,c,s)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?o:Reflect.get(Gt(i,c)&&c in o?i:o,c,s)}const H0={get:id(!1,!1)},Z0={get:id(!1,!0)},q0={get:id(!0,!1)};const am=new WeakMap,lm=new WeakMap,um=new WeakMap,K0=new WeakMap;function W0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function J0(e){return e.__v_skip||!Object.isExtensible(e)?0:W0(g0(e))}function Za(e){return Co(e)?e:rd(e,!1,F0,H0,am)}function cm(e){return rd(e,!1,N0,Z0,lm)}function hm(e){return rd(e,!0,j0,q0,um)}function rd(e,t,i,o,c){if(!Jt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=c.get(e);if(s)return s;const u=J0(e);if(u===0)return e;const f=new Proxy(e,u===2?o:i);return c.set(e,f),f}function fr(e){return Co(e)?fr(e.__v_raw):!!(e&&e.__v_isReactive)}function Co(e){return!!(e&&e.__v_isReadonly)}function Ei(e){return!!(e&&e.__v_isShallow)}function od(e){return e?!!e.__v_raw:!1}function Ft(e){const t=e&&e.__v_raw;return t?Ft(t):e}function sd(e){return!Gt(e,"__v_skip")&&Object.isExtensible(e)&&Gf(e,"__v_skip",!0),e}const Gn=e=>Jt(e)?Za(e):e,ad=e=>Jt(e)?hm(e):e;function gn(e){return e?e.__v_isRef===!0:!1}function ze(e){return dm(e,!1)}function Y0(e){return dm(e,!0)}function dm(e,t){return gn(e)?e:new X0(e,t)}class X0{constructor(t,i){this.dep=new td,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Ft(t),this._value=i?t:Gn(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,o=this.__v_isShallow||Ei(t)||Co(t);t=o?t:Ft(t),$r(t,i)&&(this._rawValue=t,this._value=o?t:Gn(t),this.dep.trigger())}}function ZT(e){e.dep&&e.dep.trigger()}function Ie(e){return gn(e)?e.value:e}const Q0={get:(e,t,i)=>t==="__v_raw"?e:Ie(Reflect.get(e,t,i)),set:(e,t,i,o)=>{const c=e[t];return gn(c)&&!gn(i)?(c.value=i,!0):Reflect.set(e,t,i,o)}};function pm(e){return fr(e)?e:new Proxy(e,Q0)}function ey(e){const t=dt(e)?new Array(e.length):{};for(const i in e)t[i]=ny(e,i);return t}class ty{constructor(t,i,o){this._object=t,this._key=i,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return T0(Ft(this._object),this._key)}}function ny(e,t,i){const o=e[t];return gn(o)?o:new ty(e,t,i)}class iy{constructor(t,i,o){this.fn=t,this.setter=i,this._value=void 0,this.dep=new td(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Xt!==this)return Xf(this,!0),!0}get value(){const t=this.dep.track();return tm(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ry(e,t,i=!1){let o,c;return vt(e)?o=e:(o=e.get,c=e.set),new iy(o,c,i)}const Kl={},cu=new WeakMap;let fo;function oy(e,t=!1,i=fo){if(i){let o=cu.get(i);o||cu.set(i,o=[]),o.push(e)}}function sy(e,t,i=Wt){const{immediate:o,deep:c,once:s,scheduler:u,augmentJob:f,call:_}=i,v=ne=>c?ne:Ei(ne)||c===!1||c===0?dr(ne,1):dr(ne);let b,w,P,O,R=!1,V=!1;if(gn(e)?(w=()=>e.value,R=Ei(e)):fr(e)?(w=()=>v(e),R=!0):dt(e)?(V=!0,R=e.some(ne=>fr(ne)||Ei(ne)),w=()=>e.map(ne=>{if(gn(ne))return ne.value;if(fr(ne))return v(ne);if(vt(ne))return _?_(ne,2):ne()})):vt(e)?t?w=_?()=>_(e,2):e:w=()=>{if(P){Zr();try{P()}finally{qr()}}const ne=fo;fo=b;try{return _?_(e,3,[O]):e(O)}finally{fo=ne}}:w=Wi,t&&c){const ne=w,pe=c===!0?1/0:c;w=()=>dr(ne(),pe)}const oe=Wf(),te=()=>{b.stop(),oe&&Wh(oe.effects,b)};if(s&&t){const ne=t;t=(...pe)=>{ne(...pe),te()}}let ee=V?new Array(e.length).fill(Kl):Kl;const z=ne=>{if(!(!(b.flags&1)||!b.dirty&&!ne))if(t){const pe=b.run();if(c||R||(V?pe.some((Se,Ne)=>$r(Se,ee[Ne])):$r(pe,ee))){P&&P();const Se=fo;fo=b;try{const Ne=[pe,ee===Kl?void 0:V&&ee[0]===Kl?[]:ee,O];_?_(t,3,Ne):t(...Ne),ee=pe}finally{fo=Se}}}else b.run()};return f&&f(z),b=new Jf(w),b.scheduler=u?()=>u(z,!1):z,O=ne=>oy(ne,!1,b),P=b.onStop=()=>{const ne=cu.get(b);if(ne){if(_)_(ne,4);else for(const pe of ne)pe();cu.delete(b)}},t?o?z(!0):ee=b.run():u?u(z.bind(null,!0),!0):b.run(),te.pause=b.pause.bind(b),te.resume=b.resume.bind(b),te.stop=te,te}function dr(e,t=1/0,i){if(t<=0||!Jt(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,gn(e))dr(e.value,t,i);else if(dt(e))for(let o=0;o<e.length;o++)dr(e[o],t,i);else if(bs(e)||ps(e))e.forEach(o=>{dr(o,t,i)});else if(Vf(e)){for(const o in e)dr(e[o],t,i);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&dr(e[o],t,i)}return e}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qa(e,t,i,o){try{return o?e(...o):e()}catch(c){Su(c,t,i)}}function Ii(e,t,i,o){if(vt(e)){const c=qa(e,t,i,o);return c&&Nf(c)&&c.catch(s=>{Su(s,t,i)}),c}if(dt(e)){const c=[];for(let s=0;s<e.length;s++)c.push(Ii(e[s],t,i,o));return c}}function Su(e,t,i,o=!0){const c=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||Wt;if(t){let f=t.parent;const _=t.proxy,v=`https://vuejs.org/error-reference/#runtime-${i}`;for(;f;){const b=f.ec;if(b){for(let w=0;w<b.length;w++)if(b[w](e,_,v)===!1)return}f=f.parent}if(s){Zr(),qa(s,null,10,[e,_,v]),qr();return}}ay(e,i,c,o,u)}function ay(e,t,i,o=!0,c=!1){if(c)throw e;console.error(e)}const Jn=[];let qi=-1;const ms=[];let jr=null,us=0;const fm=Promise.resolve();let hu=null;function ko(e){const t=hu||fm;return e?t.then(this?e.bind(this):e):t}function ly(e){let t=qi+1,i=Jn.length;for(;t<i;){const o=t+i>>>1,c=Jn[o],s=Ta(c);s<e||s===e&&c.flags&2?t=o+1:i=o}return t}function ld(e){if(!(e.flags&1)){const t=Ta(e),i=Jn[Jn.length-1];!i||!(e.flags&2)&&t>=Ta(i)?Jn.push(e):Jn.splice(ly(t),0,e),e.flags|=1,mm()}}function mm(){hu||(hu=fm.then(_m))}function uy(e){dt(e)?ms.push(...e):jr&&e.id===-1?jr.splice(us+1,0,e):e.flags&1||(ms.push(e),e.flags|=1),mm()}function Wd(e,t,i=qi+1){for(;i<Jn.length;i++){const o=Jn[i];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Jn.splice(i,1),i--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function du(e){if(ms.length){const t=[...new Set(ms)].sort((i,o)=>Ta(i)-Ta(o));if(ms.length=0,jr){jr.push(...t);return}for(jr=t,us=0;us<jr.length;us++){const i=jr[us];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}jr=null,us=0}}const Ta=e=>e.id==null?e.flags&2?-1:1/0:e.id;function _m(e){try{for(qi=0;qi<Jn.length;qi++){const t=Jn[qi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),qa(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;qi<Jn.length;qi++){const t=Jn[qi];t&&(t.flags&=-2)}qi=-1,Jn.length=0,du(),hu=null,(Jn.length||ms.length)&&_m()}}let Mn=null,gm=null;function pu(e){const t=Mn;return Mn=e,gm=e&&e.type.__scopeId||null,t}function J(e,t=Mn,i){if(!t||e._n)return e;const o=(...c)=>{o._d&&ap(-1);const s=pu(t);let u;try{u=e(...c)}finally{pu(s),o._d&&ap(1)}return u};return o._n=!0,o._c=!0,o._d=!0,o}function Rn(e,t){if(Mn===null)return e;const i=Ou(Mn),o=e.dirs||(e.dirs=[]);for(let c=0;c<t.length;c++){let[s,u,f,_=Wt]=t[c];s&&(vt(s)&&(s={mounted:s,updated:s}),s.deep&&dr(u),o.push({dir:s,instance:i,value:u,oldValue:void 0,arg:f,modifiers:_}))}return e}function Ki(e,t,i,o){const c=e.dirs,s=t&&t.dirs;for(let u=0;u<c.length;u++){const f=c[u];s&&(f.oldValue=s[u].value);let _=f.dir[o];_&&(Zr(),Ii(_,i,8,[e.el,f,e,t]),qr())}}const cy=Symbol("_vte"),ym=e=>e.__isTeleport,Nr=Symbol("_leaveCb"),Wl=Symbol("_enterCb");function hy(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cn(()=>{e.isMounted=!0}),Yi(()=>{e.isUnmounting=!0}),e}const Li=[Function,Array],vm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Li,onEnter:Li,onAfterEnter:Li,onEnterCancelled:Li,onBeforeLeave:Li,onLeave:Li,onAfterLeave:Li,onLeaveCancelled:Li,onBeforeAppear:Li,onAppear:Li,onAfterAppear:Li,onAppearCancelled:Li},bm=e=>{const t=e.subTree;return t.component?bm(t.component):t},dy={name:"BaseTransition",props:vm,setup(e,{slots:t}){const i=e_(),o=hy();return()=>{const c=t.default&&Lm(t.default(),!0);if(!c||!c.length)return;const s=xm(c),u=Ft(e),{mode:f}=u;if(o.isLeaving)return Zc(s);const _=Jd(s);if(!_)return Zc(s);let v=gh(_,u,o,i,P=>v=P);_.type!==$n&&Aa(_,v);const b=i.subTree,w=b&&Jd(b);if(w&&w.type!==$n&&!mo(_,w)&&bm(i).type!==$n){const P=gh(w,u,o,i);if(Aa(w,P),f==="out-in"&&_.type!==$n)return o.isLeaving=!0,P.afterLeave=()=>{o.isLeaving=!1,i.job.flags&8||i.update(),delete P.afterLeave},Zc(s);f==="in-out"&&_.type!==$n&&(P.delayLeave=(O,R,V)=>{const oe=wm(o,w);oe[String(w.key)]=w,O[Nr]=()=>{R(),O[Nr]=void 0,delete v.delayedLeave},v.delayedLeave=V})}return s}}};function xm(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==$n){t=i;break}}return t}const py=dy;function wm(e,t){const{leavingVNodes:i}=e;let o=i.get(t.type);return o||(o=Object.create(null),i.set(t.type,o)),o}function gh(e,t,i,o,c){const{appear:s,mode:u,persisted:f=!1,onBeforeEnter:_,onEnter:v,onAfterEnter:b,onEnterCancelled:w,onBeforeLeave:P,onLeave:O,onAfterLeave:R,onLeaveCancelled:V,onBeforeAppear:oe,onAppear:te,onAfterAppear:ee,onAppearCancelled:z}=t,ne=String(e.key),pe=wm(i,e),Se=(Ce,Fe)=>{Ce&&Ii(Ce,o,9,Fe)},Ne=(Ce,Fe)=>{const We=Fe[1];Se(Ce,Fe),dt(Ce)?Ce.every(Re=>Re.length<=1)&&We():Ce.length<=1&&We()},Le={mode:u,persisted:f,beforeEnter(Ce){let Fe=_;if(!i.isMounted)if(s)Fe=oe||_;else return;Ce[Nr]&&Ce[Nr](!0);const We=pe[ne];We&&mo(e,We)&&We.el[Nr]&&We.el[Nr](),Se(Fe,[Ce])},enter(Ce){let Fe=v,We=b,Re=w;if(!i.isMounted)if(s)Fe=te||v,We=ee||b,Re=z||w;else return;let at=!1;const Ct=Ce[Wl]=$t=>{at||(at=!0,$t?Se(Re,[Ce]):Se(We,[Ce]),Le.delayedLeave&&Le.delayedLeave(),Ce[Wl]=void 0)};Fe?Ne(Fe,[Ce,Ct]):Ct()},leave(Ce,Fe){const We=String(e.key);if(Ce[Wl]&&Ce[Wl](!0),i.isUnmounting)return Fe();Se(P,[Ce]);let Re=!1;const at=Ce[Nr]=Ct=>{Re||(Re=!0,Fe(),Ct?Se(V,[Ce]):Se(R,[Ce]),Ce[Nr]=void 0,pe[We]===e&&delete pe[We])};pe[We]=e,O?Ne(O,[Ce,at]):at()},clone(Ce){const Fe=gh(Ce,t,i,o,c);return c&&c(Fe),Fe}};return Le}function Zc(e){if(Pu(e))return e=Ur(e),e.children=null,e}function Jd(e){if(!Pu(e))return ym(e.type)&&e.children?xm(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&vt(i.default))return i.default()}}function Aa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Aa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Lm(e,t=!1,i){let o=[],c=0;for(let s=0;s<e.length;s++){let u=e[s];const f=i==null?u.key:String(i)+String(u.key!=null?u.key:s);u.type===je?(u.patchFlag&128&&c++,o=o.concat(Lm(u.children,t,f))):(t||u.type!==$n)&&o.push(f!=null?Ur(u,{key:f}):u)}if(c>1)for(let s=0;s<o.length;s++)o[s].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function Ot(e,t){return vt(e)?Sn({name:e.name},t,{setup:e}):e}function Cm(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fu(e,t,i,o,c=!1){if(dt(e)){e.forEach((R,V)=>fu(R,t&&(dt(t)?t[V]:t),i,o,c));return}if(vo(o)&&!c)return;const s=o.shapeFlag&4?Ou(o.component):o.el,u=c?null:s,{i:f,r:_}=e,v=t&&t.r,b=f.refs===Wt?f.refs={}:f.refs,w=f.setupState,P=Ft(w),O=w===Wt?()=>!1:R=>Gt(P,R);if(v!=null&&v!==_&&(ln(v)?(b[v]=null,O(v)&&(w[v]=null)):gn(v)&&(v.value=null)),vt(_))qa(_,f,12,[u,b]);else{const R=ln(_),V=gn(_);if(R||V){const oe=()=>{if(e.f){const te=R?O(_)?w[_]:b[_]:_.value;c?dt(te)&&Wh(te,s):dt(te)?te.includes(s)||te.push(s):R?(b[_]=[s],O(_)&&(w[_]=b[_])):(_.value=[s],e.k&&(b[e.k]=_.value))}else R?(b[_]=u,O(_)&&(w[_]=u)):V&&(_.value=u,e.k&&(b[e.k]=u))};u?(oe.id=-1,hi(oe,i)):oe()}}}let Yd=!1;const ss=()=>{Yd||(console.error("Hydration completed but contains mismatches."),Yd=!0)},fy=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",my=e=>e.namespaceURI.includes("MathML"),Jl=e=>{if(e.nodeType===1){if(fy(e))return"svg";if(my(e))return"mathml"}},Yl=e=>e.nodeType===8;function _y(e){const{mt:t,p:i,o:{patchProp:o,createText:c,nextSibling:s,parentNode:u,remove:f,insert:_,createComment:v}}=e,b=(z,ne)=>{if(!ne.hasChildNodes()){i(null,z,ne),du(),ne._vnode=z;return}w(ne.firstChild,z,null,null,null),du(),ne._vnode=z},w=(z,ne,pe,Se,Ne,Le=!1)=>{Le=Le||!!ne.dynamicChildren;const Ce=Yl(z)&&z.data==="[",Fe=()=>V(z,ne,pe,Se,Ne,Ce),{type:We,ref:Re,shapeFlag:at,patchFlag:Ct}=ne;let $t=z.nodeType;ne.el=z,Ct===-2&&(Le=!1,ne.dynamicChildren=null);let qe=null;switch(We){case xo:$t!==3?ne.children===""?(_(ne.el=c(""),u(z),z),qe=z):qe=Fe():(z.data!==ne.children&&(ss(),z.data=ne.children),qe=s(z));break;case $n:ee(z)?(qe=s(z),te(ne.el=z.content.firstChild,z,pe)):$t!==8||Ce?qe=Fe():qe=s(z);break;case xa:if(Ce&&(z=s(z),$t=z.nodeType),$t===1||$t===3){qe=z;const it=!ne.children.length;for(let Pe=0;Pe<ne.staticCount;Pe++)it&&(ne.children+=qe.nodeType===1?qe.outerHTML:qe.data),Pe===ne.staticCount-1&&(ne.anchor=qe),qe=s(qe);return Ce?s(qe):qe}else Fe();break;case je:Ce?qe=R(z,ne,pe,Se,Ne,Le):qe=Fe();break;default:if(at&1)($t!==1||ne.type.toLowerCase()!==z.tagName.toLowerCase())&&!ee(z)?qe=Fe():qe=P(z,ne,pe,Se,Ne,Le);else if(at&6){ne.slotScopeIds=Ne;const it=u(z);if(Ce?qe=oe(z):Yl(z)&&z.data==="teleport start"?qe=oe(z,z.data,"teleport end"):qe=s(z),t(ne,it,null,pe,Se,Jl(it),Le),vo(ne)){let Pe;Ce?(Pe=q(je),Pe.anchor=qe?qe.previousSibling:it.lastChild):Pe=z.nodeType===3?Ge(""):q("div"),Pe.el=z,ne.component.subTree=Pe}}else at&64?$t!==8?qe=Fe():qe=ne.type.hydrate(z,ne,pe,Se,Ne,Le,e,O):at&128&&(qe=ne.type.hydrate(z,ne,pe,Se,Jl(u(z)),Ne,Le,e,w))}return Re!=null&&fu(Re,null,Se,ne),qe},P=(z,ne,pe,Se,Ne,Le)=>{Le=Le||!!ne.dynamicChildren;const{type:Ce,props:Fe,patchFlag:We,shapeFlag:Re,dirs:at,transition:Ct}=ne,$t=Ce==="input"||Ce==="option";if($t||We!==-1){at&&Ki(ne,null,pe,"created");let qe=!1;if(ee(z)){qe=Gm(Se,Ct)&&pe&&pe.vnode.props&&pe.vnode.props.appear;const Pe=z.content.firstChild;qe&&Ct.beforeEnter(Pe),te(Pe,z,pe),ne.el=z=Pe}if(Re&16&&!(Fe&&(Fe.innerHTML||Fe.textContent))){let Pe=O(z.firstChild,ne,z,pe,Se,Ne,Le);for(;Pe;){Xl(z,1)||ss();const Qt=Pe;Pe=Pe.nextSibling,f(Qt)}}else if(Re&8){let Pe=ne.children;Pe[0]===`
`&&(z.tagName==="PRE"||z.tagName==="TEXTAREA")&&(Pe=Pe.slice(1)),z.textContent!==Pe&&(Xl(z,0)||ss(),z.textContent=ne.children)}if(Fe){if($t||!Le||We&48){const Pe=z.tagName.includes("-");for(const Qt in Fe)($t&&(Qt.endsWith("value")||Qt==="indeterminate")||$a(Qt)&&!fs(Qt)||Qt[0]==="."||Pe)&&o(z,Qt,null,Fe[Qt],void 0,pe)}else if(Fe.onClick)o(z,"onClick",null,Fe.onClick,void 0,pe);else if(We&4&&fr(Fe.style))for(const Pe in Fe.style)Fe.style[Pe]}let it;(it=Fe&&Fe.onVnodeBeforeMount)&&Ci(it,pe,ne),at&&Ki(ne,null,pe,"beforeMount"),((it=Fe&&Fe.onVnodeMounted)||at||qe)&&Wm(()=>{it&&Ci(it,pe,ne),qe&&Ct.enter(z),at&&Ki(ne,null,pe,"mounted")},Se)}return z.nextSibling},O=(z,ne,pe,Se,Ne,Le,Ce)=>{Ce=Ce||!!ne.dynamicChildren;const Fe=ne.children,We=Fe.length;for(let Re=0;Re<We;Re++){const at=Ce?Fe[Re]:Fe[Re]=ki(Fe[Re]),Ct=at.type===xo;z?(Ct&&!Ce&&Re+1<We&&ki(Fe[Re+1]).type===xo&&(_(c(z.data.slice(at.children.length)),pe,s(z)),z.data=at.children),z=w(z,at,Se,Ne,Le,Ce)):Ct&&!at.children?_(at.el=c(""),pe):(Xl(pe,1)||ss(),i(null,at,pe,null,Se,Ne,Jl(pe),Le))}return z},R=(z,ne,pe,Se,Ne,Le)=>{const{slotScopeIds:Ce}=ne;Ce&&(Ne=Ne?Ne.concat(Ce):Ce);const Fe=u(z),We=O(s(z),ne,Fe,pe,Se,Ne,Le);return We&&Yl(We)&&We.data==="]"?s(ne.anchor=We):(ss(),_(ne.anchor=v("]"),Fe,We),We)},V=(z,ne,pe,Se,Ne,Le)=>{if(Xl(z.parentElement,1)||ss(),ne.el=null,Le){const We=oe(z);for(;;){const Re=s(z);if(Re&&Re!==We)f(Re);else break}}const Ce=s(z),Fe=u(z);return f(z),i(null,ne,Fe,Ce,pe,Se,Jl(Fe),Ne),Ce},oe=(z,ne="[",pe="]")=>{let Se=0;for(;z;)if(z=s(z),z&&Yl(z)&&(z.data===ne&&Se++,z.data===pe)){if(Se===0)return s(z);Se--}return z},te=(z,ne,pe)=>{const Se=ne.parentNode;Se&&Se.replaceChild(z,ne);let Ne=pe;for(;Ne;)Ne.vnode.el===ne&&(Ne.vnode.el=Ne.subTree.el=z),Ne=Ne.parent},ee=z=>z.nodeType===1&&z.tagName==="TEMPLATE";return[b,w]}const Xd="data-allow-mismatch",gy={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Xl(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(Xd);)e=e.parentElement;const i=e&&e.getAttribute(Xd);if(i==null)return!1;if(i==="")return!0;{const o=i.split(",");return t===0&&o.includes("children")?!0:i.split(",").includes(gy[t])}}const vo=e=>!!e.type.__asyncLoader,Pu=e=>e.type.__isKeepAlive;function yy(e,t){km(e,"a",t)}function vy(e,t){km(e,"da",t)}function km(e,t,i=On){const o=e.__wdc||(e.__wdc=()=>{let c=i;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(Bu(t,o,i),i){let c=i.parent;for(;c&&c.parent;)Pu(c.parent.vnode)&&by(o,t,i,c),c=c.parent}}function by(e,t,i,o){const c=Bu(t,e,o,!0);yr(()=>{Wh(o[t],c)},i)}function Bu(e,t,i=On,o=!1){if(i){const c=i[e]||(i[e]=[]),s=t.__weh||(t.__weh=(...u)=>{Zr();const f=Ka(i),_=Ii(t,i,e,u);return f(),qr(),_});return o?c.unshift(s):c.push(s),s}}const gr=e=>(t,i=On)=>{(!Au||e==="sp")&&Bu(e,(...o)=>t(...o),i)},Em=gr("bm"),cn=gr("m"),xy=gr("bu"),wy=gr("u"),Yi=gr("bum"),yr=gr("um"),ud=gr("sp"),Ly=gr("rtg"),Cy=gr("rtc");function ky(e,t=On){Bu("ec",e,t)}const cd="components";function se(e,t){return Sm(cd,e,!0,t)||e}const Mm=Symbol.for("v-ndc");function So(e){return ln(e)?Sm(cd,e,!1)||e:e||Mm}function Sm(e,t,i=!0,o=!1){const c=Mn||On;if(c){const s=c.type;if(e===cd){const f=uv(s,!1);if(f&&(f===t||f===Si(t)||f===ku(Si(t))))return s}const u=Qd(c[e]||s[e],t)||Qd(c.appContext[e],t);return!u&&o?s:u}}function Qd(e,t){return e&&(e[t]||e[Si(t)]||e[ku(Si(t))])}function ut(e,t,i,o){let c;const s=i,u=dt(e);if(u||ln(e)){const f=u&&fr(e);let _=!1;f&&(_=!Ei(e),e=Eu(e)),c=new Array(e.length);for(let v=0,b=e.length;v<b;v++)c[v]=t(_?Gn(e[v]):e[v],v,void 0,s)}else if(typeof e=="number"){c=new Array(e);for(let f=0;f<e;f++)c[f]=t(f+1,f,void 0,s)}else if(Jt(e))if(e[Symbol.iterator])c=Array.from(e,(f,_)=>t(f,_,void 0,s));else{const f=Object.keys(e);c=new Array(f.length);for(let _=0,v=f.length;_<v;_++){const b=f[_];c[_]=t(e[b],b,_,s)}}else c=[];return c}function xt(e,t,i={},o,c){if(Mn.ce||Mn.parent&&vo(Mn.parent)&&Mn.parent.ce)return t!=="default"&&(i.name=t),S(),ye(je,null,[q("slot",i,o&&o())],64);let s=e[t];s&&s._c&&(s._d=!1),S();const u=s&&Pm(s(i)),f=ye(je,{key:(i.key||u&&u.key||`_${t}`)+(!u&&o?"_fb":"")},u||(o?o():[]),u&&e._===1?64:-2);return!c&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),s&&s._c&&(s._d=!0),f}function Pm(e){return e.some(t=>Ra(t)?!(t.type===$n||t.type===je&&!Pm(t.children)):!0)?e:null}const yh=e=>e?t_(e)?Ou(e):yh(e.parent):null,ba=Sn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yh(e.parent),$root:e=>yh(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>hd(e),$forceUpdate:e=>e.f||(e.f=()=>{ld(e.update)}),$nextTick:e=>e.n||(e.n=ko.bind(e.proxy)),$watch:e=>Ky.bind(e)}),qc=(e,t)=>e!==Wt&&!e.__isScriptSetup&&Gt(e,t),Ey={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:o,data:c,props:s,accessCache:u,type:f,appContext:_}=e;let v;if(t[0]!=="$"){const O=u[t];if(O!==void 0)switch(O){case 1:return o[t];case 2:return c[t];case 4:return i[t];case 3:return s[t]}else{if(qc(o,t))return u[t]=1,o[t];if(c!==Wt&&Gt(c,t))return u[t]=2,c[t];if((v=e.propsOptions[0])&&Gt(v,t))return u[t]=3,s[t];if(i!==Wt&&Gt(i,t))return u[t]=4,i[t];vh&&(u[t]=0)}}const b=ba[t];let w,P;if(b)return t==="$attrs"&&Un(e.attrs,"get",""),b(e);if((w=f.__cssModules)&&(w=w[t]))return w;if(i!==Wt&&Gt(i,t))return u[t]=4,i[t];if(P=_.config.globalProperties,Gt(P,t))return P[t]},set({_:e},t,i){const{data:o,setupState:c,ctx:s}=e;return qc(c,t)?(c[t]=i,!0):o!==Wt&&Gt(o,t)?(o[t]=i,!0):Gt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:o,appContext:c,propsOptions:s}},u){let f;return!!i[u]||e!==Wt&&Gt(e,u)||qc(t,u)||(f=s[0])&&Gt(f,u)||Gt(o,u)||Gt(ba,u)||Gt(c.config.globalProperties,u)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:Gt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function My(){return Sy().slots}function Sy(){const e=e_();return e.setupContext||(e.setupContext=i_(e))}function ep(e){return dt(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let vh=!0;function Py(e){const t=hd(e),i=e.proxy,o=e.ctx;vh=!1,t.beforeCreate&&tp(t.beforeCreate,e,"bc");const{data:c,computed:s,methods:u,watch:f,provide:_,inject:v,created:b,beforeMount:w,mounted:P,beforeUpdate:O,updated:R,activated:V,deactivated:oe,beforeDestroy:te,beforeUnmount:ee,destroyed:z,unmounted:ne,render:pe,renderTracked:Se,renderTriggered:Ne,errorCaptured:Le,serverPrefetch:Ce,expose:Fe,inheritAttrs:We,components:Re,directives:at,filters:Ct}=t;if(v&&By(v,o,null),u)for(const it in u){const Pe=u[it];vt(Pe)&&(o[it]=Pe.bind(i))}if(c){const it=c.call(i,i);Jt(it)&&(e.data=Za(it))}if(vh=!0,s)for(const it in s){const Pe=s[it],Qt=vt(Pe)?Pe.bind(i,i):vt(Pe.get)?Pe.get.bind(i,i):Wi,ot=!vt(Pe)&&vt(Pe.set)?Pe.set.bind(i):Wi,St=Ze({get:Qt,set:ot});Object.defineProperty(o,it,{enumerable:!0,configurable:!0,get:()=>St.value,set:Nt=>St.value=Nt})}if(f)for(const it in f)Bm(f[it],o,i,it);if(_){const it=vt(_)?_.call(i):_;Reflect.ownKeys(it).forEach(Pe=>{eu(Pe,it[Pe])})}b&&tp(b,e,"c");function qe(it,Pe){dt(Pe)?Pe.forEach(Qt=>it(Qt.bind(i))):Pe&&it(Pe.bind(i))}if(qe(Em,w),qe(cn,P),qe(xy,O),qe(wy,R),qe(yy,V),qe(vy,oe),qe(ky,Le),qe(Cy,Se),qe(Ly,Ne),qe(Yi,ee),qe(yr,ne),qe(ud,Ce),dt(Fe))if(Fe.length){const it=e.exposed||(e.exposed={});Fe.forEach(Pe=>{Object.defineProperty(it,Pe,{get:()=>i[Pe],set:Qt=>i[Pe]=Qt})})}else e.exposed||(e.exposed={});pe&&e.render===Wi&&(e.render=pe),We!=null&&(e.inheritAttrs=We),Re&&(e.components=Re),at&&(e.directives=at),Ce&&Cm(e)}function By(e,t,i=Wi){dt(e)&&(e=bh(e));for(const o in e){const c=e[o];let s;Jt(c)?"default"in c?s=Mi(c.from||o,c.default,!0):s=Mi(c.from||o):s=Mi(c),gn(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[o]=s}}function tp(e,t,i){Ii(dt(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,i)}function Bm(e,t,i,o){let c=o.includes(".")?Zm(i,o):()=>i[o];if(ln(e)){const s=t[e];vt(s)&&yn(c,s)}else if(vt(e))yn(c,e.bind(i));else if(Jt(e))if(dt(e))e.forEach(s=>Bm(s,t,i,o));else{const s=vt(e.handler)?e.handler.bind(i):t[e.handler];vt(s)&&yn(c,s,e)}}function hd(e){const t=e.type,{mixins:i,extends:o}=t,{mixins:c,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,f=s.get(t);let _;return f?_=f:!c.length&&!i&&!o?_=t:(_={},c.length&&c.forEach(v=>mu(_,v,u,!0)),mu(_,t,u)),Jt(t)&&s.set(t,_),_}function mu(e,t,i,o=!1){const{mixins:c,extends:s}=t;s&&mu(e,s,i,!0),c&&c.forEach(u=>mu(e,u,i,!0));for(const u in t)if(!(o&&u==="expose")){const f=Ty[u]||i&&i[u];e[u]=f?f(e[u],t[u]):t[u]}return e}const Ty={data:np,props:ip,emits:ip,methods:ma,computed:ma,beforeCreate:Kn,created:Kn,beforeMount:Kn,mounted:Kn,beforeUpdate:Kn,updated:Kn,beforeDestroy:Kn,beforeUnmount:Kn,destroyed:Kn,unmounted:Kn,activated:Kn,deactivated:Kn,errorCaptured:Kn,serverPrefetch:Kn,components:ma,directives:ma,watch:Oy,provide:np,inject:Ay};function np(e,t){return t?e?function(){return Sn(vt(e)?e.call(this,this):e,vt(t)?t.call(this,this):t)}:t:e}function Ay(e,t){return ma(bh(e),bh(t))}function bh(e){if(dt(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Kn(e,t){return e?[...new Set([].concat(e,t))]:t}function ma(e,t){return e?Sn(Object.create(null),e,t):t}function ip(e,t){return e?dt(e)&&dt(t)?[...new Set([...e,...t])]:Sn(Object.create(null),ep(e),ep(t??{})):t}function Oy(e,t){if(!e)return t;if(!t)return e;const i=Sn(Object.create(null),e);for(const o in t)i[o]=Kn(e[o],t[o]);return i}function Tm(){return{app:null,config:{isNativeTag:m0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ry=0;function Dy(e,t){return function(o,c=null){vt(o)||(o=Sn({},o)),c!=null&&!Jt(c)&&(c=null);const s=Tm(),u=new WeakSet,f=[];let _=!1;const v=s.app={_uid:Ry++,_component:o,_props:c,_container:null,_context:s,_instance:null,version:hv,get config(){return s.config},set config(b){},use(b,...w){return u.has(b)||(b&&vt(b.install)?(u.add(b),b.install(v,...w)):vt(b)&&(u.add(b),b(v,...w))),v},mixin(b){return s.mixins.includes(b)||s.mixins.push(b),v},component(b,w){return w?(s.components[b]=w,v):s.components[b]},directive(b,w){return w?(s.directives[b]=w,v):s.directives[b]},mount(b,w,P){if(!_){const O=v._ceVNode||q(o,c);return O.appContext=s,P===!0?P="svg":P===!1&&(P=void 0),w&&t?t(O,b):e(O,b,P),_=!0,v._container=b,b.__vue_app__=v,Ou(O.component)}},onUnmount(b){f.push(b)},unmount(){_&&(Ii(f,v._instance,16),e(null,v._container),delete v._container.__vue_app__)},provide(b,w){return s.provides[b]=w,v},runWithContext(b){const w=bo;bo=v;try{return b()}finally{bo=w}}};return v}}let bo=null;function eu(e,t){if(On){let i=On.provides;const o=On.parent&&On.parent.provides;o===i&&(i=On.provides=Object.create(o)),i[e]=t}}function Mi(e,t,i=!1){const o=On||Mn;if(o||bo){const c=bo?bo._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(c&&e in c)return c[e];if(arguments.length>1)return i&&vt(t)?t.call(o&&o.proxy):t}}function Iy(){return!!(On||Mn||bo)}const Am={},Om=()=>Object.create(Am),Rm=e=>Object.getPrototypeOf(e)===Am;function Fy(e,t,i,o=!1){const c={},s=Om();e.propsDefaults=Object.create(null),Dm(e,t,c,s);for(const u in e.propsOptions[0])u in c||(c[u]=void 0);i?e.props=o?c:cm(c):e.type.props?e.props=c:e.props=s,e.attrs=s}function jy(e,t,i,o){const{props:c,attrs:s,vnode:{patchFlag:u}}=e,f=Ft(c),[_]=e.propsOptions;let v=!1;if((o||u>0)&&!(u&16)){if(u&8){const b=e.vnode.dynamicProps;for(let w=0;w<b.length;w++){let P=b[w];if(Tu(e.emitsOptions,P))continue;const O=t[P];if(_)if(Gt(s,P))O!==s[P]&&(s[P]=O,v=!0);else{const R=Si(P);c[R]=xh(_,f,R,O,e,!1)}else O!==s[P]&&(s[P]=O,v=!0)}}}else{Dm(e,t,c,s)&&(v=!0);let b;for(const w in f)(!t||!Gt(t,w)&&((b=Hr(w))===w||!Gt(t,b)))&&(_?i&&(i[w]!==void 0||i[b]!==void 0)&&(c[w]=xh(_,f,w,void 0,e,!0)):delete c[w]);if(s!==f)for(const w in s)(!t||!Gt(t,w))&&(delete s[w],v=!0)}v&&pr(e.attrs,"set","")}function Dm(e,t,i,o){const[c,s]=e.propsOptions;let u=!1,f;if(t)for(let _ in t){if(fs(_))continue;const v=t[_];let b;c&&Gt(c,b=Si(_))?!s||!s.includes(b)?i[b]=v:(f||(f={}))[b]=v:Tu(e.emitsOptions,_)||(!(_ in o)||v!==o[_])&&(o[_]=v,u=!0)}if(s){const _=Ft(i),v=f||Wt;for(let b=0;b<s.length;b++){const w=s[b];i[w]=xh(c,_,w,v[w],e,!Gt(v,w))}}return u}function xh(e,t,i,o,c,s){const u=e[i];if(u!=null){const f=Gt(u,"default");if(f&&o===void 0){const _=u.default;if(u.type!==Function&&!u.skipFactory&&vt(_)){const{propsDefaults:v}=c;if(i in v)o=v[i];else{const b=Ka(c);o=v[i]=_.call(null,t),b()}}else o=_;c.ce&&c.ce._setProp(i,o)}u[0]&&(s&&!f?o=!1:u[1]&&(o===""||o===Hr(i))&&(o=!0))}return o}const Ny=new WeakMap;function Im(e,t,i=!1){const o=i?Ny:t.propsCache,c=o.get(e);if(c)return c;const s=e.props,u={},f=[];let _=!1;if(!vt(e)){const b=w=>{_=!0;const[P,O]=Im(w,t,!0);Sn(u,P),O&&f.push(...O)};!i&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!s&&!_)return Jt(e)&&o.set(e,ds),ds;if(dt(s))for(let b=0;b<s.length;b++){const w=Si(s[b]);rp(w)&&(u[w]=Wt)}else if(s)for(const b in s){const w=Si(b);if(rp(w)){const P=s[b],O=u[w]=dt(P)||vt(P)?{type:P}:Sn({},P),R=O.type;let V=!1,oe=!0;if(dt(R))for(let te=0;te<R.length;++te){const ee=R[te],z=vt(ee)&&ee.name;if(z==="Boolean"){V=!0;break}else z==="String"&&(oe=!1)}else V=vt(R)&&R.name==="Boolean";O[0]=V,O[1]=oe,(V||Gt(O,"default"))&&f.push(w)}}const v=[u,f];return Jt(e)&&o.set(e,v),v}function rp(e){return e[0]!=="$"&&!fs(e)}const Fm=e=>e[0]==="_"||e==="$stable",dd=e=>dt(e)?e.map(ki):[ki(e)],zy=(e,t,i)=>{if(t._n)return t;const o=J((...c)=>dd(t(...c)),i);return o._c=!1,o},jm=(e,t,i)=>{const o=e._ctx;for(const c in e){if(Fm(c))continue;const s=e[c];if(vt(s))t[c]=zy(c,s,o);else if(s!=null){const u=dd(s);t[c]=()=>u}}},Nm=(e,t)=>{const i=dd(t);e.slots.default=()=>i},zm=(e,t,i)=>{for(const o in t)(i||o!=="_")&&(e[o]=t[o])},Vy=(e,t,i)=>{const o=e.slots=Om();if(e.vnode.shapeFlag&32){const c=t._;c?(zm(o,t,i),i&&Gf(o,"_",c,!0)):jm(t,o)}else t&&Nm(e,t)},Gy=(e,t,i)=>{const{vnode:o,slots:c}=e;let s=!0,u=Wt;if(o.shapeFlag&32){const f=t._;f?i&&f===1?s=!1:zm(c,t,i):(s=!t.$stable,jm(t,c)),u=t}else t&&(Nm(e,t),u={default:1});if(s)for(const f in c)!Fm(f)&&u[f]==null&&delete c[f]},hi=Wm;function $y(e){return Vm(e)}function Uy(e){return Vm(e,_y)}function Vm(e,t){const i=$f();i.__VUE__=!0;const{insert:o,remove:c,patchProp:s,createElement:u,createText:f,createComment:_,setText:v,setElementText:b,parentNode:w,nextSibling:P,setScopeId:O=Wi,insertStaticContent:R}=e,V=($,K,fe,Te=null,we=null,Ae=null,He=void 0,$e=null,Ve=!!K.dynamicChildren)=>{if($===K)return;$&&!mo($,K)&&(Te=xe($),Nt($,we,Ae,!0),$=null),K.patchFlag===-2&&(Ve=!1,K.dynamicChildren=null);const{type:De,ref:ht,shapeFlag:Ye}=K;switch(De){case xo:oe($,K,fe,Te);break;case $n:te($,K,fe,Te);break;case xa:$==null&&ee(K,fe,Te,He);break;case je:Re($,K,fe,Te,we,Ae,He,$e,Ve);break;default:Ye&1?pe($,K,fe,Te,we,Ae,He,$e,Ve):Ye&6?at($,K,fe,Te,we,Ae,He,$e,Ve):(Ye&64||Ye&128)&&De.process($,K,fe,Te,we,Ae,He,$e,Ve,tt)}ht!=null&&we&&fu(ht,$&&$.ref,Ae,K||$,!K)},oe=($,K,fe,Te)=>{if($==null)o(K.el=f(K.children),fe,Te);else{const we=K.el=$.el;K.children!==$.children&&v(we,K.children)}},te=($,K,fe,Te)=>{$==null?o(K.el=_(K.children||""),fe,Te):K.el=$.el},ee=($,K,fe,Te)=>{[$.el,$.anchor]=R($.children,K,fe,Te,$.el,$.anchor)},z=({el:$,anchor:K},fe,Te)=>{let we;for(;$&&$!==K;)we=P($),o($,fe,Te),$=we;o(K,fe,Te)},ne=({el:$,anchor:K})=>{let fe;for(;$&&$!==K;)fe=P($),c($),$=fe;c(K)},pe=($,K,fe,Te,we,Ae,He,$e,Ve)=>{K.type==="svg"?He="svg":K.type==="math"&&(He="mathml"),$==null?Se(K,fe,Te,we,Ae,He,$e,Ve):Ce($,K,we,Ae,He,$e,Ve)},Se=($,K,fe,Te,we,Ae,He,$e)=>{let Ve,De;const{props:ht,shapeFlag:Ye,transition:rt,dirs:pt}=$;if(Ve=$.el=u($.type,Ae,ht&&ht.is,ht),Ye&8?b(Ve,$.children):Ye&16&&Le($.children,Ve,null,Te,we,Kc($,Ae),He,$e),pt&&Ki($,null,Te,"created"),Ne(Ve,$,$.scopeId,He,Te),ht){for(const zt in ht)zt!=="value"&&!fs(zt)&&s(Ve,zt,null,ht[zt],Ae,Te);"value"in ht&&s(Ve,"value",null,ht.value,Ae),(De=ht.onVnodeBeforeMount)&&Ci(De,Te,$)}pt&&Ki($,null,Te,"beforeMount");const Et=Gm(we,rt);Et&&rt.beforeEnter(Ve),o(Ve,K,fe),((De=ht&&ht.onVnodeMounted)||Et||pt)&&hi(()=>{De&&Ci(De,Te,$),Et&&rt.enter(Ve),pt&&Ki($,null,Te,"mounted")},we)},Ne=($,K,fe,Te,we)=>{if(fe&&O($,fe),Te)for(let Ae=0;Ae<Te.length;Ae++)O($,Te[Ae]);if(we){let Ae=we.subTree;if(K===Ae||Km(Ae.type)&&(Ae.ssContent===K||Ae.ssFallback===K)){const He=we.vnode;Ne($,He,He.scopeId,He.slotScopeIds,we.parent)}}},Le=($,K,fe,Te,we,Ae,He,$e,Ve=0)=>{for(let De=Ve;De<$.length;De++){const ht=$[De]=$e?zr($[De]):ki($[De]);V(null,ht,K,fe,Te,we,Ae,He,$e)}},Ce=($,K,fe,Te,we,Ae,He)=>{const $e=K.el=$.el;let{patchFlag:Ve,dynamicChildren:De,dirs:ht}=K;Ve|=$.patchFlag&16;const Ye=$.props||Wt,rt=K.props||Wt;let pt;if(fe&&uo(fe,!1),(pt=rt.onVnodeBeforeUpdate)&&Ci(pt,fe,K,$),ht&&Ki(K,$,fe,"beforeUpdate"),fe&&uo(fe,!0),(Ye.innerHTML&&rt.innerHTML==null||Ye.textContent&&rt.textContent==null)&&b($e,""),De?Fe($.dynamicChildren,De,$e,fe,Te,Kc(K,we),Ae):He||Pe($,K,$e,null,fe,Te,Kc(K,we),Ae,!1),Ve>0){if(Ve&16)We($e,Ye,rt,fe,we);else if(Ve&2&&Ye.class!==rt.class&&s($e,"class",null,rt.class,we),Ve&4&&s($e,"style",Ye.style,rt.style,we),Ve&8){const Et=K.dynamicProps;for(let zt=0;zt<Et.length;zt++){const Rt=Et[zt],Cn=Ye[Rt],mn=rt[Rt];(mn!==Cn||Rt==="value")&&s($e,Rt,Cn,mn,we,fe)}}Ve&1&&$.children!==K.children&&b($e,K.children)}else!He&&De==null&&We($e,Ye,rt,fe,we);((pt=rt.onVnodeUpdated)||ht)&&hi(()=>{pt&&Ci(pt,fe,K,$),ht&&Ki(K,$,fe,"updated")},Te)},Fe=($,K,fe,Te,we,Ae,He)=>{for(let $e=0;$e<K.length;$e++){const Ve=$[$e],De=K[$e],ht=Ve.el&&(Ve.type===je||!mo(Ve,De)||Ve.shapeFlag&70)?w(Ve.el):fe;V(Ve,De,ht,null,Te,we,Ae,He,!0)}},We=($,K,fe,Te,we)=>{if(K!==fe){if(K!==Wt)for(const Ae in K)!fs(Ae)&&!(Ae in fe)&&s($,Ae,K[Ae],null,we,Te);for(const Ae in fe){if(fs(Ae))continue;const He=fe[Ae],$e=K[Ae];He!==$e&&Ae!=="value"&&s($,Ae,$e,He,we,Te)}"value"in fe&&s($,"value",K.value,fe.value,we)}},Re=($,K,fe,Te,we,Ae,He,$e,Ve)=>{const De=K.el=$?$.el:f(""),ht=K.anchor=$?$.anchor:f("");let{patchFlag:Ye,dynamicChildren:rt,slotScopeIds:pt}=K;pt&&($e=$e?$e.concat(pt):pt),$==null?(o(De,fe,Te),o(ht,fe,Te),Le(K.children||[],fe,ht,we,Ae,He,$e,Ve)):Ye>0&&Ye&64&&rt&&$.dynamicChildren?(Fe($.dynamicChildren,rt,fe,we,Ae,He,$e),(K.key!=null||we&&K===we.subTree)&&$m($,K,!0)):Pe($,K,fe,ht,we,Ae,He,$e,Ve)},at=($,K,fe,Te,we,Ae,He,$e,Ve)=>{K.slotScopeIds=$e,$==null?K.shapeFlag&512?we.ctx.activate(K,fe,Te,He,Ve):Ct(K,fe,Te,we,Ae,He,Ve):$t($,K,Ve)},Ct=($,K,fe,Te,we,Ae,He)=>{const $e=$.component=ov($,Te,we);if(Pu($)&&($e.ctx.renderer=tt),sv($e,!1,He),$e.asyncDep){if(we&&we.registerDep($e,qe,He),!$.el){const Ve=$e.subTree=q($n);te(null,Ve,K,fe)}}else qe($e,$,K,fe,we,Ae,He)},$t=($,K,fe)=>{const Te=K.component=$.component;if(Qy($,K,fe))if(Te.asyncDep&&!Te.asyncResolved){it(Te,K,fe);return}else Te.next=K,Te.update();else K.el=$.el,Te.vnode=K},qe=($,K,fe,Te,we,Ae,He)=>{const $e=()=>{if($.isMounted){let{next:Ye,bu:rt,u:pt,parent:Et,vnode:zt}=$;{const Bn=Um($);if(Bn){Ye&&(Ye.el=zt.el,it($,Ye,He)),Bn.asyncDep.then(()=>{$.isUnmounted||$e()});return}}let Rt=Ye,Cn;uo($,!1),Ye?(Ye.el=zt.el,it($,Ye,He)):Ye=zt,rt&&Ql(rt),(Cn=Ye.props&&Ye.props.onVnodeBeforeUpdate)&&Ci(Cn,Et,Ye,zt),uo($,!0);const mn=Wc($),vn=$.subTree;$.subTree=mn,V(vn,mn,w(vn.el),xe(vn),$,we,Ae),Ye.el=mn.el,Rt===null&&ev($,mn.el),pt&&hi(pt,we),(Cn=Ye.props&&Ye.props.onVnodeUpdated)&&hi(()=>Ci(Cn,Et,Ye,zt),we)}else{let Ye;const{el:rt,props:pt}=K,{bm:Et,m:zt,parent:Rt,root:Cn,type:mn}=$,vn=vo(K);if(uo($,!1),Et&&Ql(Et),!vn&&(Ye=pt&&pt.onVnodeBeforeMount)&&Ci(Ye,Rt,K),uo($,!0),rt&&jt){const Bn=()=>{$.subTree=Wc($),jt(rt,$.subTree,$,we,null)};vn&&mn.__asyncHydrate?mn.__asyncHydrate(rt,$,Bn):Bn()}else{Cn.ce&&Cn.ce._injectChildStyle(mn);const Bn=$.subTree=Wc($);V(null,Bn,fe,Te,$,we,Ae),K.el=Bn.el}if(zt&&hi(zt,we),!vn&&(Ye=pt&&pt.onVnodeMounted)){const Bn=K;hi(()=>Ci(Ye,Rt,Bn),we)}(K.shapeFlag&256||Rt&&vo(Rt.vnode)&&Rt.vnode.shapeFlag&256)&&$.a&&hi($.a,we),$.isMounted=!0,K=fe=Te=null}};$.scope.on();const Ve=$.effect=new Jf($e);$.scope.off();const De=$.update=Ve.run.bind(Ve),ht=$.job=Ve.runIfDirty.bind(Ve);ht.i=$,ht.id=$.uid,Ve.scheduler=()=>ld(ht),uo($,!0),De()},it=($,K,fe)=>{K.component=$;const Te=$.vnode.props;$.vnode=K,$.next=null,jy($,K.props,Te,fe),Gy($,K.children,fe),Zr(),Wd($),qr()},Pe=($,K,fe,Te,we,Ae,He,$e,Ve=!1)=>{const De=$&&$.children,ht=$?$.shapeFlag:0,Ye=K.children,{patchFlag:rt,shapeFlag:pt}=K;if(rt>0){if(rt&128){ot(De,Ye,fe,Te,we,Ae,He,$e,Ve);return}else if(rt&256){Qt(De,Ye,fe,Te,we,Ae,He,$e,Ve);return}}pt&8?(ht&16&&mt(De,we,Ae),Ye!==De&&b(fe,Ye)):ht&16?pt&16?ot(De,Ye,fe,Te,we,Ae,He,$e,Ve):mt(De,we,Ae,!0):(ht&8&&b(fe,""),pt&16&&Le(Ye,fe,Te,we,Ae,He,$e,Ve))},Qt=($,K,fe,Te,we,Ae,He,$e,Ve)=>{$=$||ds,K=K||ds;const De=$.length,ht=K.length,Ye=Math.min(De,ht);let rt;for(rt=0;rt<Ye;rt++){const pt=K[rt]=Ve?zr(K[rt]):ki(K[rt]);V($[rt],pt,fe,null,we,Ae,He,$e,Ve)}De>ht?mt($,we,Ae,!0,!1,Ye):Le(K,fe,Te,we,Ae,He,$e,Ve,Ye)},ot=($,K,fe,Te,we,Ae,He,$e,Ve)=>{let De=0;const ht=K.length;let Ye=$.length-1,rt=ht-1;for(;De<=Ye&&De<=rt;){const pt=$[De],Et=K[De]=Ve?zr(K[De]):ki(K[De]);if(mo(pt,Et))V(pt,Et,fe,null,we,Ae,He,$e,Ve);else break;De++}for(;De<=Ye&&De<=rt;){const pt=$[Ye],Et=K[rt]=Ve?zr(K[rt]):ki(K[rt]);if(mo(pt,Et))V(pt,Et,fe,null,we,Ae,He,$e,Ve);else break;Ye--,rt--}if(De>Ye){if(De<=rt){const pt=rt+1,Et=pt<ht?K[pt].el:Te;for(;De<=rt;)V(null,K[De]=Ve?zr(K[De]):ki(K[De]),fe,Et,we,Ae,He,$e,Ve),De++}}else if(De>rt)for(;De<=Ye;)Nt($[De],we,Ae,!0),De++;else{const pt=De,Et=De,zt=new Map;for(De=Et;De<=rt;De++){const Tn=K[De]=Ve?zr(K[De]):ki(K[De]);Tn.key!=null&&zt.set(Tn.key,De)}let Rt,Cn=0;const mn=rt-Et+1;let vn=!1,Bn=0;const _i=new Array(mn);for(De=0;De<mn;De++)_i[De]=0;for(De=pt;De<=Ye;De++){const Tn=$[De];if(Cn>=mn){Nt(Tn,we,Ae,!0);continue}let bn;if(Tn.key!=null)bn=zt.get(Tn.key);else for(Rt=Et;Rt<=rt;Rt++)if(_i[Rt-Et]===0&&mo(Tn,K[Rt])){bn=Rt;break}bn===void 0?Nt(Tn,we,Ae,!0):(_i[bn-Et]=De+1,bn>=Bn?Bn=bn:vn=!0,V(Tn,K[bn],fe,null,we,Ae,He,$e,Ve),Cn++)}const Pi=vn?Hy(_i):ds;for(Rt=Pi.length-1,De=mn-1;De>=0;De--){const Tn=Et+De,bn=K[Tn],To=Tn+1<ht?K[Tn+1].el:Te;_i[De]===0?V(null,bn,fe,To,we,Ae,He,$e,Ve):vn&&(Rt<0||De!==Pi[Rt]?St(bn,fe,To,2):Rt--)}}},St=($,K,fe,Te,we=null)=>{const{el:Ae,type:He,transition:$e,children:Ve,shapeFlag:De}=$;if(De&6){St($.component.subTree,K,fe,Te);return}if(De&128){$.suspense.move(K,fe,Te);return}if(De&64){He.move($,K,fe,tt);return}if(He===je){o(Ae,K,fe);for(let Ye=0;Ye<Ve.length;Ye++)St(Ve[Ye],K,fe,Te);o($.anchor,K,fe);return}if(He===xa){z($,K,fe);return}if(Te!==2&&De&1&&$e)if(Te===0)$e.beforeEnter(Ae),o(Ae,K,fe),hi(()=>$e.enter(Ae),we);else{const{leave:Ye,delayLeave:rt,afterLeave:pt}=$e,Et=()=>o(Ae,K,fe),zt=()=>{Ye(Ae,()=>{Et(),pt&&pt()})};rt?rt(Ae,Et,zt):zt()}else o(Ae,K,fe)},Nt=($,K,fe,Te=!1,we=!1)=>{const{type:Ae,props:He,ref:$e,children:Ve,dynamicChildren:De,shapeFlag:ht,patchFlag:Ye,dirs:rt,cacheIndex:pt}=$;if(Ye===-2&&(we=!1),$e!=null&&fu($e,null,fe,$,!0),pt!=null&&(K.renderCache[pt]=void 0),ht&256){K.ctx.deactivate($);return}const Et=ht&1&&rt,zt=!vo($);let Rt;if(zt&&(Rt=He&&He.onVnodeBeforeUnmount)&&Ci(Rt,K,$),ht&6)Bt($.component,fe,Te);else{if(ht&128){$.suspense.unmount(fe,Te);return}Et&&Ki($,null,K,"beforeUnmount"),ht&64?$.type.remove($,K,fe,tt,Te):De&&!De.hasOnce&&(Ae!==je||Ye>0&&Ye&64)?mt(De,K,fe,!1,!0):(Ae===je&&Ye&384||!we&&ht&16)&&mt(Ve,K,fe),Te&&rn($)}(zt&&(Rt=He&&He.onVnodeUnmounted)||Et)&&hi(()=>{Rt&&Ci(Rt,K,$),Et&&Ki($,null,K,"unmounted")},fe)},rn=$=>{const{type:K,el:fe,anchor:Te,transition:we}=$;if(K===je){Ut(fe,Te);return}if(K===xa){ne($);return}const Ae=()=>{c(fe),we&&!we.persisted&&we.afterLeave&&we.afterLeave()};if($.shapeFlag&1&&we&&!we.persisted){const{leave:He,delayLeave:$e}=we,Ve=()=>He(fe,Ae);$e?$e($.el,Ae,Ve):Ve()}else Ae()},Ut=($,K)=>{let fe;for(;$!==K;)fe=P($),c($),$=fe;c(K)},Bt=($,K,fe)=>{const{bum:Te,scope:we,job:Ae,subTree:He,um:$e,m:Ve,a:De}=$;op(Ve),op(De),Te&&Ql(Te),we.stop(),Ae&&(Ae.flags|=8,Nt(He,$,K,fe)),$e&&hi($e,K),hi(()=>{$.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},mt=($,K,fe,Te=!1,we=!1,Ae=0)=>{for(let He=Ae;He<$.length;He++)Nt($[He],K,fe,Te,we)},xe=$=>{if($.shapeFlag&6)return xe($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const K=P($.anchor||$.el),fe=K&&K[cy];return fe?P(fe):K};let Ke=!1;const Ue=($,K,fe)=>{$==null?K._vnode&&Nt(K._vnode,null,null,!0):V(K._vnode||null,$,K,null,null,null,fe),K._vnode=$,Ke||(Ke=!0,Wd(),du(),Ke=!1)},tt={p:V,um:Nt,m:St,r:rn,mt:Ct,mc:Le,pc:Pe,pbc:Fe,n:xe,o:e};let Pt,jt;return t&&([Pt,jt]=t(tt)),{render:Ue,hydrate:Pt,createApp:Dy(Ue,Pt)}}function Kc({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function uo({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Gm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function $m(e,t,i=!1){const o=e.children,c=t.children;if(dt(o)&&dt(c))for(let s=0;s<o.length;s++){const u=o[s];let f=c[s];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=c[s]=zr(c[s]),f.el=u.el),!i&&f.patchFlag!==-2&&$m(u,f)),f.type===xo&&(f.el=u.el)}}function Hy(e){const t=e.slice(),i=[0];let o,c,s,u,f;const _=e.length;for(o=0;o<_;o++){const v=e[o];if(v!==0){if(c=i[i.length-1],e[c]<v){t[o]=c,i.push(o);continue}for(s=0,u=i.length-1;s<u;)f=s+u>>1,e[i[f]]<v?s=f+1:u=f;v<e[i[s]]&&(s>0&&(t[o]=i[s-1]),i[s]=o)}}for(s=i.length,u=i[s-1];s-- >0;)i[s]=u,u=t[u];return i}function Um(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Um(t)}function op(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zy=Symbol.for("v-scx"),qy=()=>Mi(Zy);function yn(e,t,i){return Hm(e,t,i)}function Hm(e,t,i=Wt){const{immediate:o,deep:c,flush:s,once:u}=i,f=Sn({},i);let _;if(Au)if(s==="sync"){const P=qy();_=P.__watcherHandles||(P.__watcherHandles=[])}else if(!t||o)f.once=!0;else{const P=()=>{};return P.stop=Wi,P.resume=Wi,P.pause=Wi,P}const v=On;f.call=(P,O,R)=>Ii(P,v,O,R);let b=!1;s==="post"?f.scheduler=P=>{hi(P,v&&v.suspense)}:s!=="sync"&&(b=!0,f.scheduler=(P,O)=>{O?P():ld(P)}),f.augmentJob=P=>{t&&(P.flags|=4),b&&(P.flags|=2,v&&(P.id=v.uid,P.i=v))};const w=sy(e,t,f);return _&&_.push(w),w}function Ky(e,t,i){const o=this.proxy,c=ln(e)?e.includes(".")?Zm(o,e):()=>o[e]:e.bind(o,o);let s;vt(t)?s=t:(s=t.handler,i=t);const u=Ka(this),f=Hm(c,s.bind(o),i);return u(),f}function Zm(e,t){const i=t.split(".");return()=>{let o=e;for(let c=0;c<i.length&&o;c++)o=o[i[c]];return o}}const Wy=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Si(t)}Modifiers`]||e[`${Hr(t)}Modifiers`];function Jy(e,t,...i){if(e.isUnmounted)return;const o=e.vnode.props||Wt;let c=i;const s=t.startsWith("update:"),u=s&&Wy(o,t.slice(7));u&&(u.trim&&(c=i.map(b=>ln(b)?b.trim():b)),u.number&&(c=i.map(lu)));let f,_=o[f=Vc(t)]||o[f=Vc(Si(t))];!_&&s&&(_=o[f=Vc(Hr(t))]),_&&Ii(_,e,6,c);const v=o[f+"Once"];if(v){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,Ii(v,e,6,c)}}function qm(e,t,i=!1){const o=t.emitsCache,c=o.get(e);if(c!==void 0)return c;const s=e.emits;let u={},f=!1;if(!vt(e)){const _=v=>{const b=qm(v,t,!0);b&&(f=!0,Sn(u,b))};!i&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}return!s&&!f?(Jt(e)&&o.set(e,null),null):(dt(s)?s.forEach(_=>u[_]=null):Sn(u,s),Jt(e)&&o.set(e,u),u)}function Tu(e,t){return!e||!$a(t)?!1:(t=t.slice(2).replace(/Once$/,""),Gt(e,t[0].toLowerCase()+t.slice(1))||Gt(e,Hr(t))||Gt(e,t))}function Wc(e){const{type:t,vnode:i,proxy:o,withProxy:c,propsOptions:[s],slots:u,attrs:f,emit:_,render:v,renderCache:b,props:w,data:P,setupState:O,ctx:R,inheritAttrs:V}=e,oe=pu(e);let te,ee;try{if(i.shapeFlag&4){const ne=c||o,pe=ne;te=ki(v.call(pe,ne,b,w,O,P,R)),ee=f}else{const ne=t;te=ki(ne.length>1?ne(w,{attrs:f,slots:u,emit:_}):ne(w,null)),ee=t.props?f:Yy(f)}}catch(ne){wa.length=0,Su(ne,e,1),te=q($n)}let z=te;if(ee&&V!==!1){const ne=Object.keys(ee),{shapeFlag:pe}=z;ne.length&&pe&7&&(s&&ne.some(Kh)&&(ee=Xy(ee,s)),z=Ur(z,ee,!1,!0))}return i.dirs&&(z=Ur(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(i.dirs):i.dirs),i.transition&&Aa(z,i.transition),te=z,pu(oe),te}const Yy=e=>{let t;for(const i in e)(i==="class"||i==="style"||$a(i))&&((t||(t={}))[i]=e[i]);return t},Xy=(e,t)=>{const i={};for(const o in e)(!Kh(o)||!(o.slice(9)in t))&&(i[o]=e[o]);return i};function Qy(e,t,i){const{props:o,children:c,component:s}=e,{props:u,children:f,patchFlag:_}=t,v=s.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&_>=0){if(_&1024)return!0;if(_&16)return o?sp(o,u,v):!!u;if(_&8){const b=t.dynamicProps;for(let w=0;w<b.length;w++){const P=b[w];if(u[P]!==o[P]&&!Tu(v,P))return!0}}}else return(c||f)&&(!f||!f.$stable)?!0:o===u?!1:o?u?sp(o,u,v):!0:!!u;return!1}function sp(e,t,i){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let c=0;c<o.length;c++){const s=o[c];if(t[s]!==e[s]&&!Tu(i,s))return!0}return!1}function ev({vnode:e,parent:t},i){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=i,t=t.parent;else break}}const Km=e=>e.__isSuspense;function Wm(e,t){t&&t.pendingBranch?dt(e)?t.effects.push(...e):t.effects.push(e):uy(e)}const je=Symbol.for("v-fgt"),xo=Symbol.for("v-txt"),$n=Symbol.for("v-cmt"),xa=Symbol.for("v-stc"),wa=[];let di=null;function S(e=!1){wa.push(di=e?null:[])}function tv(){wa.pop(),di=wa[wa.length-1]||null}let Oa=1;function ap(e){Oa+=e,e<0&&di&&(di.hasOnce=!0)}function Jm(e){return e.dynamicChildren=Oa>0?di||ds:null,tv(),Oa>0&&di&&di.push(e),e}function U(e,t,i,o,c,s){return Jm(N(e,t,i,o,c,s,!0))}function ye(e,t,i,o,c){return Jm(q(e,t,i,o,c,!0))}function Ra(e){return e?e.__v_isVNode===!0:!1}function mo(e,t){return e.type===t.type&&e.key===t.key}const Ym=({key:e})=>e??null,tu=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?ln(e)||gn(e)||vt(e)?{i:Mn,r:e,k:t,f:!!i}:e:null);function N(e,t=null,i=null,o=0,c=null,s=e===je?0:1,u=!1,f=!1){const _={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ym(t),ref:t&&tu(t),scopeId:gm,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Mn};return f?(pd(_,i),s&128&&e.normalize(_)):i&&(_.shapeFlag|=ln(i)?8:16),Oa>0&&!u&&di&&(_.patchFlag>0||s&6)&&_.patchFlag!==32&&di.push(_),_}const q=nv;function nv(e,t=null,i=null,o=0,c=null,s=!1){if((!e||e===Mm)&&(e=$n),Ra(e)){const f=Ur(e,t,!0);return i&&pd(f,i),Oa>0&&!s&&di&&(f.shapeFlag&6?di[di.indexOf(e)]=f:di.push(f)),f.patchFlag=-2,f}if(cv(e)&&(e=e.__vccOpts),t){t=_u(t);let{class:f,style:_}=t;f&&!ln(f)&&(t.class=tn(f)),Jt(_)&&(od(_)&&!dt(_)&&(_=Sn({},_)),t.style=pi(_))}const u=ln(e)?1:Km(e)?128:ym(e)?64:Jt(e)?4:vt(e)?2:0;return N(e,t,i,o,c,u,s,!0)}function _u(e){return e?od(e)||Rm(e)?Sn({},e):e:null}function Ur(e,t,i=!1,o=!1){const{props:c,ref:s,patchFlag:u,children:f,transition:_}=e,v=t?Qm(c||{},t):c,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:v,key:v&&Ym(v),ref:t&&t.ref?i&&s?dt(s)?s.concat(tu(t)):[s,tu(t)]:tu(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==je?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:_,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ur(e.ssContent),ssFallback:e.ssFallback&&Ur(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return _&&o&&Aa(b,_.clone(b)),b}function Ge(e=" ",t=0){return q(xo,null,e,t)}function Xm(e,t){const i=q(xa,null,e);return i.staticCount=t,i}function Ee(e="",t=!1){return t?(S(),ye($n,null,e)):q($n,null,e)}function ki(e){return e==null||typeof e=="boolean"?q($n):dt(e)?q(je,null,e.slice()):Ra(e)?zr(e):q(xo,null,String(e))}function zr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ur(e)}function pd(e,t){let i=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(dt(t))i=16;else if(typeof t=="object")if(o&65){const c=t.default;c&&(c._c&&(c._d=!1),pd(e,c()),c._c&&(c._d=!0));return}else{i=32;const c=t._;!c&&!Rm(t)?t._ctx=Mn:c===3&&Mn&&(Mn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:Mn},i=32):(t=String(t),o&64?(i=16,t=[Ge(t)]):i=8);e.children=t,e.shapeFlag|=i}function Qm(...e){const t={};for(let i=0;i<e.length;i++){const o=e[i];for(const c in o)if(c==="class")t.class!==o.class&&(t.class=tn([t.class,o.class]));else if(c==="style")t.style=pi([t.style,o.style]);else if($a(c)){const s=t[c],u=o[c];u&&s!==u&&!(dt(s)&&s.includes(u))&&(t[c]=s?[].concat(s,u):u)}else c!==""&&(t[c]=o[c])}return t}function Ci(e,t,i,o=null){Ii(e,t,7,[i,o])}const iv=Tm();let rv=0;function ov(e,t,i){const o=e.type,c=(t?t.appContext:e.appContext)||iv,s={uid:rv++,vnode:e,type:o,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Im(o,c),emitsOptions:qm(o,c),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:o.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Jy.bind(null,s),e.ce&&e.ce(s),s}let On=null;const e_=()=>On||Mn;let gu,wh;{const e=$f(),t=(i,o)=>{let c;return(c=e[i])||(c=e[i]=[]),c.push(o),s=>{c.length>1?c.forEach(u=>u(s)):c[0](s)}};gu=t("__VUE_INSTANCE_SETTERS__",i=>On=i),wh=t("__VUE_SSR_SETTERS__",i=>Au=i)}const Ka=e=>{const t=On;return gu(e),e.scope.on(),()=>{e.scope.off(),gu(t)}},lp=()=>{On&&On.scope.off(),gu(null)};function t_(e){return e.vnode.shapeFlag&4}let Au=!1;function sv(e,t=!1,i=!1){t&&wh(t);const{props:o,children:c}=e.vnode,s=t_(e);Fy(e,o,s,t),Vy(e,c,i);const u=s?av(e,t):void 0;return t&&wh(!1),u}function av(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ey);const{setup:o}=i;if(o){const c=e.setupContext=o.length>1?i_(e):null,s=Ka(e);Zr();const u=qa(o,e,0,[e.props,c]);if(qr(),s(),Nf(u)){if(vo(e)||Cm(e),u.then(lp,lp),t)return u.then(f=>{up(e,f,t)}).catch(f=>{Su(f,e,0)});e.asyncDep=u}else up(e,u,t)}else n_(e,t)}function up(e,t,i){vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Jt(t)&&(e.setupState=pm(t)),n_(e,i)}let cp;function n_(e,t,i){const o=e.type;if(!e.render){if(!t&&cp&&!o.render){const c=o.template||hd(e).template;if(c){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:f,compilerOptions:_}=o,v=Sn(Sn({isCustomElement:s,delimiters:f},u),_);o.render=cp(c,v)}}e.render=o.render||Wi}{const c=Ka(e);Zr();try{Py(e)}finally{qr(),c()}}}const lv={get(e,t){return Un(e,"get",""),e[t]}};function i_(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,lv),slots:e.slots,emit:e.emit,expose:t}}function Ou(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(pm(sd(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in ba)return ba[i](e)},has(t,i){return i in t||i in ba}})):e.proxy}function uv(e,t=!0){return vt(e)?e.displayName||e.name:e.name||t&&e.__name}function cv(e){return vt(e)&&"__vccOpts"in e}const Ze=(e,t)=>ry(e,t,Au);function fd(e,t,i){const o=arguments.length;return o===2?Jt(t)&&!dt(t)?Ra(t)?q(e,null,[t]):q(e,t):q(e,null,t):(o>3?i=Array.prototype.slice.call(arguments,2):o===3&&Ra(i)&&(i=[i]),q(e,t,i))}const hv="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lh;const hp=typeof window<"u"&&window.trustedTypes;if(hp)try{Lh=hp.createPolicy("vue",{createHTML:e=>e})}catch{}const r_=Lh?e=>Lh.createHTML(e):e=>e,dv="http://www.w3.org/2000/svg",pv="http://www.w3.org/1998/Math/MathML",hr=typeof document<"u"?document:null,dp=hr&&hr.createElement("template"),fv={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,o)=>{const c=t==="svg"?hr.createElementNS(dv,e):t==="mathml"?hr.createElementNS(pv,e):i?hr.createElement(e,{is:i}):hr.createElement(e);return e==="select"&&o&&o.multiple!=null&&c.setAttribute("multiple",o.multiple),c},createText:e=>hr.createTextNode(e),createComment:e=>hr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>hr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,o,c,s){const u=i?i.previousSibling:t.lastChild;if(c&&(c===s||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),i),!(c===s||!(c=c.nextSibling)););else{dp.innerHTML=r_(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const f=dp.content;if(o==="svg"||o==="mathml"){const _=f.firstChild;for(;_.firstChild;)f.appendChild(_.firstChild);f.removeChild(_)}t.insertBefore(f,i)}return[u?u.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Ar="transition",ca="animation",Da=Symbol("_vtc"),o_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mv=Sn({},vm,o_),_v=e=>(e.displayName="Transition",e.props=mv,e),Ru=_v((e,{slots:t})=>fd(py,gv(e),t)),co=(e,t=[])=>{dt(e)?e.forEach(i=>i(...t)):e&&e(...t)},pp=e=>e?dt(e)?e.some(t=>t.length>1):e.length>1:!1;function gv(e){const t={};for(const Re in e)Re in o_||(t[Re]=e[Re]);if(e.css===!1)return t;const{name:i="v",type:o,duration:c,enterFromClass:s=`${i}-enter-from`,enterActiveClass:u=`${i}-enter-active`,enterToClass:f=`${i}-enter-to`,appearFromClass:_=s,appearActiveClass:v=u,appearToClass:b=f,leaveFromClass:w=`${i}-leave-from`,leaveActiveClass:P=`${i}-leave-active`,leaveToClass:O=`${i}-leave-to`}=e,R=yv(c),V=R&&R[0],oe=R&&R[1],{onBeforeEnter:te,onEnter:ee,onEnterCancelled:z,onLeave:ne,onLeaveCancelled:pe,onBeforeAppear:Se=te,onAppear:Ne=ee,onAppearCancelled:Le=z}=t,Ce=(Re,at,Ct)=>{ho(Re,at?b:f),ho(Re,at?v:u),Ct&&Ct()},Fe=(Re,at)=>{Re._isLeaving=!1,ho(Re,w),ho(Re,O),ho(Re,P),at&&at()},We=Re=>(at,Ct)=>{const $t=Re?Ne:ee,qe=()=>Ce(at,Re,Ct);co($t,[at,qe]),fp(()=>{ho(at,Re?_:s),Or(at,Re?b:f),pp($t)||mp(at,o,V,qe)})};return Sn(t,{onBeforeEnter(Re){co(te,[Re]),Or(Re,s),Or(Re,u)},onBeforeAppear(Re){co(Se,[Re]),Or(Re,_),Or(Re,v)},onEnter:We(!1),onAppear:We(!0),onLeave(Re,at){Re._isLeaving=!0;const Ct=()=>Fe(Re,at);Or(Re,w),Or(Re,P),xv(),fp(()=>{Re._isLeaving&&(ho(Re,w),Or(Re,O),pp(ne)||mp(Re,o,oe,Ct))}),co(ne,[Re,Ct])},onEnterCancelled(Re){Ce(Re,!1),co(z,[Re])},onAppearCancelled(Re){Ce(Re,!0),co(Le,[Re])},onLeaveCancelled(Re){Fe(Re),co(pe,[Re])}})}function yv(e){if(e==null)return null;if(Jt(e))return[Jc(e.enter),Jc(e.leave)];{const t=Jc(e);return[t,t]}}function Jc(e){return b0(e)}function Or(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[Da]||(e[Da]=new Set)).add(t)}function ho(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const i=e[Da];i&&(i.delete(t),i.size||(e[Da]=void 0))}function fp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vv=0;function mp(e,t,i,o){const c=e._endId=++vv,s=()=>{c===e._endId&&o()};if(i!=null)return setTimeout(s,i);const{type:u,timeout:f,propCount:_}=bv(e,t);if(!u)return o();const v=u+"end";let b=0;const w=()=>{e.removeEventListener(v,P),s()},P=O=>{O.target===e&&++b>=_&&w()};setTimeout(()=>{b<_&&w()},f+1),e.addEventListener(v,P)}function bv(e,t){const i=window.getComputedStyle(e),o=R=>(i[R]||"").split(", "),c=o(`${Ar}Delay`),s=o(`${Ar}Duration`),u=_p(c,s),f=o(`${ca}Delay`),_=o(`${ca}Duration`),v=_p(f,_);let b=null,w=0,P=0;t===Ar?u>0&&(b=Ar,w=u,P=s.length):t===ca?v>0&&(b=ca,w=v,P=_.length):(w=Math.max(u,v),b=w>0?u>v?Ar:ca:null,P=b?b===Ar?s.length:_.length:0);const O=b===Ar&&/\b(transform|all)(,|$)/.test(o(`${Ar}Property`).toString());return{type:b,timeout:w,propCount:P,hasTransform:O}}function _p(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,o)=>gp(i)+gp(e[o])))}function gp(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function xv(){return document.body.offsetHeight}function wv(e,t,i){const o=e[Da];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const yu=Symbol("_vod"),s_=Symbol("_vsh"),Du={beforeMount(e,{value:t},{transition:i}){e[yu]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):ha(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:o}){!t!=!i&&(o?t?(o.beforeEnter(e),ha(e,!0),o.enter(e)):o.leave(e,()=>{ha(e,!1)}):ha(e,t))},beforeUnmount(e,{value:t}){ha(e,t)}};function ha(e,t){e.style.display=t?e[yu]:"none",e[s_]=!t}const Lv=Symbol(""),Cv=/(^|;)\s*display\s*:/;function kv(e,t,i){const o=e.style,c=ln(i);let s=!1;if(i&&!c){if(t)if(ln(t))for(const u of t.split(";")){const f=u.slice(0,u.indexOf(":")).trim();i[f]==null&&nu(o,f,"")}else for(const u in t)i[u]==null&&nu(o,u,"");for(const u in i)u==="display"&&(s=!0),nu(o,u,i[u])}else if(c){if(t!==i){const u=o[Lv];u&&(i+=";"+u),o.cssText=i,s=Cv.test(i)}}else t&&e.removeAttribute("style");yu in e&&(e[yu]=s?o.display:"",e[s_]&&(o.display="none"))}const yp=/\s*!important$/;function nu(e,t,i){if(dt(i))i.forEach(o=>nu(e,t,o));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const o=Ev(e,t);yp.test(i)?e.setProperty(Hr(o),i.replace(yp,""),"important"):e[o]=i}}const vp=["Webkit","Moz","ms"],Yc={};function Ev(e,t){const i=Yc[t];if(i)return i;let o=Si(t);if(o!=="filter"&&o in e)return Yc[t]=o;o=ku(o);for(let c=0;c<vp.length;c++){const s=vp[c]+o;if(s in e)return Yc[t]=s}return t}const bp="http://www.w3.org/1999/xlink";function xp(e,t,i,o,c,s=E0(t)){o&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(bp,t.slice(6,t.length)):e.setAttributeNS(bp,t,i):i==null||s&&!Uf(i)?e.removeAttribute(t):e.setAttribute(t,s?"":Ji(i)?String(i):i)}function wp(e,t,i,o){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?r_(i):i);return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const u=c==="OPTION"?e.getAttribute("value")||"":e.value,f=i==null?e.type==="checkbox"?"on":"":String(i);(u!==f||!("_value"in e))&&(e.value=f),i==null&&e.removeAttribute(t),e._value=i;return}let s=!1;if(i===""||i==null){const u=typeof e[t];u==="boolean"?i=Uf(i):i==null&&u==="string"?(i="",s=!0):u==="number"&&(i=0,s=!0)}try{e[t]=i}catch{}s&&e.removeAttribute(t)}function Gr(e,t,i,o){e.addEventListener(t,i,o)}function Mv(e,t,i,o){e.removeEventListener(t,i,o)}const Lp=Symbol("_vei");function Sv(e,t,i,o,c=null){const s=e[Lp]||(e[Lp]={}),u=s[t];if(o&&u)u.value=o;else{const[f,_]=Pv(t);if(o){const v=s[t]=Av(o,c);Gr(e,f,v,_)}else u&&(Mv(e,f,u,_),s[t]=void 0)}}const Cp=/(?:Once|Passive|Capture)$/;function Pv(e){let t;if(Cp.test(e)){t={};let o;for(;o=e.match(Cp);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hr(e.slice(2)),t]}let Xc=0;const Bv=Promise.resolve(),Tv=()=>Xc||(Bv.then(()=>Xc=0),Xc=Date.now());function Av(e,t){const i=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=i.attached)return;Ii(Ov(o,i.value),t,5,[o])};return i.value=e,i.attached=Tv(),i}function Ov(e,t){if(dt(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(o=>c=>!c._stopped&&o&&o(c))}else return t}const kp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Rv=(e,t,i,o,c,s)=>{const u=c==="svg";t==="class"?wv(e,o,u):t==="style"?kv(e,i,o):$a(t)?Kh(t)||Sv(e,t,i,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Dv(e,t,o,u))?(wp(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&xp(e,t,o,u,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ln(o))?wp(e,Si(t),o):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),xp(e,t,o,u))};function Dv(e,t,i,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&kp(t)&&vt(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const c=e.tagName;if(c==="IMG"||c==="VIDEO"||c==="CANVAS"||c==="SOURCE")return!1}return kp(t)&&ln(i)?!1:t in e}const gs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return dt(t)?i=>Ql(t,i):t};function Iv(e){e.target.composing=!0}function Ep(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const mr=Symbol("_assign"),md={created(e,{modifiers:{lazy:t,trim:i,number:o}},c){e[mr]=gs(c);const s=o||c.props&&c.props.type==="number";Gr(e,t?"change":"input",u=>{if(u.target.composing)return;let f=e.value;i&&(f=f.trim()),s&&(f=lu(f)),e[mr](f)}),i&&Gr(e,"change",()=>{e.value=e.value.trim()}),t||(Gr(e,"compositionstart",Iv),Gr(e,"compositionend",Ep),Gr(e,"change",Ep))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:o,trim:c,number:s}},u){if(e[mr]=gs(u),e.composing)return;const f=(s||e.type==="number")&&!/^0\d/.test(e.value)?lu(e.value):e.value,_=t??"";f!==_&&(document.activeElement===e&&e.type!=="range"&&(o&&t===i||c&&e.value.trim()===_)||(e.value=_))}},xs={deep:!0,created(e,t,i){e[mr]=gs(i),Gr(e,"change",()=>{const o=e._modelValue,c=Ia(e),s=e.checked,u=e[mr];if(dt(o)){const f=Yh(o,c),_=f!==-1;if(s&&!_)u(o.concat(c));else if(!s&&_){const v=[...o];v.splice(f,1),u(v)}}else if(bs(o)){const f=new Set(o);s?f.add(c):f.delete(c),u(f)}else u(a_(e,s))})},mounted:Mp,beforeUpdate(e,t,i){e[mr]=gs(i),Mp(e,t,i)}};function Mp(e,{value:t},i){e._modelValue=t;let o;dt(t)?o=Yh(t,i.props.value)>-1:bs(t)?o=t.has(i.props.value):o=Ha(t,a_(e,!0)),e.checked!==o&&(e.checked=o)}const Wa={deep:!0,created(e,{value:t,modifiers:{number:i}},o){const c=bs(t);Gr(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>i?lu(Ia(u)):Ia(u));e[mr](e.multiple?c?new Set(s):s:s[0]),e._assigning=!0,ko(()=>{e._assigning=!1})}),e[mr]=gs(o)},mounted(e,{value:t}){Sp(e,t)},beforeUpdate(e,t,i){e[mr]=gs(i)},updated(e,{value:t}){e._assigning||Sp(e,t)}};function Sp(e,t){const i=e.multiple,o=dt(t);if(!(i&&!o&&!bs(t))){for(let c=0,s=e.options.length;c<s;c++){const u=e.options[c],f=Ia(u);if(i)if(o){const _=typeof f;_==="string"||_==="number"?u.selected=t.some(v=>String(v)===String(f)):u.selected=Yh(t,f)>-1}else u.selected=t.has(f);else if(Ha(Ia(u),t)){e.selectedIndex!==c&&(e.selectedIndex=c);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ia(e){return"_value"in e?e._value:e.value}function a_(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const Fv=["ctrl","shift","alt","meta"],jv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Fv.some(i=>e[`${i}Key`]&&!t.includes(i))},Fa=(e,t)=>{const i=e._withMods||(e._withMods={}),o=t.join(".");return i[o]||(i[o]=(c,...s)=>{for(let u=0;u<t.length;u++){const f=jv[t[u]];if(f&&f(c,t))return}return e(c,...s)})},Nv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},l_=(e,t)=>{const i=e._withKeys||(e._withKeys={}),o=t.join(".");return i[o]||(i[o]=c=>{if(!("key"in c))return;const s=Hr(c.key);if(t.some(u=>u===s||Nv[u]===s))return e(c)})},u_=Sn({patchProp:Rv},fv);let La,Pp=!1;function zv(){return La||(La=$y(u_))}function Vv(){return La=Pp?La:Uy(u_),Pp=!0,La}const Gv=(...e)=>{const t=zv().createApp(...e),{mount:i}=t;return t.mount=o=>{const c=h_(o);if(!c)return;const s=t._component;!vt(s)&&!s.render&&!s.template&&(s.template=c.innerHTML),c.nodeType===1&&(c.textContent="");const u=i(c,!1,c_(c));return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),u},t},$v=(...e)=>{const t=Vv().createApp(...e),{mount:i}=t;return t.mount=o=>{const c=h_(o);if(c)return i(c,!0,c_(c))},t};function c_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function h_(e){return ln(e)?document.querySelector(e):e}let Uv;function Hv(){return Uv}function _d(e,t={}){const i=t.head||Hv();return i==null?void 0:i.push(e,t)}const Zv=["title"],qv={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Kv={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},d_={__name:"SwitchTheme",setup(e){const t={dark:"dark",light:"light"},i=ze(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?i.value="dark":i.value="light",yn(i,(c,s)=>{document.documentElement.classList.add(c),document.documentElement.classList.remove(s),localStorage.setItem("theme",c)},{immediate:!0}));const o=()=>{i.value===t.dark?i.value=t.light:i.value=t.dark};return(c,s)=>(S(),U("button",{type:"button",onClick:o,title:i.value===t.light?"Change to dark mode":"Change to light mode"},[i.value===t.dark?(S(),U("svg",qv,s[0]||(s[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(S(),U("svg",Kv,s[1]||(s[1]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))],8,Zv))}};var Wv={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const Jv=["aria-expanded"],Yv={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},Xv={class:"font-normal container mx-auto"},Qv={class:"flex flex-col m-0 p-0 border-t border-base-border"},eb={__name:"NavbarMobile",setup(e){const{header_links:t}=Wv,i=ze(!1),o=()=>{i.value=!i.value};return(c,s)=>{const u=se("IconClose"),f=se("IconHamburger"),_=se("router-link"),v=se("ClientOnly"),b=se("TrackerReport"),w=se("AnimationOpacity");return S(),U(je,null,[N("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":i.value,onClick:o},[s[0]||(s[0]=N("span",{class:"sr-only"},"Open main menu",-1)),i.value?(S(),ye(u,{key:0})):(S(),ye(f,{key:1,class:"w-6 h-6"}))],8,Jv),q(w,null,{default:J(()=>[i.value?(S(),U("div",Yv,[N("nav",Xv,[N("ul",Qv,[(S(!0),U(je,null,ut(Ie(t),(P,O)=>(S(),U("li",{key:O,class:"border-b border-base-border"},[q(_,{to:P.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:J(()=>[Ge(Be(P.label),1)]),_:2},1032,["to"])]))),128)),N("li",null,[q(v,null,{default:J(()=>[q(d_,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),N("li",null,[q(b,{icon:"","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):Ee("",!0)]),_:1})],64)}}};function tb(e){try{return new URL(e),!0}catch{return!1}}var nb={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const ib={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},rb={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},ob=["src","alt"],sb={class:"relative hidden md:flex items-center ml-auto"},ab={class:"text-sm leading-6 font-normal"},lb={class:"flex space-x-8"},ub={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},cb={class:"flex items-center ml-2 border-base-muted"},hb={__name:"LayoutHeader",setup(e){const{header_links:t,header_logo_text:i,header_logo_url:o,base_url:c,project_name:s}=nb,u=tb(o)?o:(c+o).replace("//","/");return(f,_)=>{const v=se("RouterLink"),b=se("router-link"),w=se("ClientOnly"),P=se("TrackerReport");return S(),U("header",ib,[N("div",rb,[q(v,{to:"/",class:"flex items-center text-primary-content"},{default:J(()=>[Ie(o)?(S(),U("img",{key:0,class:"mr-3 h-10",src:Ie(u),alt:Ie(i)},null,8,ob)):Ee("",!0),N("span",null,Be(Ie(i)||Ie(s)),1)]),_:1}),q(eb),N("div",sb,[N("nav",ab,[N("ul",lb,[(S(!0),U(je,null,ut(Ie(t),(O,R)=>(S(),U("li",{key:R},[q(b,{to:O.link,class:"hover:text-primary-content text-primary-content"},{default:J(()=>[Ge(Be(O.label),1)]),_:2},1032,["to"])]))),128))])]),N("div",ub,[q(w,null,{default:J(()=>[q(d_,{class:"text-primary-content"})]),_:1})]),N("div",cb,[q(P,{icon:""})])])])])}}};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const cs=typeof document<"u";function p_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function db(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&p_(e.default)}const Ht=Object.assign;function Qc(e,t){const i={};for(const o in t){const c=t[o];i[o]=Fi(c)?c.map(e):e(c)}return i}const Ca=()=>{},Fi=Array.isArray,f_=/#/g,pb=/&/g,fb=/\//g,mb=/=/g,_b=/\?/g,m_=/\+/g,gb=/%5B/g,yb=/%5D/g,__=/%5E/g,vb=/%60/g,g_=/%7B/g,bb=/%7C/g,y_=/%7D/g,xb=/%20/g;function gd(e){return encodeURI(""+e).replace(bb,"|").replace(gb,"[").replace(yb,"]")}function wb(e){return gd(e).replace(g_,"{").replace(y_,"}").replace(__,"^")}function Ch(e){return gd(e).replace(m_,"%2B").replace(xb,"+").replace(f_,"%23").replace(pb,"%26").replace(vb,"`").replace(g_,"{").replace(y_,"}").replace(__,"^")}function Lb(e){return Ch(e).replace(mb,"%3D")}function Cb(e){return gd(e).replace(f_,"%23").replace(_b,"%3F")}function kb(e){return e==null?"":Cb(e).replace(fb,"%2F")}function ja(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Eb=/\/$/,Mb=e=>e.replace(Eb,"");function eh(e,t,i="/"){let o,c={},s="",u="";const f=t.indexOf("#");let _=t.indexOf("?");return f<_&&f>=0&&(_=-1),_>-1&&(o=t.slice(0,_),s=t.slice(_+1,f>-1?f:t.length),c=e(s)),f>-1&&(o=o||t.slice(0,f),u=t.slice(f,t.length)),o=Tb(o??t,i),{fullPath:o+(s&&"?")+s+u,path:o,query:c,hash:ja(u)}}function Sb(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function Bp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Pb(e,t,i){const o=t.matched.length-1,c=i.matched.length-1;return o>-1&&o===c&&ys(t.matched[o],i.matched[c])&&v_(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function ys(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function v_(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Bb(e[i],t[i]))return!1;return!0}function Bb(e,t){return Fi(e)?Tp(e,t):Fi(t)?Tp(t,e):e===t}function Tp(e,t){return Fi(t)?e.length===t.length&&e.every((i,o)=>i===t[o]):e.length===1&&e[0]===t}function Tb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),o=e.split("/"),c=o[o.length-1];(c===".."||c===".")&&o.push("");let s=i.length-1,u,f;for(u=0;u<o.length;u++)if(f=o[u],f!==".")if(f==="..")s>1&&s--;else break;return i.slice(0,s).join("/")+"/"+o.slice(u).join("/")}const Rr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Na;(function(e){e.pop="pop",e.push="push"})(Na||(Na={}));var ka;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ka||(ka={}));function Ab(e){if(!e)if(cs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Mb(e)}const Ob=/^[^#]+#/;function Rb(e,t){return e.replace(Ob,"#")+t}function Db(e,t){const i=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-i.left-(t.left||0),top:o.top-i.top-(t.top||0)}}const Iu=()=>({left:window.scrollX,top:window.scrollY});function Ib(e){let t;if("el"in e){const i=e.el,o=typeof i=="string"&&i.startsWith("#"),c=typeof i=="string"?o?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!c)return;t=Db(c,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ap(e,t){return(history.state?history.state.position-t:-1)+e}const kh=new Map;function Fb(e,t){kh.set(e,t)}function jb(e){const t=kh.get(e);return kh.delete(e),t}let Nb=()=>location.protocol+"//"+location.host;function b_(e,t){const{pathname:i,search:o,hash:c}=t,s=e.indexOf("#");if(s>-1){let f=c.includes(e.slice(s))?e.slice(s).length:1,_=c.slice(f);return _[0]!=="/"&&(_="/"+_),Bp(_,"")}return Bp(i,e)+o+c}function zb(e,t,i,o){let c=[],s=[],u=null;const f=({state:P})=>{const O=b_(e,location),R=i.value,V=t.value;let oe=0;if(P){if(i.value=O,t.value=P,u&&u===R){u=null;return}oe=V?P.position-V.position:0}else o(O);c.forEach(te=>{te(i.value,R,{delta:oe,type:Na.pop,direction:oe?oe>0?ka.forward:ka.back:ka.unknown})})};function _(){u=i.value}function v(P){c.push(P);const O=()=>{const R=c.indexOf(P);R>-1&&c.splice(R,1)};return s.push(O),O}function b(){const{history:P}=window;P.state&&P.replaceState(Ht({},P.state,{scroll:Iu()}),"")}function w(){for(const P of s)P();s=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",b)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",b,{passive:!0}),{pauseListeners:_,listen:v,destroy:w}}function Op(e,t,i,o=!1,c=!1){return{back:e,current:t,forward:i,replaced:o,position:window.history.length,scroll:c?Iu():null}}function Vb(e){const{history:t,location:i}=window,o={value:b_(e,i)},c={value:t.state};c.value||s(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(_,v,b){const w=e.indexOf("#"),P=w>-1?(i.host&&document.querySelector("base")?e:e.slice(w))+_:Nb()+e+_;try{t[b?"replaceState":"pushState"](v,"",P),c.value=v}catch(O){console.error(O),i[b?"replace":"assign"](P)}}function u(_,v){const b=Ht({},t.state,Op(c.value.back,_,c.value.forward,!0),v,{position:c.value.position});s(_,b,!0),o.value=_}function f(_,v){const b=Ht({},c.value,t.state,{forward:_,scroll:Iu()});s(b.current,b,!0);const w=Ht({},Op(o.value,_,null),{position:b.position+1},v);s(_,w,!1),o.value=_}return{location:o,state:c,push:f,replace:u}}function x_(e){e=Ab(e);const t=Vb(e),i=zb(e,t.state,t.location,t.replace);function o(s,u=!0){u||i.pauseListeners(),history.go(s)}const c=Ht({location:"",base:e,go:o,createHref:Rb.bind(null,e)},t,i);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>t.state.value}),c}function Gb(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),x_(e)}function $b(e){return typeof e=="string"||e&&typeof e=="object"}function w_(e){return typeof e=="string"||typeof e=="symbol"}const L_=Symbol("");var Rp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Rp||(Rp={}));function vs(e,t){return Ht(new Error,{type:e,[L_]:!0},t)}function cr(e,t){return e instanceof Error&&L_ in e&&(t==null||!!(e.type&t))}const Dp="[^/]+?",Ub={sensitive:!1,strict:!1,start:!0,end:!0},Hb=/[.+*?^${}()[\]/\\]/g;function Zb(e,t){const i=Ht({},Ub,t),o=[];let c=i.start?"^":"";const s=[];for(const v of e){const b=v.length?[]:[90];i.strict&&!v.length&&(c+="/");for(let w=0;w<v.length;w++){const P=v[w];let O=40+(i.sensitive?.25:0);if(P.type===0)w||(c+="/"),c+=P.value.replace(Hb,"\\$&"),O+=40;else if(P.type===1){const{value:R,repeatable:V,optional:oe,regexp:te}=P;s.push({name:R,repeatable:V,optional:oe});const ee=te||Dp;if(ee!==Dp){O+=10;try{new RegExp(`(${ee})`)}catch(ne){throw new Error(`Invalid custom RegExp for param "${R}" (${ee}): `+ne.message)}}let z=V?`((?:${ee})(?:/(?:${ee}))*)`:`(${ee})`;w||(z=oe&&v.length<2?`(?:/${z})`:"/"+z),oe&&(z+="?"),c+=z,O+=20,oe&&(O+=-8),V&&(O+=-20),ee===".*"&&(O+=-50)}b.push(O)}o.push(b)}if(i.strict&&i.end){const v=o.length-1;o[v][o[v].length-1]+=.7000000000000001}i.strict||(c+="/?"),i.end?c+="$":i.strict&&(c+="(?:/|$)");const u=new RegExp(c,i.sensitive?"":"i");function f(v){const b=v.match(u),w={};if(!b)return null;for(let P=1;P<b.length;P++){const O=b[P]||"",R=s[P-1];w[R.name]=O&&R.repeatable?O.split("/"):O}return w}function _(v){let b="",w=!1;for(const P of e){(!w||!b.endsWith("/"))&&(b+="/"),w=!1;for(const O of P)if(O.type===0)b+=O.value;else if(O.type===1){const{value:R,repeatable:V,optional:oe}=O,te=R in v?v[R]:"";if(Fi(te)&&!V)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const ee=Fi(te)?te.join("/"):te;if(!ee)if(oe)P.length<2&&(b.endsWith("/")?b=b.slice(0,-1):w=!0);else throw new Error(`Missing required param "${R}"`);b+=ee}}return b||"/"}return{re:u,score:o,keys:s,parse:f,stringify:_}}function qb(e,t){let i=0;for(;i<e.length&&i<t.length;){const o=t[i]-e[i];if(o)return o;i++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function C_(e,t){let i=0;const o=e.score,c=t.score;for(;i<o.length&&i<c.length;){const s=qb(o[i],c[i]);if(s)return s;i++}if(Math.abs(c.length-o.length)===1){if(Ip(o))return 1;if(Ip(c))return-1}return c.length-o.length}function Ip(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Kb={type:0,value:""},Wb=/[a-zA-Z0-9_]/;function Jb(e){if(!e)return[[]];if(e==="/")return[[Kb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(O){throw new Error(`ERR (${i})/"${v}": ${O}`)}let i=0,o=i;const c=[];let s;function u(){s&&c.push(s),s=[]}let f=0,_,v="",b="";function w(){v&&(i===0?s.push({type:0,value:v}):i===1||i===2||i===3?(s.length>1&&(_==="*"||_==="+")&&t(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:v,regexp:b,repeatable:_==="*"||_==="+",optional:_==="*"||_==="?"})):t("Invalid state to consume buffer"),v="")}function P(){v+=_}for(;f<e.length;){if(_=e[f++],_==="\\"&&i!==2){o=i,i=4;continue}switch(i){case 0:_==="/"?(v&&w(),u()):_===":"?(w(),i=1):P();break;case 4:P(),i=o;break;case 1:_==="("?i=2:Wb.test(_)?P():(w(),i=0,_!=="*"&&_!=="?"&&_!=="+"&&f--);break;case 2:_===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+_:i=3:b+=_;break;case 3:w(),i=0,_!=="*"&&_!=="?"&&_!=="+"&&f--,b="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${v}"`),w(),u(),c}function Yb(e,t,i){const o=Zb(Jb(e.path),i),c=Ht(o,{record:e,parent:t,children:[],alias:[]});return t&&!c.record.aliasOf==!t.record.aliasOf&&t.children.push(c),c}function Xb(e,t){const i=[],o=new Map;t=zp({strict:!1,end:!0,sensitive:!1},t);function c(w){return o.get(w)}function s(w,P,O){const R=!O,V=jp(w);V.aliasOf=O&&O.record;const oe=zp(t,w),te=[V];if("alias"in w){const ne=typeof w.alias=="string"?[w.alias]:w.alias;for(const pe of ne)te.push(jp(Ht({},V,{components:O?O.record.components:V.components,path:pe,aliasOf:O?O.record:V})))}let ee,z;for(const ne of te){const{path:pe}=ne;if(P&&pe[0]!=="/"){const Se=P.record.path,Ne=Se[Se.length-1]==="/"?"":"/";ne.path=P.record.path+(pe&&Ne+pe)}if(ee=Yb(ne,P,oe),O?O.alias.push(ee):(z=z||ee,z!==ee&&z.alias.push(ee),R&&w.name&&!Np(ee)&&u(w.name)),k_(ee)&&_(ee),V.children){const Se=V.children;for(let Ne=0;Ne<Se.length;Ne++)s(Se[Ne],ee,O&&O.children[Ne])}O=O||ee}return z?()=>{u(z)}:Ca}function u(w){if(w_(w)){const P=o.get(w);P&&(o.delete(w),i.splice(i.indexOf(P),1),P.children.forEach(u),P.alias.forEach(u))}else{const P=i.indexOf(w);P>-1&&(i.splice(P,1),w.record.name&&o.delete(w.record.name),w.children.forEach(u),w.alias.forEach(u))}}function f(){return i}function _(w){const P=t1(w,i);i.splice(P,0,w),w.record.name&&!Np(w)&&o.set(w.record.name,w)}function v(w,P){let O,R={},V,oe;if("name"in w&&w.name){if(O=o.get(w.name),!O)throw vs(1,{location:w});oe=O.record.name,R=Ht(Fp(P.params,O.keys.filter(z=>!z.optional).concat(O.parent?O.parent.keys.filter(z=>z.optional):[]).map(z=>z.name)),w.params&&Fp(w.params,O.keys.map(z=>z.name))),V=O.stringify(R)}else if(w.path!=null)V=w.path,O=i.find(z=>z.re.test(V)),O&&(R=O.parse(V),oe=O.record.name);else{if(O=P.name?o.get(P.name):i.find(z=>z.re.test(P.path)),!O)throw vs(1,{location:w,currentLocation:P});oe=O.record.name,R=Ht({},P.params,w.params),V=O.stringify(R)}const te=[];let ee=O;for(;ee;)te.unshift(ee.record),ee=ee.parent;return{name:oe,path:V,params:R,matched:te,meta:e1(te)}}e.forEach(w=>s(w));function b(){i.length=0,o.clear()}return{addRoute:s,resolve:v,removeRoute:u,clearRoutes:b,getRoutes:f,getRecordMatcher:c}}function Fp(e,t){const i={};for(const o of t)o in e&&(i[o]=e[o]);return i}function jp(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Qb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Qb(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const o in e.components)t[o]=typeof i=="object"?i[o]:i;return t}function Np(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function e1(e){return e.reduce((t,i)=>Ht(t,i.meta),{})}function zp(e,t){const i={};for(const o in e)i[o]=o in t?t[o]:e[o];return i}function t1(e,t){let i=0,o=t.length;for(;i!==o;){const s=i+o>>1;C_(e,t[s])<0?o=s:i=s+1}const c=n1(e);return c&&(o=t.lastIndexOf(c,o-1)),o}function n1(e){let t=e;for(;t=t.parent;)if(k_(t)&&C_(e,t)===0)return t}function k_({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function i1(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let c=0;c<o.length;++c){const s=o[c].replace(m_," "),u=s.indexOf("="),f=ja(u<0?s:s.slice(0,u)),_=u<0?null:ja(s.slice(u+1));if(f in t){let v=t[f];Fi(v)||(v=t[f]=[v]),v.push(_)}else t[f]=_}return t}function Vp(e){let t="";for(let i in e){const o=e[i];if(i=Lb(i),o==null){o!==void 0&&(t+=(t.length?"&":"")+i);continue}(Fi(o)?o.map(s=>s&&Ch(s)):[o&&Ch(o)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+i,s!=null&&(t+="="+s))})}return t}function r1(e){const t={};for(const i in e){const o=e[i];o!==void 0&&(t[i]=Fi(o)?o.map(c=>c==null?null:""+c):o==null?o:""+o)}return t}const o1=Symbol(""),Gp=Symbol(""),Fu=Symbol(""),yd=Symbol(""),Eh=Symbol("");function da(){let e=[];function t(o){return e.push(o),()=>{const c=e.indexOf(o);c>-1&&e.splice(c,1)}}function i(){e=[]}return{add:t,list:()=>e.slice(),reset:i}}function Vr(e,t,i,o,c,s=u=>u()){const u=o&&(o.enterCallbacks[c]=o.enterCallbacks[c]||[]);return()=>new Promise((f,_)=>{const v=P=>{P===!1?_(vs(4,{from:i,to:t})):P instanceof Error?_(P):$b(P)?_(vs(2,{from:t,to:P})):(u&&o.enterCallbacks[c]===u&&typeof P=="function"&&u.push(P),f())},b=s(()=>e.call(o&&o.instances[c],t,i,v));let w=Promise.resolve(b);e.length<3&&(w=w.then(v)),w.catch(P=>_(P))})}function th(e,t,i,o,c=s=>s()){const s=[];for(const u of e)for(const f in u.components){let _=u.components[f];if(!(t!=="beforeRouteEnter"&&!u.instances[f]))if(p_(_)){const b=(_.__vccOpts||_)[t];b&&s.push(Vr(b,i,o,u,f,c))}else{let v=_();s.push(()=>v.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${f}" at "${u.path}"`);const w=db(b)?b.default:b;u.mods[f]=b,u.components[f]=w;const O=(w.__vccOpts||w)[t];return O&&Vr(O,i,o,u,f,c)()}))}}return s}function $p(e){const t=Mi(Fu),i=Mi(yd),o=Ze(()=>{const _=Ie(e.to);return t.resolve(_)}),c=Ze(()=>{const{matched:_}=o.value,{length:v}=_,b=_[v-1],w=i.matched;if(!b||!w.length)return-1;const P=w.findIndex(ys.bind(null,b));if(P>-1)return P;const O=Up(_[v-2]);return v>1&&Up(b)===O&&w[w.length-1].path!==O?w.findIndex(ys.bind(null,_[v-2])):P}),s=Ze(()=>c.value>-1&&u1(i.params,o.value.params)),u=Ze(()=>c.value>-1&&c.value===i.matched.length-1&&v_(i.params,o.value.params));function f(_={}){return l1(_)?t[Ie(e.replace)?"replace":"push"](Ie(e.to)).catch(Ca):Promise.resolve()}return{route:o,href:Ze(()=>o.value.href),isActive:s,isExactActive:u,navigate:f}}const s1=Ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$p,setup(e,{slots:t}){const i=Za($p(e)),{options:o}=Mi(Fu),c=Ze(()=>({[Hp(e.activeClass,o.linkActiveClass,"router-link-active")]:i.isActive,[Hp(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const s=t.default&&t.default(i);return e.custom?s:fd("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:c.value},s)}}}),a1=s1;function l1(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function u1(e,t){for(const i in t){const o=t[i],c=e[i];if(typeof o=="string"){if(o!==c)return!1}else if(!Fi(c)||c.length!==o.length||o.some((s,u)=>s!==c[u]))return!1}return!0}function Up(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Hp=(e,t,i)=>e??t??i,c1=Ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const o=Mi(Eh),c=Ze(()=>e.route||o.value),s=Mi(Gp,0),u=Ze(()=>{let v=Ie(s);const{matched:b}=c.value;let w;for(;(w=b[v])&&!w.components;)v++;return v}),f=Ze(()=>c.value.matched[u.value]);eu(Gp,Ze(()=>u.value+1)),eu(o1,f),eu(Eh,c);const _=ze();return yn(()=>[_.value,f.value,e.name],([v,b,w],[P,O,R])=>{b&&(b.instances[w]=v,O&&O!==b&&v&&v===P&&(b.leaveGuards.size||(b.leaveGuards=O.leaveGuards),b.updateGuards.size||(b.updateGuards=O.updateGuards))),v&&b&&(!O||!ys(b,O)||!P)&&(b.enterCallbacks[w]||[]).forEach(V=>V(v))},{flush:"post"}),()=>{const v=c.value,b=e.name,w=f.value,P=w&&w.components[b];if(!P)return Zp(i.default,{Component:P,route:v});const O=w.props[b],R=O?O===!0?v.params:typeof O=="function"?O(v):O:null,oe=fd(P,Ht({},R,t,{onVnodeUnmounted:te=>{te.component.isUnmounted&&(w.instances[b]=null)},ref:_}));return Zp(i.default,{Component:oe,route:v})||oe}}});function Zp(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const h1=c1;function d1(e){const t=Xb(e.routes,e),i=e.parseQuery||i1,o=e.stringifyQuery||Vp,c=e.history,s=da(),u=da(),f=da(),_=Y0(Rr);let v=Rr;cs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=Qc.bind(null,xe=>""+xe),w=Qc.bind(null,kb),P=Qc.bind(null,ja);function O(xe,Ke){let Ue,tt;return w_(xe)?(Ue=t.getRecordMatcher(xe),tt=Ke):tt=xe,t.addRoute(tt,Ue)}function R(xe){const Ke=t.getRecordMatcher(xe);Ke&&t.removeRoute(Ke)}function V(){return t.getRoutes().map(xe=>xe.record)}function oe(xe){return!!t.getRecordMatcher(xe)}function te(xe,Ke){if(Ke=Ht({},Ke||_.value),typeof xe=="string"){const K=eh(i,xe,Ke.path),fe=t.resolve({path:K.path},Ke),Te=c.createHref(K.fullPath);return Ht(K,fe,{params:P(fe.params),hash:ja(K.hash),redirectedFrom:void 0,href:Te})}let Ue;if(xe.path!=null)Ue=Ht({},xe,{path:eh(i,xe.path,Ke.path).path});else{const K=Ht({},xe.params);for(const fe in K)K[fe]==null&&delete K[fe];Ue=Ht({},xe,{params:w(K)}),Ke.params=w(Ke.params)}const tt=t.resolve(Ue,Ke),Pt=xe.hash||"";tt.params=b(P(tt.params));const jt=Sb(o,Ht({},xe,{hash:wb(Pt),path:tt.path})),$=c.createHref(jt);return Ht({fullPath:jt,hash:Pt,query:o===Vp?r1(xe.query):xe.query||{}},tt,{redirectedFrom:void 0,href:$})}function ee(xe){return typeof xe=="string"?eh(i,xe,_.value.path):Ht({},xe)}function z(xe,Ke){if(v!==xe)return vs(8,{from:Ke,to:xe})}function ne(xe){return Ne(xe)}function pe(xe){return ne(Ht(ee(xe),{replace:!0}))}function Se(xe){const Ke=xe.matched[xe.matched.length-1];if(Ke&&Ke.redirect){const{redirect:Ue}=Ke;let tt=typeof Ue=="function"?Ue(xe):Ue;return typeof tt=="string"&&(tt=tt.includes("?")||tt.includes("#")?tt=ee(tt):{path:tt},tt.params={}),Ht({query:xe.query,hash:xe.hash,params:tt.path!=null?{}:xe.params},tt)}}function Ne(xe,Ke){const Ue=v=te(xe),tt=_.value,Pt=xe.state,jt=xe.force,$=xe.replace===!0,K=Se(Ue);if(K)return Ne(Ht(ee(K),{state:typeof K=="object"?Ht({},Pt,K.state):Pt,force:jt,replace:$}),Ke||Ue);const fe=Ue;fe.redirectedFrom=Ke;let Te;return!jt&&Pb(o,tt,Ue)&&(Te=vs(16,{to:fe,from:tt}),St(tt,tt,!0,!1)),(Te?Promise.resolve(Te):Fe(fe,tt)).catch(we=>cr(we)?cr(we,2)?we:ot(we):Pe(we,fe,tt)).then(we=>{if(we){if(cr(we,2))return Ne(Ht({replace:$},ee(we.to),{state:typeof we.to=="object"?Ht({},Pt,we.to.state):Pt,force:jt}),Ke||fe)}else we=Re(fe,tt,!0,$,Pt);return We(fe,tt,we),we})}function Le(xe,Ke){const Ue=z(xe,Ke);return Ue?Promise.reject(Ue):Promise.resolve()}function Ce(xe){const Ke=Ut.values().next().value;return Ke&&typeof Ke.runWithContext=="function"?Ke.runWithContext(xe):xe()}function Fe(xe,Ke){let Ue;const[tt,Pt,jt]=p1(xe,Ke);Ue=th(tt.reverse(),"beforeRouteLeave",xe,Ke);for(const K of tt)K.leaveGuards.forEach(fe=>{Ue.push(Vr(fe,xe,Ke))});const $=Le.bind(null,xe,Ke);return Ue.push($),mt(Ue).then(()=>{Ue=[];for(const K of s.list())Ue.push(Vr(K,xe,Ke));return Ue.push($),mt(Ue)}).then(()=>{Ue=th(Pt,"beforeRouteUpdate",xe,Ke);for(const K of Pt)K.updateGuards.forEach(fe=>{Ue.push(Vr(fe,xe,Ke))});return Ue.push($),mt(Ue)}).then(()=>{Ue=[];for(const K of jt)if(K.beforeEnter)if(Fi(K.beforeEnter))for(const fe of K.beforeEnter)Ue.push(Vr(fe,xe,Ke));else Ue.push(Vr(K.beforeEnter,xe,Ke));return Ue.push($),mt(Ue)}).then(()=>(xe.matched.forEach(K=>K.enterCallbacks={}),Ue=th(jt,"beforeRouteEnter",xe,Ke,Ce),Ue.push($),mt(Ue))).then(()=>{Ue=[];for(const K of u.list())Ue.push(Vr(K,xe,Ke));return Ue.push($),mt(Ue)}).catch(K=>cr(K,8)?K:Promise.reject(K))}function We(xe,Ke,Ue){f.list().forEach(tt=>Ce(()=>tt(xe,Ke,Ue)))}function Re(xe,Ke,Ue,tt,Pt){const jt=z(xe,Ke);if(jt)return jt;const $=Ke===Rr,K=cs?history.state:{};Ue&&(tt||$?c.replace(xe.fullPath,Ht({scroll:$&&K&&K.scroll},Pt)):c.push(xe.fullPath,Pt)),_.value=xe,St(xe,Ke,Ue,$),ot()}let at;function Ct(){at||(at=c.listen((xe,Ke,Ue)=>{if(!Bt.listening)return;const tt=te(xe),Pt=Se(tt);if(Pt){Ne(Ht(Pt,{replace:!0}),tt).catch(Ca);return}v=tt;const jt=_.value;cs&&Fb(Ap(jt.fullPath,Ue.delta),Iu()),Fe(tt,jt).catch($=>cr($,12)?$:cr($,2)?(Ne($.to,tt).then(K=>{cr(K,20)&&!Ue.delta&&Ue.type===Na.pop&&c.go(-1,!1)}).catch(Ca),Promise.reject()):(Ue.delta&&c.go(-Ue.delta,!1),Pe($,tt,jt))).then($=>{$=$||Re(tt,jt,!1),$&&(Ue.delta&&!cr($,8)?c.go(-Ue.delta,!1):Ue.type===Na.pop&&cr($,20)&&c.go(-1,!1)),We(tt,jt,$)}).catch(Ca)}))}let $t=da(),qe=da(),it;function Pe(xe,Ke,Ue){ot(xe);const tt=qe.list();return tt.length?tt.forEach(Pt=>Pt(xe,Ke,Ue)):console.error(xe),Promise.reject(xe)}function Qt(){return it&&_.value!==Rr?Promise.resolve():new Promise((xe,Ke)=>{$t.add([xe,Ke])})}function ot(xe){return it||(it=!xe,Ct(),$t.list().forEach(([Ke,Ue])=>xe?Ue(xe):Ke()),$t.reset()),xe}function St(xe,Ke,Ue,tt){const{scrollBehavior:Pt}=e;if(!cs||!Pt)return Promise.resolve();const jt=!Ue&&jb(Ap(xe.fullPath,0))||(tt||!Ue)&&history.state&&history.state.scroll||null;return ko().then(()=>Pt(xe,Ke,jt)).then($=>$&&Ib($)).catch($=>Pe($,xe,Ke))}const Nt=xe=>c.go(xe);let rn;const Ut=new Set,Bt={currentRoute:_,listening:!0,addRoute:O,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:oe,getRoutes:V,resolve:te,options:e,push:ne,replace:pe,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:f.add,onError:qe.add,isReady:Qt,install(xe){const Ke=this;xe.component("RouterLink",a1),xe.component("RouterView",h1),xe.config.globalProperties.$router=Ke,Object.defineProperty(xe.config.globalProperties,"$route",{enumerable:!0,get:()=>Ie(_)}),cs&&!rn&&_.value===Rr&&(rn=!0,ne(c.location).catch(Pt=>{}));const Ue={};for(const Pt in Rr)Object.defineProperty(Ue,Pt,{get:()=>_.value[Pt],enumerable:!0});xe.provide(Fu,Ke),xe.provide(yd,cm(Ue)),xe.provide(Eh,_);const tt=xe.unmount;Ut.add(xe),xe.unmount=function(){Ut.delete(xe),Ut.size<1&&(v=Rr,at&&at(),at=null,_.value=Rr,rn=!1,it=!1),tt()}}};function mt(xe){return xe.reduce((Ke,Ue)=>Ke.then(()=>Ce(Ue)),Promise.resolve())}return Bt}function p1(e,t){const i=[],o=[],c=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const f=t.matched[u];f&&(e.matched.find(v=>ys(v,f))?o.push(f):i.push(f));const _=e.matched[u];_&&(t.matched.find(v=>ys(v,_))||c.push(_))}return[i,o,c]}function Ja(){return Mi(Fu)}function Ya(e){return Mi(yd)}var f1=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let E_;const ju=e=>E_=e,M_=Symbol();function Mh(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ea;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ea||(Ea={}));function S_(){const e=Kf(!0),t=e.run(()=>ze({}));let i=[],o=[];const c=sd({install(s){ju(c),c._a=s,s.provide(M_,c),s.config.globalProperties.$pinia=c,o.forEach(u=>i.push(u)),o=[]},use(s){return!this._a&&!f1?o.push(s):i.push(s),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return c}const P_=()=>{};function qp(e,t,i,o=P_){e.push(t);const c=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),o())};return!i&&Wf()&&S0(c),c}function as(e,...t){e.slice().forEach(i=>{i(...t)})}const m1=e=>e(),Kp=Symbol(),nh=Symbol();function Sh(e,t){e instanceof Map&&t instanceof Map?t.forEach((i,o)=>e.set(o,i)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const o=t[i],c=e[i];Mh(c)&&Mh(o)&&e.hasOwnProperty(i)&&!gn(o)&&!fr(o)?e[i]=Sh(c,o):e[i]=o}return e}const _1=Symbol();function g1(e){return!Mh(e)||!e.hasOwnProperty(_1)}const{assign:Fr}=Object;function y1(e){return!!(gn(e)&&e.effect)}function v1(e,t,i,o){const{state:c,actions:s,getters:u}=t,f=i.state.value[e];let _;function v(){f||(i.state.value[e]=c?c():{});const b=ey(i.state.value[e]);return Fr(b,s,Object.keys(u||{}).reduce((w,P)=>(w[P]=sd(Ze(()=>{ju(i);const O=i._s.get(e);return u[P].call(O,O)})),w),{}))}return _=B_(e,v,t,i,o,!0),_}function B_(e,t,i={},o,c,s){let u;const f=Fr({actions:{}},i),_={deep:!0};let v,b,w=[],P=[],O;const R=o.state.value[e];!s&&!R&&(o.state.value[e]={}),ze({});let V;function oe(Le){let Ce;v=b=!1,typeof Le=="function"?(Le(o.state.value[e]),Ce={type:Ea.patchFunction,storeId:e,events:O}):(Sh(o.state.value[e],Le),Ce={type:Ea.patchObject,payload:Le,storeId:e,events:O});const Fe=V=Symbol();ko().then(()=>{V===Fe&&(v=!0)}),b=!0,as(w,Ce,o.state.value[e])}const te=s?function(){const{state:Ce}=i,Fe=Ce?Ce():{};this.$patch(We=>{Fr(We,Fe)})}:P_;function ee(){u.stop(),w=[],P=[],o._s.delete(e)}const z=(Le,Ce="")=>{if(Kp in Le)return Le[nh]=Ce,Le;const Fe=function(){ju(o);const We=Array.from(arguments),Re=[],at=[];function Ct(it){Re.push(it)}function $t(it){at.push(it)}as(P,{args:We,name:Fe[nh],store:pe,after:Ct,onError:$t});let qe;try{qe=Le.apply(this&&this.$id===e?this:pe,We)}catch(it){throw as(at,it),it}return qe instanceof Promise?qe.then(it=>(as(Re,it),it)).catch(it=>(as(at,it),Promise.reject(it))):(as(Re,qe),qe)};return Fe[Kp]=!0,Fe[nh]=Ce,Fe},ne={_p:o,$id:e,$onAction:qp.bind(null,P),$patch:oe,$reset:te,$subscribe(Le,Ce={}){const Fe=qp(w,Le,Ce.detached,()=>We()),We=u.run(()=>yn(()=>o.state.value[e],Re=>{(Ce.flush==="sync"?b:v)&&Le({storeId:e,type:Ea.direct,events:O},Re)},Fr({},_,Ce)));return Fe},$dispose:ee},pe=Za(ne);o._s.set(e,pe);const Ne=(o._a&&o._a.runWithContext||m1)(()=>o._e.run(()=>(u=Kf()).run(()=>t({action:z}))));for(const Le in Ne){const Ce=Ne[Le];if(gn(Ce)&&!y1(Ce)||fr(Ce))s||(R&&g1(Ce)&&(gn(Ce)?Ce.value=R[Le]:Sh(Ce,R[Le])),o.state.value[e][Le]=Ce);else if(typeof Ce=="function"){const Fe=z(Ce,Le);Ne[Le]=Fe,f.actions[Le]=Ce}}return Fr(pe,Ne),Fr(Ft(pe),Ne),Object.defineProperty(pe,"$state",{get:()=>o.state.value[e],set:Le=>{oe(Ce=>{Fr(Ce,Le)})}}),o._p.forEach(Le=>{Fr(pe,u.run(()=>Le({store:pe,app:o._a,pinia:o,options:f})))}),R&&s&&i.hydrate&&i.hydrate(pe.$state,R),v=!0,b=!0,pe}function vr(e,t,i){let o,c;const s=typeof t=="function";typeof e=="string"?(o=e,c=s?i:t):(c=e,o=e.id);function u(f,_){const v=Iy();return f=f||(v?Mi(M_,null):null),f&&ju(f),f=E_,f._s.has(o)||(s?B_(o,t,c,f):v1(o,c,f)),f._s.get(o)}return u.$id=o,u}const vd=vr("footerStore",{state:()=>({nextAuthor:""}),actions:{async setNextAuthorText(e){this.nextAuthor=e}}});var b1={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const x1={key:0},w1={__name:"FooterAnalytics",setup(e){const t={analytics:"Google Analytics",gtm:"Google Tag Manager",pixel:"Facebook Pixel",retargeting:"VK Retargeting",linkedin:"Linkedin Insight",tongji:"Baidu Tongji",metrica:"Yandex Metrica",microsoft:"Microsoft Analytics",hotjar:"Hotjar Analytics",fullStory:"Full story Analytics",unbounce:"Unbounce conversion analytics",tiktok:"TikTok Pixel Analytics"},o=Object.keys(b1.analytics_services||{}).map(c=>t[c]).filter(Boolean).join("; ");return(c,s)=>Ie(o)?(S(),U("span",x1,"This site uses "+Be(Ie(o))+".",1)):Ee("",!0)}};var L1={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const C1={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},k1={class:"container mx-auto text-sm pt-2 pb-4"},E1={class:"pt-4 pb-2 break-words"},M1=["innerHTML"],S1={key:0},P1=["href"],B1={class:"flex items-center text-xs gap-2"},T1=["src"],A1={class:"flex flex-col sm:flex-row justify-between gap-4"},O1={class:"[&>*:not(:last-child)]:after:content-['|'] [&>*:not(:last-child)]:after:mx-1"},R1={__name:"LayoutFooter",setup(e){const{project_authors:t,project_citation:i,project_url:o,copyright_text:c,copyright_image:s,copyright_image_link:u,hash_mode:f}=L1,_=vd(),v=new Date().toISOString().split("T")[0],b=Ya(),w=Ze(()=>{const P=(o||"").replace(/\/$/,"");return P.length?f?P+"/#"+b.fullPath:P+b.fullPath:""});return(P,O)=>{const R=se("ClientOnly"),V=se("TrackerReport");return S(),U("footer",C1,[N("div",k1,[N("div",E1,[Ge(Be(Ie(t))+" ",1),q(R,null,{default:J(()=>[N("span",{innerHTML:Ie(_).nextAuthor},null,8,M1)]),_:1}),Ge(" "+Be(Ie(i))+". ",1),q(R,null,{default:J(()=>[N("span",null,"Retrieved on "+Be(Ie(v)),1)]),_:1}),w.value?(S(),U("span",S1,[O[0]||(O[0]=Ge(" at ")),N("a",{class:"text-secondary-color",href:w.value},Be(w.value),9,P1)])):Ee("",!0)]),N("div",B1,[(S(),ye(So(Ie(u)?"a":"span"),{href:Ie(u),class:"min-w-fit"},{default:J(()=>[Ie(s)?(S(),U("img",{key:0,src:Ie(s),alt:"copyright"},null,8,T1)):Ee("",!0)]),_:1},8,["href"])),N("span",null,Be(Ie(c)),1)]),O[4]||(O[4]=N("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1)),N("div",A1,[N("div",O1,[O[1]||(O[1]=N("span",null,[Ge(" Data provided by "),N("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://taxonworks.org/"}," TaxonWorks ")],-1)),O[2]||(O[2]=N("span",null,[Ge(" Pages by "),N("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://github.com/SpeciesFileGroup/taxonpages"}," TaxonPages ")],-1)),O[3]||(O[3]=N("span",null,[Ge(" Support (Services) by "),N("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://speciesfilegroup.org"}," Species File Group ")],-1)),q(w1,{class:"italic"})]),q(V,{icon:"",label:"Report a problem","button-class":"flex gap-2 items-center pl-0 pr-0 pt-0 pb-0 self-end"})])])])}}},D1={class:"min-h-screen h-screen flex flex-col justify-between"},I1={class:"flex flex-col flex-grow"},F1={__name:"Application",setup(e){return(t,i)=>(S(),U("div",D1,[N("div",I1,[q(hb),xt(t.$slots,"default")]),q(R1)]))}};var Wp={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const j1={__name:"App",setup(e){return _d({title:Wp.project_name,meta:Wp.metadata}),(t,i)=>{const o=se("router-view");return S(),ye(F1,null,{default:J(()=>[q(o)]),_:1})}}},gt=(e,t)=>{const i=e.__vccOpts||e;for(const[o,c]of t)i[o]=c;return i},N1={},z1={class:"mx-auto"};function V1(e,t){return S(),U("div",z1,t[0]||(t[0]=[N("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[N("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),N("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1)]))}const G1=gt(N1,[["render",V1]]),$1={},U1={class:"container mx-auto text-center relative top-1/4"};function H1(e,t){return S(),U("div",U1,t[0]||(t[0]=[N("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),N("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1)]))}const Z1=gt($1,[["render",H1]]),q1=[{name:"homepage",path:"/",alias:"/home",component:Z1}],K1={},W1={class:"container mx-auto text-center relative top-1/4"};function J1(e,t){return S(),U("div",W1,t[0]||(t[0]=[N("h1",{class:"text-7xl text-base-lighter"},"500",-1),N("p",null,"Internal Server Error.",-1),N("p",{class:"m-4 my-10 text-xl"},[Ge(" Uh oh, looks like something went wrong!"),N("br"),Ge(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1)]))}const Y1=gt(K1,[["render",J1]]),X1={},Q1={class:"container mx-auto text-center relative top-1/4"};function e4(e,t){return S(),U("div",Q1,t[0]||(t[0]=[N("h1",{class:"text-7xl text-base-lighter"},"404",-1),N("p",null,"Page not found.",-1),N("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1)]))}const t4=gt(X1,[["render",e4]]),n4=[{path:"/500",name:"httpError500",component:Y1,meta:{statusCode:500}},{path:"/:pathMatch(.*)*",name:"httpError404",component:t4,meta:{statusCode:404}}],i4="TypeMaterial",T_="CollectionObject",r4="AssertedDistribution",o4="Georeference",s4="Aggregate",Jp="Otu";function A_(e,t){return function(){return e.apply(t,arguments)}}const{toString:a4}=Object.prototype,{getPrototypeOf:bd}=Object,Nu=(e=>t=>{const i=a4.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),ji=e=>(e=e.toLowerCase(),t=>Nu(t)===e),zu=e=>t=>typeof t===e,{isArray:ws}=Array,za=zu("undefined");function l4(e){return e!==null&&!za(e)&&e.constructor!==null&&!za(e.constructor)&&fi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const O_=ji("ArrayBuffer");function u4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&O_(e.buffer),t}const c4=zu("string"),fi=zu("function"),R_=zu("number"),Vu=e=>e!==null&&typeof e=="object",h4=e=>e===!0||e===!1,iu=e=>{if(Nu(e)!=="object")return!1;const t=bd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},d4=ji("Date"),p4=ji("File"),f4=ji("Blob"),m4=ji("FileList"),_4=e=>Vu(e)&&fi(e.pipe),g4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||fi(e.append)&&((t=Nu(e))==="formdata"||t==="object"&&fi(e.toString)&&e.toString()==="[object FormData]"))},y4=ji("URLSearchParams"),[v4,b4,x4,w4]=["ReadableStream","Request","Response","Headers"].map(ji),L4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xa(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let o,c;if(typeof e!="object"&&(e=[e]),ws(e))for(o=0,c=e.length;o<c;o++)t.call(null,e[o],o,e);else{const s=i?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;let f;for(o=0;o<u;o++)f=s[o],t.call(null,e[f],f,e)}}function D_(e,t){t=t.toLowerCase();const i=Object.keys(e);let o=i.length,c;for(;o-- >0;)if(c=i[o],t===c.toLowerCase())return c;return null}const _o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,I_=e=>!za(e)&&e!==_o;function Ph(){const{caseless:e}=I_(this)&&this||{},t={},i=(o,c)=>{const s=e&&D_(t,c)||c;iu(t[s])&&iu(o)?t[s]=Ph(t[s],o):iu(o)?t[s]=Ph({},o):ws(o)?t[s]=o.slice():t[s]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Xa(arguments[o],i);return t}const C4=(e,t,i,{allOwnKeys:o}={})=>(Xa(t,(c,s)=>{i&&fi(c)?e[s]=A_(c,i):e[s]=c},{allOwnKeys:o}),e),k4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),E4=(e,t,i,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},M4=(e,t,i,o)=>{let c,s,u;const f={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),s=c.length;s-- >0;)u=c[s],(!o||o(u,e,t))&&!f[u]&&(t[u]=e[u],f[u]=!0);e=i!==!1&&bd(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},S4=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const o=e.indexOf(t,i);return o!==-1&&o===i},P4=e=>{if(!e)return null;if(ws(e))return e;let t=e.length;if(!R_(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},B4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bd(Uint8Array)),T4=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=i.next())&&!o.done;){const c=o.value;t.call(e,c[0],c[1])}},A4=(e,t)=>{let i;const o=[];for(;(i=e.exec(t))!==null;)o.push(i);return o},O4=ji("HTMLFormElement"),R4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),Yp=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),D4=ji("RegExp"),F_=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),o={};Xa(i,(c,s)=>{let u;(u=t(c,s,e))!==!1&&(o[s]=u||c)}),Object.defineProperties(e,o)},I4=e=>{F_(e,(t,i)=>{if(fi(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=e[i];if(fi(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},F4=(e,t)=>{const i={},o=c=>{c.forEach(s=>{i[s]=!0})};return ws(e)?o(e):o(String(e).split(t)),i},j4=()=>{},N4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,ih="abcdefghijklmnopqrstuvwxyz",Xp="0123456789",j_={DIGIT:Xp,ALPHA:ih,ALPHA_DIGIT:ih+ih.toUpperCase()+Xp},z4=(e=16,t=j_.ALPHA_DIGIT)=>{let i="";const{length:o}=t;for(;e--;)i+=t[Math.random()*o|0];return i};function V4(e){return!!(e&&fi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const G4=e=>{const t=new Array(10),i=(o,c)=>{if(Vu(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[c]=o;const s=ws(o)?[]:{};return Xa(o,(u,f)=>{const _=i(u,c+1);!za(_)&&(s[f]=_)}),t[c]=void 0,s}}return o};return i(e,0)},$4=ji("AsyncFunction"),U4=e=>e&&(Vu(e)||fi(e))&&fi(e.then)&&fi(e.catch),N_=((e,t)=>e?setImmediate:t?((i,o)=>(_o.addEventListener("message",({source:c,data:s})=>{c===_o&&s===i&&o.length&&o.shift()()},!1),c=>{o.push(c),_o.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",fi(_o.postMessage)),H4=typeof queueMicrotask<"u"?queueMicrotask.bind(_o):typeof process<"u"&&process.nextTick||N_,ve={isArray:ws,isArrayBuffer:O_,isBuffer:l4,isFormData:g4,isArrayBufferView:u4,isString:c4,isNumber:R_,isBoolean:h4,isObject:Vu,isPlainObject:iu,isReadableStream:v4,isRequest:b4,isResponse:x4,isHeaders:w4,isUndefined:za,isDate:d4,isFile:p4,isBlob:f4,isRegExp:D4,isFunction:fi,isStream:_4,isURLSearchParams:y4,isTypedArray:B4,isFileList:m4,forEach:Xa,merge:Ph,extend:C4,trim:L4,stripBOM:k4,inherits:E4,toFlatObject:M4,kindOf:Nu,kindOfTest:ji,endsWith:S4,toArray:P4,forEachEntry:T4,matchAll:A4,isHTMLForm:O4,hasOwnProperty:Yp,hasOwnProp:Yp,reduceDescriptors:F_,freezeMethods:I4,toObjectSet:F4,toCamelCase:R4,noop:j4,toFiniteNumber:N4,findKey:D_,global:_o,isContextDefined:I_,ALPHABET:j_,generateString:z4,isSpecCompliantForm:V4,toJSONObject:G4,isAsyncFn:$4,isThenable:U4,setImmediate:N_,asap:H4};function wt(e,t,i,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}ve.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const z_=wt.prototype,V_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{V_[e]={value:e}});Object.defineProperties(wt,V_);Object.defineProperty(z_,"isAxiosError",{value:!0});wt.from=(e,t,i,o,c,s)=>{const u=Object.create(z_);return ve.toFlatObject(e,u,function(f){return f!==Error.prototype},f=>f!=="isAxiosError"),wt.call(u,e.message,t,i,o,c),u.cause=e,u.name=e.name,s&&Object.assign(u,s),u};const Z4=null;function Bh(e){return ve.isPlainObject(e)||ve.isArray(e)}function G_(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function Qp(e,t,i){return e?e.concat(t).map(function(o,c){return o=G_(o),!i&&c?"["+o+"]":o}).join(i?".":""):t}function q4(e){return ve.isArray(e)&&!e.some(Bh)}const K4=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function Gu(e,t,i){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=ve.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,R){return!ve.isUndefined(R[O])});const o=i.metaTokens,c=i.visitor||v,s=i.dots,u=i.indexes,f=(i.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(c))throw new TypeError("visitor must be a function");function _(O){if(O===null)return"";if(ve.isDate(O))return O.toISOString();if(!f&&ve.isBlob(O))throw new wt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(O)||ve.isTypedArray(O)?f&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function v(O,R,V){let oe=O;if(O&&!V&&typeof O=="object"){if(ve.endsWith(R,"{}"))R=o?R:R.slice(0,-2),O=JSON.stringify(O);else if(ve.isArray(O)&&q4(O)||(ve.isFileList(O)||ve.endsWith(R,"[]"))&&(oe=ve.toArray(O)))return R=G_(R),oe.forEach(function(te,ee){!(ve.isUndefined(te)||te===null)&&t.append(u===!0?Qp([R],ee,s):u===null?R:R+"[]",_(te))}),!1}return Bh(O)?!0:(t.append(Qp(V,R,s),_(O)),!1)}const b=[],w=Object.assign(K4,{defaultVisitor:v,convertValue:_,isVisitable:Bh});function P(O,R){if(!ve.isUndefined(O)){if(b.indexOf(O)!==-1)throw Error("Circular reference detected in "+R.join("."));b.push(O),ve.forEach(O,function(V,oe){(!(ve.isUndefined(V)||V===null)&&c.call(t,V,ve.isString(oe)?oe.trim():oe,R,w))===!0&&P(V,R?R.concat(oe):[oe])}),b.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return P(e),t}function ef(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function xd(e,t){this._pairs=[],e&&Gu(e,this,t)}const $_=xd.prototype;$_.append=function(e,t){this._pairs.push([e,t])};$_.toString=function(e){const t=e?function(i){return e.call(this,i,ef)}:ef;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function W4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function U_(e,t,i){if(!t)return e;const o=i&&i.encode||W4,c=i&&i.serialize;let s;if(c?s=c(t,i):s=ve.isURLSearchParams(t)?t.toString():new xd(t,i).toString(o),s){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class tf{constructor(){this.handlers=[]}use(t,i,o){return this.handlers.push({fulfilled:t,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(i){i!==null&&t(i)})}}const H_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J4=typeof URLSearchParams<"u"?URLSearchParams:xd,Y4=typeof FormData<"u"?FormData:null,X4=typeof Blob<"u"?Blob:null,Q4={isBrowser:!0,classes:{URLSearchParams:J4,FormData:Y4,Blob:X4},protocols:["http","https","file","blob","url","data"]},wd=typeof window<"u"&&typeof document<"u",Th=typeof navigator=="object"&&navigator||void 0,ex=wd&&(!Th||["ReactNative","NativeScript","NS"].indexOf(Th.product)<0),tx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nx=wd&&window.location.href||"http://localhost",ix=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wd,hasStandardBrowserEnv:ex,hasStandardBrowserWebWorkerEnv:tx,navigator:Th,origin:nx},Symbol.toStringTag,{value:"Module"})),ri={...ix,...Q4};function rx(e,t){return Gu(e,new ri.classes.URLSearchParams,Object.assign({visitor:function(i,o,c,s){return ri.isNode&&ve.isBuffer(i)?(this.append(o,i.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function ox(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sx(e){const t={},i=Object.keys(e);let o;const c=i.length;let s;for(o=0;o<c;o++)s=i[o],t[s]=e[s];return t}function Z_(e){function t(i,o,c,s){let u=i[s++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),_=s>=i.length;return u=!u&&ve.isArray(c)?c.length:u,_?(ve.hasOwnProp(c,u)?c[u]=[c[u],o]:c[u]=o,!f):((!c[u]||!ve.isObject(c[u]))&&(c[u]=[]),t(i,o,c[u],s)&&ve.isArray(c[u])&&(c[u]=sx(c[u])),!f)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const i={};return ve.forEachEntry(e,(o,c)=>{t(ox(o),c,i,0)}),i}return null}function ax(e,t,i){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(e)}const Qa={transitional:H_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,c=ve.isObject(e);if(c&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return o?JSON.stringify(Z_(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return rx(e,this.formSerializer).toString();if((s=ve.isFileList(e))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Gu(s?{"files[]":e}:e,u&&new u,this.formSerializer)}}return c||o?(t.setContentType("application/json",!1),ax(e)):e}],transformResponse:[function(e){const t=this.transitional||Qa.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(i&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(s){if(c)throw s.name==="SyntaxError"?wt.from(s,wt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ri.classes.FormData,Blob:ri.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{Qa.headers[e]={}});const lx=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ux=e=>{const t={};let i,o,c;return e&&e.split(`
`).forEach(function(s){c=s.indexOf(":"),i=s.substring(0,c).trim().toLowerCase(),o=s.substring(c+1).trim(),!(!i||t[i]&&lx[i])&&(i==="set-cookie"?t[i]?t[i].push(o):t[i]=[o]:t[i]=t[i]?t[i]+", "+o:o)}),t},nf=Symbol("internals");function pa(e){return e&&String(e).trim().toLowerCase()}function ru(e){return e===!1||e==null?e:ve.isArray(e)?e.map(ru):String(e)}function cx(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(e);)t[o[1]]=o[2];return t}const hx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function rh(e,t,i,o,c){if(ve.isFunction(o))return o.call(this,t,i);if(c&&(t=i),!!ve.isString(t)){if(ve.isString(o))return t.indexOf(o)!==-1;if(ve.isRegExp(o))return o.test(t)}}function dx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,o)=>i.toUpperCase()+o)}function px(e,t){const i=ve.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+i,{value:function(c,s,u){return this[o].call(this,t,c,s,u)},configurable:!0})})}class oi{constructor(t){t&&this.set(t)}set(t,i,o){const c=this;function s(f,_,v){const b=pa(_);if(!b)throw new Error("header name must be a non-empty string");const w=ve.findKey(c,b);(!w||c[w]===void 0||v===!0||v===void 0&&c[w]!==!1)&&(c[w||_]=ru(f))}const u=(f,_)=>ve.forEach(f,(v,b)=>s(v,b,_));if(ve.isPlainObject(t)||t instanceof this.constructor)u(t,i);else if(ve.isString(t)&&(t=t.trim())&&!hx(t))u(ux(t),i);else if(ve.isHeaders(t))for(const[f,_]of t.entries())s(_,f,o);else t!=null&&s(i,t,o);return this}get(t,i){if(t=pa(t),t){const o=ve.findKey(this,t);if(o){const c=this[o];if(!i)return c;if(i===!0)return cx(c);if(ve.isFunction(i))return i.call(this,c,o);if(ve.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=pa(t),t){const o=ve.findKey(this,t);return!!(o&&this[o]!==void 0&&(!i||rh(this,this[o],o,i)))}return!1}delete(t,i){const o=this;let c=!1;function s(u){if(u=pa(u),u){const f=ve.findKey(o,u);f&&(!i||rh(o,o[f],f,i))&&(delete o[f],c=!0)}}return ve.isArray(t)?t.forEach(s):s(t),c}clear(t){const i=Object.keys(this);let o=i.length,c=!1;for(;o--;){const s=i[o];(!t||rh(this,this[s],s,t,!0))&&(delete this[s],c=!0)}return c}normalize(t){const i=this,o={};return ve.forEach(this,(c,s)=>{const u=ve.findKey(o,s);if(u){i[u]=ru(c),delete i[s];return}const f=t?dx(s):String(s).trim();f!==s&&delete i[s],i[f]=ru(c),o[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return ve.forEach(this,(o,c)=>{o!=null&&o!==!1&&(i[c]=t&&ve.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const o=new this(t);return i.forEach(c=>o.set(c)),o}static accessor(t){const i=(this[nf]=this[nf]={accessors:{}}).accessors,o=this.prototype;function c(s){const u=pa(s);i[u]||(px(o,s),i[u]=!0)}return ve.isArray(t)?t.forEach(c):c(t),this}}oi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(oi.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[i]=o}}});ve.freezeMethods(oi);function oh(e,t){const i=this||Qa,o=t||i,c=oi.from(o.headers);let s=o.data;return ve.forEach(e,function(u){s=u.call(i,s,c.normalize(),t?t.status:void 0)}),c.normalize(),s}function q_(e){return!!(e&&e.__CANCEL__)}function Ls(e,t,i){wt.call(this,e??"canceled",wt.ERR_CANCELED,t,i),this.name="CanceledError"}ve.inherits(Ls,wt,{__CANCEL__:!0});function K_(e,t,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?e(i):t(new wt("Request failed with status code "+i.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function fx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mx(e,t){e=e||10;const i=new Array(e),o=new Array(e);let c=0,s=0,u;return t=t!==void 0?t:1e3,function(f){const _=Date.now(),v=o[s];u||(u=_),i[c]=f,o[c]=_;let b=s,w=0;for(;b!==c;)w+=i[b++],b=b%e;if(c=(c+1)%e,c===s&&(s=(s+1)%e),_-u<t)return;const P=v&&_-v;return P?Math.round(w*1e3/P):void 0}}function _x(e,t){let i=0,o=1e3/t,c,s;const u=(f,_=Date.now())=>{i=_,c=null,s&&(clearTimeout(s),s=null),e.apply(null,f)};return[(...f)=>{const _=Date.now(),v=_-i;v>=o?u(f,_):(c=f,s||(s=setTimeout(()=>{s=null,u(c)},o-v)))},()=>c&&u(c)]}const vu=(e,t,i=3)=>{let o=0;const c=mx(50,250);return _x(s=>{const u=s.loaded,f=s.lengthComputable?s.total:void 0,_=u-o,v=c(_),b=u<=f;o=u;const w={loaded:u,total:f,progress:f?u/f:void 0,bytes:_,rate:v||void 0,estimated:v&&f&&b?(f-u)/v:void 0,event:s,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(w)},i)},rf=(e,t)=>{const i=e!=null;return[o=>t[0]({lengthComputable:i,total:e,loaded:o}),t[1]]},of=e=>(...t)=>ve.asap(()=>e(...t)),gx=ri.hasStandardBrowserEnv?function(){const e=ri.navigator&&/(msie|trident)/i.test(ri.navigator.userAgent),t=document.createElement("a");let i;function o(c){let s=c;return e&&(t.setAttribute("href",s),s=t.href),t.setAttribute("href",s),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=o(window.location.href),function(c){const s=ve.isString(c)?o(c):c;return s.protocol===i.protocol&&s.host===i.host}}():function(){return function(){return!0}}(),yx=ri.hasStandardBrowserEnv?{write(e,t,i,o,c,s){const u=[e+"="+encodeURIComponent(t)];ve.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),ve.isString(o)&&u.push("path="+o),ve.isString(c)&&u.push("domain="+c),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function W_(e,t){return e&&!vx(t)?bx(e,t):t}const sf=e=>e instanceof oi?{...e}:e;function Eo(e,t){t=t||{};const i={};function o(v,b,w){return ve.isPlainObject(v)&&ve.isPlainObject(b)?ve.merge.call({caseless:w},v,b):ve.isPlainObject(b)?ve.merge({},b):ve.isArray(b)?b.slice():b}function c(v,b,w){if(ve.isUndefined(b)){if(!ve.isUndefined(v))return o(void 0,v,w)}else return o(v,b,w)}function s(v,b){if(!ve.isUndefined(b))return o(void 0,b)}function u(v,b){if(ve.isUndefined(b)){if(!ve.isUndefined(v))return o(void 0,v)}else return o(void 0,b)}function f(v,b,w){if(w in t)return o(v,b);if(w in e)return o(void 0,v)}const _={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(v,b)=>c(sf(v),sf(b),!0)};return ve.forEach(Object.keys(Object.assign({},e,t)),function(v){const b=_[v]||c,w=b(e[v],t[v],v);ve.isUndefined(w)&&b!==f||(i[v]=w)}),i}const J_=e=>{const t=Eo({},e);let{data:i,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:s,headers:u,auth:f}=t;t.headers=u=oi.from(u),t.url=U_(W_(t.baseURL,t.url),e.params,e.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let _;if(ve.isFormData(i)){if(ri.hasStandardBrowserEnv||ri.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((_=u.getContentType())!==!1){const[v,...b]=_?_.split(";").map(w=>w.trim()).filter(Boolean):[];u.setContentType([v||"multipart/form-data",...b].join("; "))}}if(ri.hasStandardBrowserEnv&&(o&&ve.isFunction(o)&&(o=o(t)),o||o!==!1&&gx(t.url))){const v=c&&s&&yx.read(s);v&&u.set(c,v)}return t},xx=typeof XMLHttpRequest<"u",wx=xx&&function(e){return new Promise(function(t,i){const o=J_(e);let c=o.data;const s=oi.from(o.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:_}=o,v,b,w,P,O;function R(){P&&P(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let V=new XMLHttpRequest;V.open(o.method.toUpperCase(),o.url,!0),V.timeout=o.timeout;function oe(){if(!V)return;const ee=oi.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),z={data:!u||u==="text"||u==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:ee,config:e,request:V};K_(function(ne){t(ne),R()},function(ne){i(ne),R()},z),V=null}"onloadend"in V?V.onloadend=oe:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(oe)},V.onabort=function(){V&&(i(new wt("Request aborted",wt.ECONNABORTED,e,V)),V=null)},V.onerror=function(){i(new wt("Network Error",wt.ERR_NETWORK,e,V)),V=null},V.ontimeout=function(){let ee=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const z=o.transitional||H_;o.timeoutErrorMessage&&(ee=o.timeoutErrorMessage),i(new wt(ee,z.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,e,V)),V=null},c===void 0&&s.setContentType(null),"setRequestHeader"in V&&ve.forEach(s.toJSON(),function(ee,z){V.setRequestHeader(z,ee)}),ve.isUndefined(o.withCredentials)||(V.withCredentials=!!o.withCredentials),u&&u!=="json"&&(V.responseType=o.responseType),_&&([w,O]=vu(_,!0),V.addEventListener("progress",w)),f&&V.upload&&([b,P]=vu(f),V.upload.addEventListener("progress",b),V.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(v=ee=>{V&&(i(!ee||ee.type?new Ls(null,e,V):ee),V.abort(),V=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const te=fx(o.url);if(te&&ri.protocols.indexOf(te)===-1){i(new wt("Unsupported protocol "+te+":",wt.ERR_BAD_REQUEST,e));return}V.send(c||null)})},Lx=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let o=new AbortController,c;const s=function(v){if(!c){c=!0,f();const b=v instanceof Error?v:this.reason;o.abort(b instanceof wt?b:new Ls(b instanceof Error?b.message:b))}};let u=t&&setTimeout(()=>{u=null,s(new wt(`timeout ${t} of ms exceeded`,wt.ETIMEDOUT))},t);const f=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(v=>{v.unsubscribe?v.unsubscribe(s):v.removeEventListener("abort",s)}),e=null)};e.forEach(v=>v.addEventListener("abort",s));const{signal:_}=o;return _.unsubscribe=()=>ve.asap(f),_}},Cx=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let o=0,c;for(;o<i;)c=o+t,yield e.slice(o,c),o=c},kx=async function*(e,t){for await(const i of Ex(e))yield*Cx(i,t)},Ex=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:o}=await t.read();if(i)break;yield o}}finally{await t.cancel()}},af=(e,t,i,o)=>{const c=kx(e,t);let s=0,u,f=_=>{u||(u=!0,o&&o(_))};return new ReadableStream({async pull(_){try{const{done:v,value:b}=await c.next();if(v){f(),_.close();return}let w=b.byteLength;if(i){let P=s+=w;i(P)}_.enqueue(new Uint8Array(b))}catch(v){throw f(v),v}},cancel(_){return f(_),c.return()}},{highWaterMark:2})},$u=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Y_=$u&&typeof ReadableStream=="function",Mx=$u&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),X_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Sx=Y_&&X_(()=>{let e=!1;const t=new Request(ri.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),lf=64*1024,Ah=Y_&&X_(()=>ve.isReadableStream(new Response("").body)),bu={stream:Ah&&(e=>e.body)};$u&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!bu[t]&&(bu[t]=ve.isFunction(e[t])?i=>i[t]():(i,o)=>{throw new wt(`Response type '${t}' is not supported`,wt.ERR_NOT_SUPPORT,o)})})})(new Response);const Px=async e=>{if(e==null)return 0;if(ve.isBlob(e))return e.size;if(ve.isSpecCompliantForm(e))return(await new Request(ri.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(e)||ve.isArrayBuffer(e))return e.byteLength;if(ve.isURLSearchParams(e)&&(e=e+""),ve.isString(e))return(await Mx(e)).byteLength},Bx=async(e,t)=>ve.toFiniteNumber(e.getContentLength())??Px(t),Tx=$u&&(async e=>{let{url:t,method:i,data:o,signal:c,cancelToken:s,timeout:u,onDownloadProgress:f,onUploadProgress:_,responseType:v,headers:b,withCredentials:w="same-origin",fetchOptions:P}=J_(e);v=v?(v+"").toLowerCase():"text";let O=Lx([c,s&&s.toAbortSignal()],u),R;const V=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let oe;try{if(_&&Sx&&i!=="get"&&i!=="head"&&(oe=await Bx(b,o))!==0){let pe=new Request(t,{method:"POST",body:o,duplex:"half"}),Se;if(ve.isFormData(o)&&(Se=pe.headers.get("content-type"))&&b.setContentType(Se),pe.body){const[Ne,Le]=rf(oe,vu(of(_)));o=af(pe.body,lf,Ne,Le)}}ve.isString(w)||(w=w?"include":"omit");const te="credentials"in Request.prototype;R=new Request(t,{...P,signal:O,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:te?w:void 0});let ee=await fetch(R);const z=Ah&&(v==="stream"||v==="response");if(Ah&&(f||z&&V)){const pe={};["status","statusText","headers"].forEach(Ce=>{pe[Ce]=ee[Ce]});const Se=ve.toFiniteNumber(ee.headers.get("content-length")),[Ne,Le]=f&&rf(Se,vu(of(f),!0))||[];ee=new Response(af(ee.body,lf,Ne,()=>{Le&&Le(),V&&V()}),pe)}v=v||"text";let ne=await bu[ve.findKey(bu,v)||"text"](ee,e);return!z&&V&&V(),await new Promise((pe,Se)=>{K_(pe,Se,{data:ne,headers:oi.from(ee.headers),status:ee.status,statusText:ee.statusText,config:e,request:R})})}catch(te){throw V&&V(),te&&te.name==="TypeError"&&/fetch/i.test(te.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,e,R),{cause:te.cause||te}):wt.from(te,te&&te.code,e,R)}}),Oh={http:Z4,xhr:wx,fetch:Tx};ve.forEach(Oh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uf=e=>`- ${e}`,Ax=e=>ve.isFunction(e)||e===null||e===!1,Q_={getAdapter:e=>{e=ve.isArray(e)?e:[e];const{length:t}=e;let i,o;const c={};for(let s=0;s<t;s++){i=e[s];let u;if(o=i,!Ax(i)&&(o=Oh[(u=String(i)).toLowerCase()],o===void 0))throw new wt(`Unknown adapter '${u}'`);if(o)break;c[u||"#"+s]=o}if(!o){const s=Object.entries(c).map(([f,_])=>`adapter ${f} `+(_===!1?"is not supported by the environment":"is not available in the build"));let u=t?s.length>1?`since :
`+s.map(uf).join(`
`):" "+uf(s[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o},adapters:Oh};function sh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ls(null,e)}function cf(e){return sh(e),e.headers=oi.from(e.headers),e.data=oh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Q_.getAdapter(e.adapter||Qa.adapter)(e).then(function(t){return sh(e),t.data=oh.call(e,e.transformResponse,t),t.headers=oi.from(t.headers),t},function(t){return q_(t)||(sh(e),t&&t.response&&(t.response.data=oh.call(e,e.transformResponse,t.response),t.response.headers=oi.from(t.response.headers))),Promise.reject(t)})}const eg="1.7.7",Ld={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ld[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const hf={};Ld.transitional=function(e,t,i){function o(c,s){return"[Axios v"+eg+"] Transitional option '"+c+"'"+s+(i?". "+i:"")}return(c,s,u)=>{if(e===!1)throw new wt(o(s," has been removed"+(t?" in "+t:"")),wt.ERR_DEPRECATED);return t&&!hf[s]&&(hf[s]=!0,console.warn(o(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(c,s,u):!0}};function Ox(e,t,i){if(typeof e!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let c=o.length;for(;c-- >0;){const s=o[c],u=t[s];if(u){const f=e[s],_=f===void 0||u(f,s,e);if(_!==!0)throw new wt("option "+s+" must be "+_,wt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new wt("Unknown option "+s,wt.ERR_BAD_OPTION)}}const Rh={assertOptions:Ox,validators:Ld},Dr=Rh.validators;class wo{constructor(t){this.defaults=t,this.interceptors={request:new tf,response:new tf}}async request(t,i){try{return await this._request(t,i)}catch(o){if(o instanceof Error){let c;Error.captureStackTrace?Error.captureStackTrace(c={}):c=new Error;const s=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?s&&!String(o.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+s):o.stack=s}catch{}}throw o}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Eo(this.defaults,i);const{transitional:o,paramsSerializer:c,headers:s}=i;o!==void 0&&Rh.assertOptions(o,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),c!=null&&(ve.isFunction(c)?i.paramsSerializer={serialize:c}:Rh.assertOptions(c,{encode:Dr.function,serialize:Dr.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let u=s&&ve.merge(s.common,s[i.method]);s&&ve.forEach(["delete","get","head","post","put","patch","common"],R=>{delete s[R]}),i.headers=oi.concat(u,s);const f=[];let _=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(i)===!1||(_=_&&R.synchronous,f.unshift(R.fulfilled,R.rejected))});const v=[];this.interceptors.response.forEach(function(R){v.push(R.fulfilled,R.rejected)});let b,w=0,P;if(!_){const R=[cf.bind(this),void 0];for(R.unshift.apply(R,f),R.push.apply(R,v),P=R.length,b=Promise.resolve(i);w<P;)b=b.then(R[w++],R[w++]);return b}P=f.length;let O=i;for(w=0;w<P;){const R=f[w++],V=f[w++];try{O=R(O)}catch(oe){V.call(this,oe);break}}try{b=cf.call(this,O)}catch(R){return Promise.reject(R)}for(w=0,P=v.length;w<P;)b=b.then(v[w++],v[w++]);return b}getUri(t){t=Eo(this.defaults,t);const i=W_(t.baseURL,t.url);return U_(i,t.params,t.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(e){wo.prototype[e]=function(t,i){return this.request(Eo(i||{},{method:e,url:t,data:(i||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function t(i){return function(o,c,s){return this.request(Eo(s||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}wo.prototype[e]=t(),wo.prototype[e+"Form"]=t(!0)});class Cd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(c){i=c});const o=this;this.promise.then(c=>{if(!o._listeners)return;let s=o._listeners.length;for(;s-- >0;)o._listeners[s](c);o._listeners=null}),this.promise.then=c=>{let s;const u=new Promise(f=>{o.subscribe(f),s=f}).then(c);return u.cancel=function(){o.unsubscribe(s)},u},t(function(c,s,u){o.reason||(o.reason=new Ls(c,s,u),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=o=>{t.abort(o)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new Cd(function(i){t=i}),cancel:t}}}function Rx(e){return function(t){return e.apply(null,t)}}function Dx(e){return ve.isObject(e)&&e.isAxiosError===!0}const Dh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dh).forEach(([e,t])=>{Dh[t]=e});function tg(e){const t=new wo(e),i=A_(wo.prototype.request,t);return ve.extend(i,wo.prototype,t,{allOwnKeys:!0}),ve.extend(i,t,null,{allOwnKeys:!0}),i.create=function(o){return tg(Eo(e,o))},i}const Ln=tg(Qa);Ln.Axios=wo;Ln.CanceledError=Ls;Ln.CancelToken=Cd;Ln.isCancel=q_;Ln.VERSION=eg;Ln.toFormData=Gu;Ln.AxiosError=wt;Ln.Cancel=Ln.CanceledError;Ln.all=function(e){return Promise.all(e)};Ln.spread=Rx;Ln.isAxiosError=Dx;Ln.mergeConfig=Eo;Ln.AxiosHeaders=oi;Ln.formToJSON=e=>Z_(ve.isHTMLForm(e)?new FormData(e):e);Ln.getAdapter=Q_.getAdapter;Ln.HttpStatusCode=Dh;Ln.default=Ln;const ng=(e={})=>{const t=Po(),{baseURL:i,projectId:o,projectToken:c,userToken:s,csrfToken:u}=t.getAPIConfig,f={baseURL:i,params:{project_id:o,project_token:c,token:s},...e};return(!c||!(o&&s)&&u)&&Object.assign(f,{headers:{"X-CSRF-Token":u}}),Ln.create({...f})};class Ix{static key(t,i){return ng().get(`/observation_matrices/${t}/key`,i)}}const Ma={Used:"used",Useful:"useful",Useless:"useless"},Fx=e=>({characterStateId:e.id,depictionIds:e.depiction_ids,label:e.label,position:e.position,...ig(e)}),jx=e=>({depictionId:e.id,caption:e.caption,figureLabel:e.figure_label,imageUrl:e.image.medium}),_a={Qualitative:"Descriptor::Qualitative",Continuous:"Descriptor::Continuous",Sample:"Descriptor::Sample",PresenceAbsence:"Descriptor::PresenceAbsence"},el=e=>({descriptorId:e.id,name:e.name,description:e.description,position:e.position,status:e.status,type:e.type,depictionIds:e.depiction_ids,usefulness:e.usefulness,weight:e.weight}),Nx=e=>({...el(e),defaultUnit:e.default_unit,max:e.max,min:e.min}),zx=e=>({...el(e),defaultUnit:e.default_unit,max:e.max,min:e.min}),Vx=e=>({...el(e),states:e.states.map(t=>ig(t))}),Gx=e=>({...el(e),characterStates:e.states.map(t=>Fx(t))}),$x=e=>{switch(e.type){case _a.Continuous:return Nx(e);case _a.Sample:return zx(e);case _a.PresenceAbsence:return Vx(e);case _a.Qualitative:return Gx(e);default:return el(e)}},Ux=e=>({observationMatrixId:e.observation_matrix_id,name:e.observation_matrix.name,globalId:e.observation_matrix.global_id}),ig=e=>({name:e.name,numberOfObjects:e.number_of_objects,status:e.status}),df=e=>({errorDescriptors:e.error_descriptors,errors:e.errors,objectLabel:e.object.object_label,objectTag:e.object.object_tag,observationObjectId:e.object.observation_object_id,observationObjectType:e.object.observation_object_type,rowId:e.object.id}),Hx=e=>({keywordId:e.id,definition:e.description,name:e.name}),Zx=e=>({languageId:e.id,name:e.english_name}),br=vr("observationMatrix",{state:()=>({observationMatrix:void 0,citation:void 0,descriptors:[],eliminated:[],remaining:[],availableKeywords:[],availableLanguages:[]}),getters:{getCitation:e=>e.citation,getObservationMatrix:e=>e.observationMatrix,getDescriptors:e=>e.descriptors,getDescriptorById:e=>t=>e.descriptors.find(i=>i.descriptorId===t),getDescriptorsUsed:e=>e.descriptors.filter(t=>t.status===Ma.Used),getDescriptorsUseless:e=>e.descriptors.filter(t=>t.status===Ma.Useless),getDescriptorsUseful:e=>e.descriptors.filter(t=>t.status===Ma.Useful),getEliminated:e=>e.eliminated,getKeywords:e=>e.availableKeywords,getLanguages:e=>e.availableLanguages,getRemaining:e=>e.remaining},actions:{setDescriptors(e){this.descriptors=e},setEliminated(e){this.eliminated=e},setRemaining(e){this.remaining=e},setLanguages(e){this.availableLanguages=e},setKeywords(e){this.availableKeywords=e},setObservationMatrix(e){this.observationMatrix=e},async requestInteractiveKey({observationMatrixId:e,params:t={},opt:i={}}){const o=await Ix.key(e,{params:t}),{data:c}=o;return i.refreshOnlyTaxa||(this.setObservationMatrix(Ux(c)),this.setDescriptors(c.list_of_descriptors.map(s=>$x(s))),this.setKeywords(c.descriptor_available_keywords.map(s=>Hx(s))),this.setLanguages(c.descriptor_available_languages.map(s=>Zx(s)))),this.setEliminated(c.eliminated.map(s=>df(s))),this.setRemaining(c.remaining.map(s=>df(s))),o}}}),Fn=vr("filter",{state:()=>({descriptors:{},eliminateUnknown:void 0,rowFilter:!0,errorTolerance:void 0,identifiedToRank:void 0,keywordIds:[],languageId:void 0,rowIds:[],sorting:void 0}),getters:{getKeywordIds:e=>e.keywordIds,getLanguageId:e=>e.languageId,getRowIds:e=>e.rowIds,getRowFilter:e=>e.rowFilter,getDescriptors:e=>e.descriptors,getIdentifiedToRank:e=>e.identifiedToRank,getEliminateUknown:e=>e.eliminateUnknown,getErrorTolerance:e=>e.errorTolerance,getSorting:e=>e.sorting,getDescriptorValueById:e=>t=>{const i=e.descriptors[t];return typeof i=="boolean"?i:i||""},getFilterParams:e=>({selected_descriptors:Object.entries(e.descriptors).map(([t,i])=>Array.isArray(i)?`${t}:${i.join("|")}`:`${t}:${i}`).join("||"),language_id:e.languageId,keyword_ids:e.keywordIds,sorting:e.sorting,identified_to_rank:e.identifiedToRank,error_tolerance:e.errorTolerance,eliminate_unknown:e.eliminateUnknown,row_filter:e.rowFilter?e.rowIds.join("|"):[]})},actions:{setDescriptor({descriptorId:e,value:t}){this.descriptors[e]=t},removeDescriptor(e){delete this.descriptors[e]},removeKeywordId(e){const t=this.keywordIds.findIndex(i=>i===e);t>-1&&this.keywordIds.splice(t,1)},addKeywordId(e){this.keywordIds.push(e)},setLanguageId(e){this.languageId=e},setErrorTolerance(e){this.errorTolerance=e},setEliminateUnknown(e){this.eliminateUnknown=e}}}),Po=vr("settings",{state:()=>({gridLayout:"distinguish-layout-mode-1",isLoading:!1,isRefreshing:!1,refreshOnlyTaxa:!1,shouldUpdate:!0,observationMatrixId:void 0,errorMessage:"",apiConfig:{baseURL:"",projectId:void 0,projectToken:void 0,userToken:void 0}}),getters:{getErrorMessage:e=>e.errorMessage,getIsLoading:e=>e.isLoading,getLayout:e=>e.gridLayout,getRefreshOnlyTaxa:e=>e.refreshOnlyTaxa,getShouldUpdate:e=>e.shouldUpdate,getObservationMatrixId:e=>e.observationMatrixId,getAPIConfig:e=>e.apiConfig},actions:{setObservationMatrixId(e){this.observationMatrixId=e},setShouldUpdate(e){this.shouldUpdate=e},setRefreshOnlyTaxa(e){this.refreshOnlyTaxa=e},setAPIConfig(e){this.apiConfig=e},checkUpdate(){const e=Fn(),t=br(),i=this.observationMatrixId;this.shouldUpdate&&i&&(this.isLoading=!0,t.requestInteractiveKey({observationMatrixId:i,params:e.getFilterParams,opt:{refreshOnlyTaxa:this.refreshOnlyTaxa}}).then(o=>this.errorMessage="").catch(o=>this.errorMessage=o.message).finally(()=>this.isLoading=!1))}}}),qx=Ot({__name:"FilterEliminateUnknowns",setup(e){const t=Fn(),i=Ze({get:()=>!!t.getEliminateUknown,set:o=>{t.setEliminateUnknown(o)}});return(o,c)=>(S(),U("label",null,[Rn(N("input",{"onUpdate:modelValue":c[0]||(c[0]=s=>i.value=s),type:"checkbox"},null,512),[[xs,i.value]]),c[1]||(c[1]=Ge(" Eliminate unknowns "))]))}}),Kx=["value"],Wx=Ot({__name:"FilterErrorTolerance",setup(e){const t=[0,1,2],i=Fn(),o=Ze({get:()=>i.getErrorTolerance,set:c=>{i.setErrorTolerance(c)}});return(c,s)=>(S(),U("div",null,[s[2]||(s[2]=N("label",{for:"languages",class:"distinguish-input-label"}," Error tolerance ",-1)),Rn(N("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),name:"languages",role:"listbox"},[s[1]||(s[1]=N("option",{value:""},null,-1)),(S(),U(je,null,ut(t,u=>N("option",{key:u,value:u},Be(u),9,Kx)),64))],512),[[Wa,o.value]])]))}}),Jx=["otu","subspecies","species","subgenus","genus","subtribe","tribe","subfamily","family"],Yx=Ot({__name:"FilterRank",setup(e){const t=Fn(),i=Ze({get(){return t.getIdentifiedToRank},set(o){t.$patch({identifiedToRank:o})}});return(o,c)=>(S(),U("div",null,[c[2]||(c[2]=N("label",{class:"distinguish-input-label"},"Identified to rank",-1)),Rn(N("select",{"onUpdate:modelValue":c[0]||(c[0]=s=>i.value=s)},[c[1]||(c[1]=N("option",{value:void 0},null,-1)),(S(!0),U(je,null,ut(Ie(Jx),s=>(S(),U("option",{key:s},Be(s),1))),128))],512),[[Wa,i.value]])]))}}),Xx=Ot({__name:"FilterSort",setup(e){const t=["ordered","weighted","optimized"],i=Fn(),o=Ze({get(){return i.getSorting},set(c){i.$patch({sorting:c})}});return(c,s)=>(S(),U("div",null,[s[2]||(s[2]=N("label",{class:"distinguish-input-label"},"Descriptor sorting",-1)),Rn(N("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u)},[s[1]||(s[1]=N("option",{value:void 0},null,-1)),(S(),U(je,null,ut(t,u=>N("option",{key:u},Be(u),1)),64))],512),[[Wa,o.value]])]))}}),Qx=["value"],ew=Ot({__name:"FilterLanguage",setup(e){const t=Fn(),i=br(),o=Ze({get:()=>t.getLanguageId,set:c=>{t.setLanguageId(Number(c))}});return(c,s)=>(S(),U("div",null,[s[1]||(s[1]=N("label",{for:"languages",class:"distinguish-input-label"}," Languages ",-1)),Rn(N("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),name:"languages",role:"listbox"},[(S(!0),U(je,null,ut(Ie(i).getLanguages,({languageId:u,name:f})=>(S(),U("option",{key:u,value:u},Be(f),9,Qx))),128))],512),[[Wa,o.value]])]))}}),tw=["disabled"],_s=Ot({__name:"VBtn",props:{color:{default:"primary"},size:{default:"medium"},disabled:{type:Boolean}},setup(e){const t=e,i=Ze(()=>[`distinguish-btn-${t.color}-color`,`distinguish-btn-${t.size}-size`]);return(o,c)=>(S(),U("button",{type:"button",class:tn(["distinguish-btn",i.value]),disabled:o.disabled},[xt(o.$slots,"default")],10,tw))}}),nw={class:"distinguish-modal-wrapper"},iw={class:"distinguish-modal-header"},rw={class:"distinguish-modal-body"},ow={class:"distinguish-modal-footer"},kd=Ot({__name:"VModal",props:{containerClass:{},containerStyle:{}},emits:["close"],setup(e,{emit:t}){const i=t,o=c=>{c.preventDefault(),c.key==="Escape"&&i("close")};return cn(()=>document.addEventListener("keydown",o)),yr(()=>document.removeEventListener("keydown",o)),(c,s)=>(S(),ye(Ru,{name:"distinguish-modal"},{default:J(()=>[N("div",{class:"distinguish-modal-mask",onClick:s[2]||(s[2]=u=>i("close")),onKey:s[3]||(s[3]=u=>i("close"))},[N("div",nw,[N("div",{class:tn(["distinguish-modal-container",c.containerClass]),style:pi({...c.containerStyle}),onClick:s[1]||(s[1]=Fa(()=>{},["stop"]))},[N("div",iw,[N("div",{class:"distinguish-modal-close",onClick:s[0]||(s[0]=u=>i("close"))}),xt(c.$slots,"header")]),N("div",rw,[xt(c.$slots,"body")]),N("div",ow,[xt(c.$slots,"footer")])],6)])],32)]),_:3}))}}),sw={class:"distinguish-list-checkboxes"},aw=["value"],lw=Ot({__name:"FilterKeywords",setup(e){const t=br(),i=Fn(),o=ze(!1),c=Ze({get:()=>i.getKeywordIds,set:s=>{i.$patch({keywordIds:s})}});return(s,u)=>(S(),U(je,null,[q(_s,{color:"primary",size:"medium",disabled:!Ie(t).getKeywords.length,title:Ie(t).getKeywords.length?"":"No tags defined.",onClick:u[0]||(u[0]=f=>o.value=!0)},{default:J(()=>u[3]||(u[3]=[Ge(" Keyword ")])),_:1},8,["disabled","title"]),o.value?(S(),ye(kd,{key:0,onClose:u[2]||(u[2]=f=>o.value=!1)},{header:J(()=>u[4]||(u[4]=[N("h3",null,"Keywords",-1)])),body:J(()=>[N("ul",sw,[(S(!0),U(je,null,ut(Ie(t).getKeywords,({keywordId:f,name:_})=>(S(),U("li",{key:f},[N("label",null,[Rn(N("input",{"onUpdate:modelValue":u[1]||(u[1]=v=>c.value=v),value:f,type:"checkbox"},null,8,aw),[[xs,c.value]]),Ge(" "+Be(_),1)])]))),128))])]),_:1})):Ee("",!0)],64))}}),uw=Ot({__name:"SettingRefresh",setup(e){const t=Po(),i=Ze({get:()=>t.getRefreshOnlyTaxa,set:o=>{t.setRefreshOnlyTaxa(o)}});return(o,c)=>(S(),U("label",null,[Rn(N("input",{"onUpdate:modelValue":c[0]||(c[0]=s=>i.value=s),type:"checkbox"},null,512),[[xs,i.value]]),c[1]||(c[1]=Ge(" Refresh only taxa "))]))}}),Uu=(e,t)=>{const i=e.__vccOpts||e;for(const[o,c]of t)i[o]=c;return i},cw={},hw={class:"distinguish-menu-list"};function dw(e,t){return S(),U("ul",hw,[xt(e.$slots,"default")])}const pw=Uu(cw,[["render",dw]]),fw={},mw={class:"distinguish-list-item"};function _w(e,t){return S(),U("li",mw,[xt(e.$slots,"default")])}const po=Uu(fw,[["render",_w]]),pf={"distinguish-layout-mode-1":"distinguish-layout-mode-2","distinguish-layout-mode-2":"distinguish-layout-mode-1"},gw={},yw={class:"distinguish-grid"};function vw(e,t){return S(),U("div",yw,[xt(e.$slots,"default")])}const rg=Uu(gw,[["render",vw]]),bw=Ot({__name:"GridToggle",setup(e){const t=Po(),i=Ze(()=>t.getLayout),o=()=>{t.$patch({gridLayout:pf[i.value]})};return(c,s)=>(S(),ye(_s,{class:tn(Ie(pf)[i.value]),onClick:o},{default:J(()=>[q(rg,{class:"distinguish-grid-icon"},{default:J(()=>s[0]||(s[0]=[N("div",{class:"distinguish-panel-descriptors"},null,-1),N("div",{class:"distinguish-panel-remaining"},null,-1),N("div",{class:"distinguish-panel-eliminated"},null,-1)])),_:1})]),_:1},8,["class"]))}}),xw=Ot({__name:"ResetButton",setup(e){const t=Fn();return(i,o)=>(S(),ye(_s,{color:"primary",size:"medium",onClick:o[0]||(o[0]=c=>Ie(t).$reset())},{default:J(()=>o[1]||(o[1]=[Ge(" Reset ")])),_:1}))}}),ww={class:"distinguish-header-error-message"},Lw=Ot({__name:"ErrorMessage",setup(e){const t=Po();return(i,o)=>(S(),U("span",ww,Be(Ie(t).getErrorMessage),1))}}),Cw={class:"distinguish-header-bar"},kw={class:"distinguish-header-bar__buttons"},Ew=Ot({__name:"HeaderBar",setup(e){return(t,i)=>(S(),U("div",Cw,[q(Lw),q(pw,null,{default:J(()=>[q(po,null,{default:J(()=>[q(uw)]),_:1}),q(po,null,{default:J(()=>[q(qx)]),_:1}),q(po,null,{default:J(()=>[q(Wx)]),_:1}),q(po,null,{default:J(()=>[q(Yx)]),_:1}),q(po,null,{default:J(()=>[q(ew)]),_:1}),q(po,null,{default:J(()=>[q(Xx)]),_:1}),q(po,null,{default:J(()=>[q(lw)]),_:1})]),_:1}),N("div",kw,[q(xw),q(bw)])]))}}),Mw={},Sw={class:"distinguish-panel"};function Pw(e,t){return S(),U("div",Sw,[xt(e.$slots,"default")])}const Ed=Uu(Mw,[["render",Pw]]),Bw=["innerHTML"],Tw=Ot({__name:"PanelEliminated",props:{render:{type:Function}},setup(e){const t=br(),i=Ze(()=>t.getEliminated);return(o,c)=>(S(),ye(Ed,{class:"distinguish-panel-eliminated"},{default:J(()=>[N("h2",null,"Eliminated ("+Be(i.value.length)+")",1),N("ul",null,[(S(!0),U(je,null,ut(i.value,s=>(S(),U("li",{key:s.rowId,class:"distinguish-row-item"},[xt(o.$slots,"default",{item:s},()=>[N("span",{innerHTML:o.render?o.render(s):s.objectTag},null,8,Bw)])]))),128))])]),_:3}))}}),Aw={class:"distinguish-row-filter-buttons"},Ow={class:"distinguish-list-checkboxes"},Rw=["value"],Dw=Ot({__name:"FilterRow",setup(e){const t=br(),i=Po(),o=Fn(),c=ze(!1),s=ze([]),u=Ze(()=>{const _=o.getRowIds,v=s.value;return _.length!==v.length||!_.every(b=>v.includes(b))}),f=Ze({get:()=>o.getRowIds,set:_=>{o.$patch({rowIds:_})}});return yn(c,_=>{i.setShouldUpdate(!_),!_&&u.value&&(o.rowFilter=!0,i.checkUpdate()),s.value=o.getRowIds}),(_,v)=>(S(),U(je,null,[q(_s,{color:"primary",size:"medium",onClick:v[0]||(v[0]=b=>c.value=!0)},{default:J(()=>v[5]||(v[5]=[Ge(" Select ")])),_:1}),c.value?(S(),ye(kd,{key:0,onClose:v[4]||(v[4]=b=>c.value=!1)},{header:J(()=>v[6]||(v[6]=[N("h3",null,"Filter row",-1)])),body:J(()=>[N("div",null,[N("div",Aw,[Ie(t).getRemaining.length!==f.value.length||f.value.length==0?(S(),ye(_s,{key:0,color:"primary",size:"medium",onClick:v[1]||(v[1]=()=>f.value=Ie(t).getRemaining.map(b=>b.rowId))},{default:J(()=>v[7]||(v[7]=[Ge(" Select all ")])),_:1})):(S(),ye(_s,{key:1,color:"primary",size:"medium",onClick:v[2]||(v[2]=()=>f.value=[])},{default:J(()=>v[8]||(v[8]=[Ge(" Unselect all ")])),_:1}))]),N("ul",Ow,[(S(!0),U(je,null,ut(Ie(t).getRemaining,b=>(S(),U("li",{key:b.rowId},[N("label",null,[Rn(N("input",{"onUpdate:modelValue":v[3]||(v[3]=w=>f.value=w),value:b.rowId,type:"checkbox"},null,8,Rw),[[xs,f.value]]),Ge(" "+Be(b.objectLabel),1)])]))),128))])])]),_:1})):Ee("",!0)],64))}}),Iw={class:"distinguish-title-section"},Fw=["innerHTML"],jw=Ot({__name:"PanelRemaining",props:{render:{type:Function}},setup(e){const t=br(),i=Ze(()=>t.getRemaining);return(o,c)=>(S(),ye(Ed,{class:"distinguish-panel-remaining"},{default:J(()=>[N("div",Iw,[N("h2",null,"Remaining ("+Be(i.value.length)+")",1),q(Dw)]),N("ul",null,[(S(!0),U(je,null,ut(i.value,s=>(S(),U("li",{key:s.rowId,class:"distinguish-row-item"},[xt(o.$slots,"default",{item:s},()=>[N("span",{innerHTML:o.render?o.render(s):s.objectTag},null,8,Fw)])]))),128))])]),_:3}))}});class Nw{static find(t){return ng().get(`/depictions/${t}.json`,{params:{extend:["image"]}})}}const zw={key:0,class:"distinguish-depiction-box"},Vw=["src"],og=Ot({__name:"VDepiction",props:{depictionId:{}},setup(e){const t=e,i=ze();return Nw.find(t.depictionId).then(({data:o})=>{i.value=jx(o)}),(o,c)=>i.value?(S(),U("div",zw,[N("img",{src:i.value.imageUrl},null,8,Vw)])):Ee("",!0)}}),Gw={class:"distinguish-character-descriptor__cell"},$w=["value"],Uw=Ot({__name:"CharacterStateCell",props:{characterState:{},descriptorId:{}},setup(e){const t=e,i=Fn(),o=Ze({get:()=>i.getDescriptorValueById(t.descriptorId)||[],set:c=>{c.length?i.setDescriptor({descriptorId:t.descriptorId,value:c}):i.removeDescriptor(t.descriptorId)}});return(c,s)=>(S(),U("div",Gw,[N("label",null,[(S(!0),U(je,null,ut(c.characterState.depictionIds,u=>(S(),ye(og,{key:u,"depiction-id":u},null,8,["depiction-id"]))),128)),Rn(N("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),value:c.characterState.characterStateId,type:"checkbox"},null,8,$w),[[xs,o.value]]),Ge(" "+Be(c.characterState.name),1)])]))}}),Hw={class:"distinguish-character-states-grid"},Zw=Ot({__name:"CharacterStateGrid",props:{descriptor:{}},setup(e){const t=e,i=Fn(),o=Po(),c=ze(),s=Ze(()=>{const u=i.getDescriptorValueById(t.descriptor.descriptorId)||[],f=c.value||[];return u.length!==f.length||!u.every(_=>f.includes(_))});return cn(()=>{o.setShouldUpdate(!1),c.value=i.getDescriptorValueById(t.descriptor.descriptorId)}),yr(()=>{o.setShouldUpdate(!0),s.value&&o.checkUpdate()}),(u,f)=>(S(),U("div",Hw,[(S(!0),U(je,null,ut(u.descriptor.characterStates,_=>(S(),ye(Uw,{key:_.characterStateId,"descriptor-id":u.descriptor.descriptorId,"character-state":_},null,8,["descriptor-id","character-state"]))),128))]))}}),qw={key:0},Kw={key:1},Ww={class:"descriptor-modal__depiction"},Jw=Ot({__name:"DescriptorModal",props:{descriptor:{}},setup(e){return(t,i)=>(S(),ye(kd,{"container-class":"distinguish-descriptor-modal"},{header:J(()=>[N("h3",null,Be(t.descriptor.name),1),t.descriptor.description?(S(),U("span",qw,Be(t.descriptor.description),1)):(S(),U("i",Kw," No further description available. "))]),body:J(()=>[N("div",Ww,[(S(!0),U(je,null,ut(t.descriptor.depictionIds,o=>(S(),ye(og,{key:o,"depiction-id":o},null,8,["depiction-id"]))),128))]),i[0]||(i[0]=N("hr",null,null,-1)),t.descriptor.type===Ie(_a).Qualitative?(S(),ye(Zw,{key:0,descriptor:t.descriptor},null,8,["descriptor"])):Ee("",!0)]),_:1}))}}),Yw=["id"],Xw={class:"distinguish-input-label"},Hu=Ot({__name:"DescriptorContainer",props:{descriptor:{}},setup(e){const t=ze(!1);return(i,o)=>(S(),U("div",{id:`descriptor-${i.descriptor.descriptorId}`,class:"distinguish-descriptor-container"},[N("div",Xw,[N("span",{class:"distinguish-link",onClick:o[0]||(o[0]=c=>t.value=!0)},[xt(i.$slots,"title",{},()=>[Ge(Be(i.descriptor.name),1)])])]),xt(i.$slots,"default"),t.value?(S(),ye(Jw,{key:0,descriptor:i.descriptor,onClose:o[1]||(o[1]=c=>t.value=!1)},null,8,["descriptor"])):Ee("",!0)],8,Yw))}}),Qw=Ot({__name:"DescriptorContinuous",props:{descriptor:{}},setup(e){const t=e,i=Fn(),o=ze(String(i.getDescriptorValueById(t.descriptor.descriptorId))),c=()=>{const{descriptorId:s}=t.descriptor,u=o.value.trim();u?i.setDescriptor({descriptorId:s,value:u}):i.removeDescriptor(s)};return(s,u)=>(S(),ye(Hu,{class:"distinguish-descriptor-continuous",descriptor:s.descriptor},{title:J(()=>[Ge(Be(s.descriptor.name)+" ("+Be(s.descriptor.min)+"-"+Be(s.descriptor.max)+" "+Be(s.descriptor.defaultUnit)+") ",1)]),default:J(()=>[Rn(N("input",{"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f),type:"text",onBlur:c,onKeyup:l_(c,["enter"])},null,544),[[md,o.value]])]),_:1},8,["descriptor"]))}}),eL=["value"],tL={key:0},nL=Ot({__name:"DescriptorPresenceAbsence",props:{descriptor:{}},setup(e){const t={Presence:!0,Absent:!1},i=e,o=Fn(),c=Ze({get:()=>o.getDescriptorValueById(i.descriptor.descriptorId),set:u=>{const{descriptorId:f}=i.descriptor;typeof u=="boolean"?o.setDescriptor({descriptorId:f,value:!!u}):o.removeDescriptor(f)}}),s=u=>{var f;const{states:_}=i.descriptor;return((f=_.find(v=>v.name===String(u)))==null?void 0:f.numberOfObjects)||0};return(u,f)=>(S(),ye(Hu,{class:"distinguish-descriptor-presence-absence",descriptor:u.descriptor},{default:J(()=>[Rn(N("select",{"onUpdate:modelValue":f[0]||(f[0]=_=>c.value=_)},[f[1]||(f[1]=N("option",null,null,-1)),(S(),U(je,null,ut(t,(_,v)=>N("option",{key:v,value:_},[u.descriptor.status===Ie(Ma).Useless?(S(),U("span",tL,"-")):Ee("",!0),Ge(" "+Be(v)+" ("+Be(s(_))+") ",1)],8,eL)),64))],512),[[Wa,c.value]])]),_:1},8,["descriptor"]))}}),iL=["value","selected"],rL={key:0},oL={key:1},sL=Ot({__name:"DescriptorQualitative",props:{descriptor:{}},setup(e){const t=e,i=Fn(),o=s=>{const u=s.target,{descriptorId:f}=t.descriptor;u.value?i.setDescriptor({descriptorId:f,value:[Number(u.value)]}):i.removeDescriptor(f)},c=s=>i.getDescriptorValueById(t.descriptor.descriptorId).includes(s.characterStateId);return(s,u)=>(S(),ye(Hu,{class:"distinguish-descriptor-qualitative",descriptor:s.descriptor},{default:J(()=>[N("select",{name:"listbox",onChange:o},[u[0]||(u[0]=N("option",{value:""},null,-1)),(S(!0),U(je,null,ut(s.descriptor.characterStates,f=>(S(),U("option",{key:f.characterStateId,value:f.characterStateId,selected:c(f)},[c(f)?(S(),U("span",rL,">")):Ee("",!0),f.status===Ie(Ma).Useless?(S(),U("span",oL,"-")):Ee("",!0),Ge(" "+Be(f.name)+" ("+Be(f.numberOfObjects)+") ",1)],8,iL))),128))],32)]),_:1},8,["descriptor"]))}}),aL=Ot({__name:"DescriptorSample",props:{descriptor:{}},setup(e){const t=e,i=Fn(),o=ze(String(i.getDescriptorValueById(t.descriptor.descriptorId))),c=()=>{const{descriptorId:s}=t.descriptor,u=o.value.trim();u?i.setDescriptor({descriptorId:s,value:u}):i.removeDescriptor(s)};return(s,u)=>(S(),ye(Hu,{class:"distinguish-descriptor-sample",descriptor:s.descriptor},{title:J(()=>[Ge(Be(s.descriptor.name)+" ("+Be(s.descriptor.min)+"-"+Be(s.descriptor.max)+" "+Be(s.descriptor.defaultUnit)+") ",1)]),default:J(()=>[Rn(N("input",{"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f),type:"text",onBlur:c,onKeyup:l_(c,["enter"])},null,544),[[md,o.value]])]),_:1},8,["descriptor"]))}}),ah=Ot({__name:"DescriptorsList",props:{title:{},descriptors:{}},setup(e){const t={DescriptorContinuous:Qw,DescriptorPresenceAbsence:nL,DescriptorQualitative:sL,DescriptorSample:aL},i=o=>{const c=o.replace("::","");return t[c]};return(o,c)=>(S(),U(je,null,[N("h2",null,Be(o.title),1),N("ol",null,[(S(!0),U(je,null,ut(o.descriptors,s=>(S(),U("li",{key:s.descriptorId},[(S(),ye(So(i(s.type)),{descriptor:s},null,8,["descriptor"]))]))),128))])],64))}}),lL={key:0},uL=Ot({__name:"FilterRowCheckbox",setup(e){const t=Fn(),i=Ze({get:()=>t.getRowFilter,set:o=>t.$patch({rowFilter:o})});return(o,c)=>Ie(t).rowIds.length?(S(),U("label",lL,[Rn(N("input",{"onUpdate:modelValue":c[0]||(c[0]=s=>i.value=s),type:"checkbox"},null,512),[[xs,i.value]]),c[1]||(c[1]=Ge(" Filter "))])):Ee("",!0)}}),cL=Ot({__name:"PanelDescriptors",setup(e){const t=br();return(i,o)=>(S(),ye(Ed,{class:"distinguish-panel-descriptors"},{default:J(()=>[q(uL),Ie(t).getDescriptorsUsed.length?(S(),ye(ah,{key:0,descriptors:Ie(t).getDescriptorsUsed,title:"Used Descriptors"},null,8,["descriptors"])):Ee("",!0),Ie(t).getDescriptorsUseful.length?(S(),ye(ah,{key:1,descriptors:Ie(t).getDescriptorsUseful,title:"Descriptors Useful for Identification"},null,8,["descriptors"])):Ee("",!0),Ie(t).getDescriptorsUseless.length?(S(),ye(ah,{key:2,descriptors:Ie(t).getDescriptorsUseless,title:"Descriptors no longer relevant for identification"},null,8,["descriptors"])):Ee("",!0)]),_:1}))}}),hL={class:"distinguish-spinner-container"},dL={class:"distinguish-spinner-legend"},pL=["innerHTML"],fL=Ot({__name:"VSpinner",props:{legend:{type:String,default:"Loading, please wait."}},setup(e){return(t,i)=>(S(),ye(Ru,{name:"fade"},{default:J(()=>[N("div",hL,[N("div",null,[i[0]||(i[0]=N("div",{class:"distinguish-spinner"},null,-1)),N("div",dL,[N("span",{innerHTML:e.legend},null,8,pL),xt(t.$slots,"default")])])])]),_:3}))}}),mL={class:"distinguish-title"},_L={key:0},gL=Ot({__name:"TitleMatrix",setup(e){const t=br();return(i,o)=>(S(),U("h1",mL,[o[0]||(o[0]=Ge(" Interactive key ")),Ie(t).getObservationMatrix?(S(),U("span",_L,"| "+Be(Ie(t).getObservationMatrix.name),1)):Ee("",!0)]))}}),yL=["title"],vL=Ot({__name:"TitleMatrixCitation",setup(e){const t=br(),i=Ze(()=>{const o=t.getCitation;return Object.values(o||{}).filter(Boolean).join(", ")});return(o,c)=>(S(),U("span",{class:"distinguish-title-citation",title:i.value},Be(i.value),9,yL))}}),bL={class:"distinguish-title-section"},xL=Ot({__name:"TitleKey",setup(e){return(t,i)=>(S(),U("div",bL,[q(gL),q(vL)]))}}),wL={class:"distinguish-app-container"},sg=Ot({name:"Distinguish",__name:"App",props:{observationMatrixId:{},apiConfig:{},renderItem:{type:Function}},setup(e){const t=e,i=Po(),o=Fn(),c=Ze(()=>i.getIsLoading),s=Ze(()=>i.getLayout);return i.setAPIConfig(t.apiConfig),i.setObservationMatrixId(t.observationMatrixId),i.checkUpdate(),o.$subscribe(u=>{i.shouldUpdate&&i.checkUpdate()}),(u,f)=>(S(),U("div",wL,[q(xL),q(Ew),q(rg,{class:tn(s.value)},{default:J(()=>[q(cL),q(jw,{render:t.renderItem},{default:J(_=>[xt(u.$slots,"remaining-item",fh(_u(_)))]),_:3},8,["render"]),q(Tw,{render:t.renderItem},{default:J(_=>[xt(u.$slots,"eliminated-item",fh(_u(_)))]),_:3},8,["render"])]),_:3},8,["class"]),c.value?(S(),ye(fL,{key:0,legend:"Loading interactive key..."})):Ee("",!0)]))}});function LL(e){return[...document.querySelectorAll('[data-interactive-key="true"]')].map(i=>EL(i,kL(i)))}function CL(){LL()}function kL(e){return{observationMatrixId:Number(e.getAttribute("data-observation-matrix-id")),apiConfig:{baseURL:e.getAttribute("data-base-url")||"",projectToken:e.getAttribute("data-project-token")||void 0,projectId:Number(e.getAttribute("data-project-id"))||void 0,userToken:e.getAttribute("data-user-token")||void 0,csrfToken:e.getAttribute("data-csrf-token")||void 0}}}function EL(e,t){const{apiConfig:i,observationMatrixId:o}=t;if(!o)throw"Missing observation matrix ID";if(!i||!i.projectToken&&!i.csrfToken&&!(i.projectId&&i.userToken))throw"Missing API configuration";const c=Gv(sg,{observationMatrixId:o,apiConfig:i});return c.use(S_()),c.mount(e),c}typeof window<"u"&&window.addEventListener("DOMContentLoaded",CL);var ff={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const ML={class:"flex flex-col h-full overflow-y-hidden container mx-auto interactive-key-container"},SL=["innerHTML"],PL=["innerHTML"],BL={__name:"InteractiveKey",setup(e){const t=Ya(),i=ze({observationMatrixId:t.params.id,apiConfig:{baseURL:ff.url,projectToken:ff.project_token}});return(o,c)=>{const s=se("RouterLink"),u=se("ClientOnly");return S(),U("div",ML,[q(u,null,{default:J(()=>[q(Ie(sg),fh(_u(i.value)),{"remaining-item":J(({item:f})=>[f.observationObjectType===Ie(Jp)?(S(),ye(s,{key:0,to:{name:"otus-id",params:{id:f.observationObjectId}},innerHTML:f.objectTag},null,8,["to","innerHTML"])):(S(),U("span",{key:1,innerHTML:f.objectTag},null,8,SL))]),"eliminated-item":J(({item:f})=>[f.observationObjectType===Ie(Jp)?(S(),ye(s,{key:0,to:{name:"otus-id",params:{id:f.observationObjectId}},innerHTML:f.objectTag},null,8,["to","innerHTML"])):(S(),U("span",{key:1,innerHTML:f.objectTag},null,8,PL))]),_:1},16)]),_:1})])}}},TL=[{name:"interactive-keys-id",path:"/interactive_keys/:id",component:BL}],Zu=vr("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:e=>t=>e.requests[t],datamap:e=>{const t=Object.keys(e.requests).sort();return Object.fromEntries(t.map(i=>[i,e.requests[i].url]))}},actions:{setRequest(e,{data:t,request:i}){var c;const o=((c=i.res)==null?void 0:c.responseUrl)||i.responseURL;this.requests[e]={url:o,data:t}}}}),AL="FamilyGroup",OL="GenusGroup",RL="SpeciesGroup",DL="SpeciesAndInfraspeciesGroup",Va={CanceledError:"CanceledError"},mf=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype","paratypes"];function _r(e,t){const i=Zu(),o=t();return o.then(c=>{i.setRequest(e,c)}).catch(c=>{c.name!==Va.CanceledError&&i.setRequest(e,c.response)}),o}function ag(e,t){return function(){return e.apply(t,arguments)}}const{toString:IL}=Object.prototype,{getPrototypeOf:Md}=Object,qu=(e=>t=>{const i=IL.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ni=e=>(e=e.toLowerCase(),t=>qu(t)===e),Ku=e=>t=>typeof t===e,{isArray:Cs}=Array,Ga=Ku("undefined");function FL(e){return e!==null&&!Ga(e)&&e.constructor!==null&&!Ga(e.constructor)&&mi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lg=Ni("ArrayBuffer");function jL(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lg(e.buffer),t}const NL=Ku("string"),mi=Ku("function"),ug=Ku("number"),Wu=e=>e!==null&&typeof e=="object",zL=e=>e===!0||e===!1,ou=e=>{if(qu(e)!=="object")return!1;const t=Md(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},VL=Ni("Date"),GL=Ni("File"),$L=Ni("Blob"),UL=Ni("FileList"),HL=e=>Wu(e)&&mi(e.pipe),ZL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||mi(e.append)&&((t=qu(e))==="formdata"||t==="object"&&mi(e.toString)&&e.toString()==="[object FormData]"))},qL=Ni("URLSearchParams"),[KL,WL,JL,YL]=["ReadableStream","Request","Response","Headers"].map(Ni),XL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tl(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let o,c;if(typeof e!="object"&&(e=[e]),Cs(e))for(o=0,c=e.length;o<c;o++)t.call(null,e[o],o,e);else{const s=i?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;let f;for(o=0;o<u;o++)f=s[o],t.call(null,e[f],f,e)}}function cg(e,t){t=t.toLowerCase();const i=Object.keys(e);let o=i.length,c;for(;o-- >0;)if(c=i[o],t===c.toLowerCase())return c;return null}const go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hg=e=>!Ga(e)&&e!==go;function Ih(){const{caseless:e}=hg(this)&&this||{},t={},i=(o,c)=>{const s=e&&cg(t,c)||c;ou(t[s])&&ou(o)?t[s]=Ih(t[s],o):ou(o)?t[s]=Ih({},o):Cs(o)?t[s]=o.slice():t[s]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&tl(arguments[o],i);return t}const QL=(e,t,i,{allOwnKeys:o}={})=>(tl(t,(c,s)=>{i&&mi(c)?e[s]=ag(c,i):e[s]=c},{allOwnKeys:o}),e),eC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tC=(e,t,i,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},nC=(e,t,i,o)=>{let c,s,u;const f={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),s=c.length;s-- >0;)u=c[s],(!o||o(u,e,t))&&!f[u]&&(t[u]=e[u],f[u]=!0);e=i!==!1&&Md(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},iC=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const o=e.indexOf(t,i);return o!==-1&&o===i},rC=e=>{if(!e)return null;if(Cs(e))return e;let t=e.length;if(!ug(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},oC=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Md(Uint8Array)),sC=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=o.next())&&!c.done;){const s=c.value;t.call(e,s[0],s[1])}},aC=(e,t)=>{let i;const o=[];for(;(i=e.exec(t))!==null;)o.push(i);return o},lC=Ni("HTMLFormElement"),uC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,c){return o.toUpperCase()+c}),_f=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),cC=Ni("RegExp"),dg=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),o={};tl(i,(c,s)=>{let u;(u=t(c,s,e))!==!1&&(o[s]=u||c)}),Object.defineProperties(e,o)},hC=e=>{dg(e,(t,i)=>{if(mi(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=e[i];if(mi(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},dC=(e,t)=>{const i={},o=c=>{c.forEach(s=>{i[s]=!0})};return Cs(e)?o(e):o(String(e).split(t)),i},pC=()=>{},fC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,lh="abcdefghijklmnopqrstuvwxyz",gf="0123456789",pg={DIGIT:gf,ALPHA:lh,ALPHA_DIGIT:lh+lh.toUpperCase()+gf},mC=(e=16,t=pg.ALPHA_DIGIT)=>{let i="";const{length:o}=t;for(;e--;)i+=t[Math.random()*o|0];return i};function _C(e){return!!(e&&mi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const gC=e=>{const t=new Array(10),i=(o,c)=>{if(Wu(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[c]=o;const s=Cs(o)?[]:{};return tl(o,(u,f)=>{const _=i(u,c+1);!Ga(_)&&(s[f]=_)}),t[c]=void 0,s}}return o};return i(e,0)},yC=Ni("AsyncFunction"),vC=e=>e&&(Wu(e)||mi(e))&&mi(e.then)&&mi(e.catch),fg=((e,t)=>e?setImmediate:t?((i,o)=>(go.addEventListener("message",({source:c,data:s})=>{c===go&&s===i&&o.length&&o.shift()()},!1),c=>{o.push(c),go.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",mi(go.postMessage)),bC=typeof queueMicrotask<"u"?queueMicrotask.bind(go):typeof process<"u"&&process.nextTick||fg,be={isArray:Cs,isArrayBuffer:lg,isBuffer:FL,isFormData:ZL,isArrayBufferView:jL,isString:NL,isNumber:ug,isBoolean:zL,isObject:Wu,isPlainObject:ou,isReadableStream:KL,isRequest:WL,isResponse:JL,isHeaders:YL,isUndefined:Ga,isDate:VL,isFile:GL,isBlob:$L,isRegExp:cC,isFunction:mi,isStream:HL,isURLSearchParams:qL,isTypedArray:oC,isFileList:UL,forEach:tl,merge:Ih,extend:QL,trim:XL,stripBOM:eC,inherits:tC,toFlatObject:nC,kindOf:qu,kindOfTest:Ni,endsWith:iC,toArray:rC,forEachEntry:sC,matchAll:aC,isHTMLForm:lC,hasOwnProperty:_f,hasOwnProp:_f,reduceDescriptors:dg,freezeMethods:hC,toObjectSet:dC,toCamelCase:uC,noop:pC,toFiniteNumber:fC,findKey:cg,global:go,isContextDefined:hg,ALPHABET:pg,generateString:mC,isSpecCompliantForm:_C,toJSONObject:gC,isAsyncFn:yC,isThenable:vC,setImmediate:fg,asap:bC};function Lt(e,t,i,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}be.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const mg=Lt.prototype,_g={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_g[e]={value:e}});Object.defineProperties(Lt,_g);Object.defineProperty(mg,"isAxiosError",{value:!0});Lt.from=(e,t,i,o,c,s)=>{const u=Object.create(mg);return be.toFlatObject(e,u,function(_){return _!==Error.prototype},f=>f!=="isAxiosError"),Lt.call(u,e.message,t,i,o,c),u.cause=e,u.name=e.name,s&&Object.assign(u,s),u};const xC=null;function Fh(e){return be.isPlainObject(e)||be.isArray(e)}function gg(e){return be.endsWith(e,"[]")?e.slice(0,-2):e}function yf(e,t,i){return e?e.concat(t).map(function(c,s){return c=gg(c),!i&&s?"["+c+"]":c}).join(i?".":""):t}function wC(e){return be.isArray(e)&&!e.some(Fh)}const LC=be.toFlatObject(be,{},null,function(t){return/^is[A-Z]/.test(t)});function Ju(e,t,i){if(!be.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=be.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,oe){return!be.isUndefined(oe[V])});const o=i.metaTokens,c=i.visitor||b,s=i.dots,u=i.indexes,_=(i.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(t);if(!be.isFunction(c))throw new TypeError("visitor must be a function");function v(R){if(R===null)return"";if(be.isDate(R))return R.toISOString();if(!_&&be.isBlob(R))throw new Lt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(R)||be.isTypedArray(R)?_&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function b(R,V,oe){let te=R;if(R&&!oe&&typeof R=="object"){if(be.endsWith(V,"{}"))V=o?V:V.slice(0,-2),R=JSON.stringify(R);else if(be.isArray(R)&&wC(R)||(be.isFileList(R)||be.endsWith(V,"[]"))&&(te=be.toArray(R)))return V=gg(V),te.forEach(function(z,ne){!(be.isUndefined(z)||z===null)&&t.append(u===!0?yf([V],ne,s):u===null?V:V+"[]",v(z))}),!1}return Fh(R)?!0:(t.append(yf(oe,V,s),v(R)),!1)}const w=[],P=Object.assign(LC,{defaultVisitor:b,convertValue:v,isVisitable:Fh});function O(R,V){if(!be.isUndefined(R)){if(w.indexOf(R)!==-1)throw Error("Circular reference detected in "+V.join("."));w.push(R),be.forEach(R,function(te,ee){(!(be.isUndefined(te)||te===null)&&c.call(t,te,be.isString(ee)?ee.trim():ee,V,P))===!0&&O(te,V?V.concat(ee):[ee])}),w.pop()}}if(!be.isObject(e))throw new TypeError("data must be an object");return O(e),t}function vf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Sd(e,t){this._pairs=[],e&&Ju(e,this,t)}const yg=Sd.prototype;yg.append=function(t,i){this._pairs.push([t,i])};yg.toString=function(t){const i=t?function(o){return t.call(this,o,vf)}:vf;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function CC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vg(e,t,i){if(!t)return e;const o=i&&i.encode||CC,c=i&&i.serialize;let s;if(c?s=c(t,i):s=be.isURLSearchParams(t)?t.toString():new Sd(t,i).toString(o),s){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class bf{constructor(){this.handlers=[]}use(t,i,o){return this.handlers.push({fulfilled:t,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){be.forEach(this.handlers,function(o){o!==null&&t(o)})}}const bg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kC=typeof URLSearchParams<"u"?URLSearchParams:Sd,EC=typeof FormData<"u"?FormData:null,MC=typeof Blob<"u"?Blob:null,SC={isBrowser:!0,classes:{URLSearchParams:kC,FormData:EC,Blob:MC},protocols:["http","https","file","blob","url","data"]},Pd=typeof window<"u"&&typeof document<"u",jh=typeof navigator=="object"&&navigator||void 0,PC=Pd&&(!jh||["ReactNative","NativeScript","NS"].indexOf(jh.product)<0),BC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TC=Pd&&window.location.href||"http://localhost",AC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pd,hasStandardBrowserEnv:PC,hasStandardBrowserWebWorkerEnv:BC,navigator:jh,origin:TC},Symbol.toStringTag,{value:"Module"})),si={...AC,...SC};function OC(e,t){return Ju(e,new si.classes.URLSearchParams,Object.assign({visitor:function(i,o,c,s){return si.isNode&&be.isBuffer(i)?(this.append(o,i.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function RC(e){return be.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DC(e){const t={},i=Object.keys(e);let o;const c=i.length;let s;for(o=0;o<c;o++)s=i[o],t[s]=e[s];return t}function xg(e){function t(i,o,c,s){let u=i[s++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),_=s>=i.length;return u=!u&&be.isArray(c)?c.length:u,_?(be.hasOwnProp(c,u)?c[u]=[c[u],o]:c[u]=o,!f):((!c[u]||!be.isObject(c[u]))&&(c[u]=[]),t(i,o,c[u],s)&&be.isArray(c[u])&&(c[u]=DC(c[u])),!f)}if(be.isFormData(e)&&be.isFunction(e.entries)){const i={};return be.forEachEntry(e,(o,c)=>{t(RC(o),c,i,0)}),i}return null}function IC(e,t,i){if(be.isString(e))try{return(t||JSON.parse)(e),be.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(e)}const nl={transitional:bg,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const o=i.getContentType()||"",c=o.indexOf("application/json")>-1,s=be.isObject(t);if(s&&be.isHTMLForm(t)&&(t=new FormData(t)),be.isFormData(t))return c?JSON.stringify(xg(t)):t;if(be.isArrayBuffer(t)||be.isBuffer(t)||be.isStream(t)||be.isFile(t)||be.isBlob(t)||be.isReadableStream(t))return t;if(be.isArrayBufferView(t))return t.buffer;if(be.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(s){if(o.indexOf("application/x-www-form-urlencoded")>-1)return OC(t,this.formSerializer).toString();if((f=be.isFileList(t))||o.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return Ju(f?{"files[]":t}:t,_&&new _,this.formSerializer)}}return s||c?(i.setContentType("application/json",!1),IC(t)):t}],transformResponse:[function(t){const i=this.transitional||nl.transitional,o=i&&i.forcedJSONParsing,c=this.responseType==="json";if(be.isResponse(t)||be.isReadableStream(t))return t;if(t&&be.isString(t)&&(o&&!this.responseType||c)){const u=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(f){if(u)throw f.name==="SyntaxError"?Lt.from(f,Lt.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:si.classes.FormData,Blob:si.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],e=>{nl.headers[e]={}});const FC=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jC=e=>{const t={};let i,o,c;return e&&e.split(`
`).forEach(function(u){c=u.indexOf(":"),i=u.substring(0,c).trim().toLowerCase(),o=u.substring(c+1).trim(),!(!i||t[i]&&FC[i])&&(i==="set-cookie"?t[i]?t[i].push(o):t[i]=[o]:t[i]=t[i]?t[i]+", "+o:o)}),t},xf=Symbol("internals");function fa(e){return e&&String(e).trim().toLowerCase()}function su(e){return e===!1||e==null?e:be.isArray(e)?e.map(su):String(e)}function NC(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(e);)t[o[1]]=o[2];return t}const zC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uh(e,t,i,o,c){if(be.isFunction(o))return o.call(this,t,i);if(c&&(t=i),!!be.isString(t)){if(be.isString(o))return t.indexOf(o)!==-1;if(be.isRegExp(o))return o.test(t)}}function VC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,o)=>i.toUpperCase()+o)}function GC(e,t){const i=be.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+i,{value:function(c,s,u){return this[o].call(this,t,c,s,u)},configurable:!0})})}class ai{constructor(t){t&&this.set(t)}set(t,i,o){const c=this;function s(f,_,v){const b=fa(_);if(!b)throw new Error("header name must be a non-empty string");const w=be.findKey(c,b);(!w||c[w]===void 0||v===!0||v===void 0&&c[w]!==!1)&&(c[w||_]=su(f))}const u=(f,_)=>be.forEach(f,(v,b)=>s(v,b,_));if(be.isPlainObject(t)||t instanceof this.constructor)u(t,i);else if(be.isString(t)&&(t=t.trim())&&!zC(t))u(jC(t),i);else if(be.isHeaders(t))for(const[f,_]of t.entries())s(_,f,o);else t!=null&&s(i,t,o);return this}get(t,i){if(t=fa(t),t){const o=be.findKey(this,t);if(o){const c=this[o];if(!i)return c;if(i===!0)return NC(c);if(be.isFunction(i))return i.call(this,c,o);if(be.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=fa(t),t){const o=be.findKey(this,t);return!!(o&&this[o]!==void 0&&(!i||uh(this,this[o],o,i)))}return!1}delete(t,i){const o=this;let c=!1;function s(u){if(u=fa(u),u){const f=be.findKey(o,u);f&&(!i||uh(o,o[f],f,i))&&(delete o[f],c=!0)}}return be.isArray(t)?t.forEach(s):s(t),c}clear(t){const i=Object.keys(this);let o=i.length,c=!1;for(;o--;){const s=i[o];(!t||uh(this,this[s],s,t,!0))&&(delete this[s],c=!0)}return c}normalize(t){const i=this,o={};return be.forEach(this,(c,s)=>{const u=be.findKey(o,s);if(u){i[u]=su(c),delete i[s];return}const f=t?VC(s):String(s).trim();f!==s&&delete i[s],i[f]=su(c),o[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return be.forEach(this,(o,c)=>{o!=null&&o!==!1&&(i[c]=t&&be.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const o=new this(t);return i.forEach(c=>o.set(c)),o}static accessor(t){const o=(this[xf]=this[xf]={accessors:{}}).accessors,c=this.prototype;function s(u){const f=fa(u);o[f]||(GC(c,u),o[f]=!0)}return be.isArray(t)?t.forEach(s):s(t),this}}ai.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(ai.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[i]=o}}});be.freezeMethods(ai);function ch(e,t){const i=this||nl,o=t||i,c=ai.from(o.headers);let s=o.data;return be.forEach(e,function(f){s=f.call(i,s,c.normalize(),t?t.status:void 0)}),c.normalize(),s}function wg(e){return!!(e&&e.__CANCEL__)}function ks(e,t,i){Lt.call(this,e??"canceled",Lt.ERR_CANCELED,t,i),this.name="CanceledError"}be.inherits(ks,Lt,{__CANCEL__:!0});function Lg(e,t,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?e(i):t(new Lt("Request failed with status code "+i.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function $C(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function UC(e,t){e=e||10;const i=new Array(e),o=new Array(e);let c=0,s=0,u;return t=t!==void 0?t:1e3,function(_){const v=Date.now(),b=o[s];u||(u=v),i[c]=_,o[c]=v;let w=s,P=0;for(;w!==c;)P+=i[w++],w=w%e;if(c=(c+1)%e,c===s&&(s=(s+1)%e),v-u<t)return;const O=b&&v-b;return O?Math.round(P*1e3/O):void 0}}function HC(e,t){let i=0,o=1e3/t,c,s;const u=(v,b=Date.now())=>{i=b,c=null,s&&(clearTimeout(s),s=null),e.apply(null,v)};return[(...v)=>{const b=Date.now(),w=b-i;w>=o?u(v,b):(c=v,s||(s=setTimeout(()=>{s=null,u(c)},o-w)))},()=>c&&u(c)]}const xu=(e,t,i=3)=>{let o=0;const c=UC(50,250);return HC(s=>{const u=s.loaded,f=s.lengthComputable?s.total:void 0,_=u-o,v=c(_),b=u<=f;o=u;const w={loaded:u,total:f,progress:f?u/f:void 0,bytes:_,rate:v||void 0,estimated:v&&f&&b?(f-u)/v:void 0,event:s,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(w)},i)},wf=(e,t)=>{const i=e!=null;return[o=>t[0]({lengthComputable:i,total:e,loaded:o}),t[1]]},Lf=e=>(...t)=>be.asap(()=>e(...t)),ZC=si.hasStandardBrowserEnv?function(){const t=si.navigator&&/(msie|trident)/i.test(si.navigator.userAgent),i=document.createElement("a");let o;function c(s){let u=s;return t&&(i.setAttribute("href",u),u=i.href),i.setAttribute("href",u),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=c(window.location.href),function(u){const f=be.isString(u)?c(u):u;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}(),qC=si.hasStandardBrowserEnv?{write(e,t,i,o,c,s){const u=[e+"="+encodeURIComponent(t)];be.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),be.isString(o)&&u.push("path="+o),be.isString(c)&&u.push("domain="+c),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function KC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function WC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Cg(e,t){return e&&!KC(t)?WC(e,t):t}const Cf=e=>e instanceof ai?{...e}:e;function Mo(e,t){t=t||{};const i={};function o(v,b,w){return be.isPlainObject(v)&&be.isPlainObject(b)?be.merge.call({caseless:w},v,b):be.isPlainObject(b)?be.merge({},b):be.isArray(b)?b.slice():b}function c(v,b,w){if(be.isUndefined(b)){if(!be.isUndefined(v))return o(void 0,v,w)}else return o(v,b,w)}function s(v,b){if(!be.isUndefined(b))return o(void 0,b)}function u(v,b){if(be.isUndefined(b)){if(!be.isUndefined(v))return o(void 0,v)}else return o(void 0,b)}function f(v,b,w){if(w in t)return o(v,b);if(w in e)return o(void 0,v)}const _={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(v,b)=>c(Cf(v),Cf(b),!0)};return be.forEach(Object.keys(Object.assign({},e,t)),function(b){const w=_[b]||c,P=w(e[b],t[b],b);be.isUndefined(P)&&w!==f||(i[b]=P)}),i}const kg=e=>{const t=Mo({},e);let{data:i,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:s,headers:u,auth:f}=t;t.headers=u=ai.from(u),t.url=vg(Cg(t.baseURL,t.url),e.params,e.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let _;if(be.isFormData(i)){if(si.hasStandardBrowserEnv||si.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((_=u.getContentType())!==!1){const[v,...b]=_?_.split(";").map(w=>w.trim()).filter(Boolean):[];u.setContentType([v||"multipart/form-data",...b].join("; "))}}if(si.hasStandardBrowserEnv&&(o&&be.isFunction(o)&&(o=o(t)),o||o!==!1&&ZC(t.url))){const v=c&&s&&qC.read(s);v&&u.set(c,v)}return t},JC=typeof XMLHttpRequest<"u",YC=JC&&function(e){return new Promise(function(i,o){const c=kg(e);let s=c.data;const u=ai.from(c.headers).normalize();let{responseType:f,onUploadProgress:_,onDownloadProgress:v}=c,b,w,P,O,R;function V(){O&&O(),R&&R(),c.cancelToken&&c.cancelToken.unsubscribe(b),c.signal&&c.signal.removeEventListener("abort",b)}let oe=new XMLHttpRequest;oe.open(c.method.toUpperCase(),c.url,!0),oe.timeout=c.timeout;function te(){if(!oe)return;const z=ai.from("getAllResponseHeaders"in oe&&oe.getAllResponseHeaders()),pe={data:!f||f==="text"||f==="json"?oe.responseText:oe.response,status:oe.status,statusText:oe.statusText,headers:z,config:e,request:oe};Lg(function(Ne){i(Ne),V()},function(Ne){o(Ne),V()},pe),oe=null}"onloadend"in oe?oe.onloadend=te:oe.onreadystatechange=function(){!oe||oe.readyState!==4||oe.status===0&&!(oe.responseURL&&oe.responseURL.indexOf("file:")===0)||setTimeout(te)},oe.onabort=function(){oe&&(o(new Lt("Request aborted",Lt.ECONNABORTED,e,oe)),oe=null)},oe.onerror=function(){o(new Lt("Network Error",Lt.ERR_NETWORK,e,oe)),oe=null},oe.ontimeout=function(){let ne=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const pe=c.transitional||bg;c.timeoutErrorMessage&&(ne=c.timeoutErrorMessage),o(new Lt(ne,pe.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,e,oe)),oe=null},s===void 0&&u.setContentType(null),"setRequestHeader"in oe&&be.forEach(u.toJSON(),function(ne,pe){oe.setRequestHeader(pe,ne)}),be.isUndefined(c.withCredentials)||(oe.withCredentials=!!c.withCredentials),f&&f!=="json"&&(oe.responseType=c.responseType),v&&([P,R]=xu(v,!0),oe.addEventListener("progress",P)),_&&oe.upload&&([w,O]=xu(_),oe.upload.addEventListener("progress",w),oe.upload.addEventListener("loadend",O)),(c.cancelToken||c.signal)&&(b=z=>{oe&&(o(!z||z.type?new ks(null,e,oe):z),oe.abort(),oe=null)},c.cancelToken&&c.cancelToken.subscribe(b),c.signal&&(c.signal.aborted?b():c.signal.addEventListener("abort",b)));const ee=$C(c.url);if(ee&&si.protocols.indexOf(ee)===-1){o(new Lt("Unsupported protocol "+ee+":",Lt.ERR_BAD_REQUEST,e));return}oe.send(s||null)})},XC=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let o=new AbortController,c;const s=function(v){if(!c){c=!0,f();const b=v instanceof Error?v:this.reason;o.abort(b instanceof Lt?b:new ks(b instanceof Error?b.message:b))}};let u=t&&setTimeout(()=>{u=null,s(new Lt(`timeout ${t} of ms exceeded`,Lt.ETIMEDOUT))},t);const f=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(v=>{v.unsubscribe?v.unsubscribe(s):v.removeEventListener("abort",s)}),e=null)};e.forEach(v=>v.addEventListener("abort",s));const{signal:_}=o;return _.unsubscribe=()=>be.asap(f),_}},QC=function*(e,t){let i=e.byteLength;if(!t||i<t){yield e;return}let o=0,c;for(;o<i;)c=o+t,yield e.slice(o,c),o=c},ek=async function*(e,t){for await(const i of tk(e))yield*QC(i,t)},tk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:o}=await t.read();if(i)break;yield o}}finally{await t.cancel()}},kf=(e,t,i,o)=>{const c=ek(e,t);let s=0,u,f=_=>{u||(u=!0,o&&o(_))};return new ReadableStream({async pull(_){try{const{done:v,value:b}=await c.next();if(v){f(),_.close();return}let w=b.byteLength;if(i){let P=s+=w;i(P)}_.enqueue(new Uint8Array(b))}catch(v){throw f(v),v}},cancel(_){return f(_),c.return()}},{highWaterMark:2})},Yu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Eg=Yu&&typeof ReadableStream=="function",nk=Yu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Mg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ik=Eg&&Mg(()=>{let e=!1;const t=new Request(si.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ef=64*1024,Nh=Eg&&Mg(()=>be.isReadableStream(new Response("").body)),wu={stream:Nh&&(e=>e.body)};Yu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!wu[t]&&(wu[t]=be.isFunction(e[t])?i=>i[t]():(i,o)=>{throw new Lt(`Response type '${t}' is not supported`,Lt.ERR_NOT_SUPPORT,o)})})})(new Response);const rk=async e=>{if(e==null)return 0;if(be.isBlob(e))return e.size;if(be.isSpecCompliantForm(e))return(await new Request(si.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(be.isArrayBufferView(e)||be.isArrayBuffer(e))return e.byteLength;if(be.isURLSearchParams(e)&&(e=e+""),be.isString(e))return(await nk(e)).byteLength},ok=async(e,t)=>{const i=be.toFiniteNumber(e.getContentLength());return i??rk(t)},sk=Yu&&(async e=>{let{url:t,method:i,data:o,signal:c,cancelToken:s,timeout:u,onDownloadProgress:f,onUploadProgress:_,responseType:v,headers:b,withCredentials:w="same-origin",fetchOptions:P}=kg(e);v=v?(v+"").toLowerCase():"text";let O=XC([c,s&&s.toAbortSignal()],u),R;const V=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let oe;try{if(_&&ik&&i!=="get"&&i!=="head"&&(oe=await ok(b,o))!==0){let pe=new Request(t,{method:"POST",body:o,duplex:"half"}),Se;if(be.isFormData(o)&&(Se=pe.headers.get("content-type"))&&b.setContentType(Se),pe.body){const[Ne,Le]=wf(oe,xu(Lf(_)));o=kf(pe.body,Ef,Ne,Le)}}be.isString(w)||(w=w?"include":"omit");const te="credentials"in Request.prototype;R=new Request(t,{...P,signal:O,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:te?w:void 0});let ee=await fetch(R);const z=Nh&&(v==="stream"||v==="response");if(Nh&&(f||z&&V)){const pe={};["status","statusText","headers"].forEach(Ce=>{pe[Ce]=ee[Ce]});const Se=be.toFiniteNumber(ee.headers.get("content-length")),[Ne,Le]=f&&wf(Se,xu(Lf(f),!0))||[];ee=new Response(kf(ee.body,Ef,Ne,()=>{Le&&Le(),V&&V()}),pe)}v=v||"text";let ne=await wu[be.findKey(wu,v)||"text"](ee,e);return!z&&V&&V(),await new Promise((pe,Se)=>{Lg(pe,Se,{data:ne,headers:ai.from(ee.headers),status:ee.status,statusText:ee.statusText,config:e,request:R})})}catch(te){throw V&&V(),te&&te.name==="TypeError"&&/fetch/i.test(te.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,e,R),{cause:te.cause||te}):Lt.from(te,te&&te.code,e,R)}}),zh={http:xC,xhr:YC,fetch:sk};be.forEach(zh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Mf=e=>`- ${e}`,ak=e=>be.isFunction(e)||e===null||e===!1,Sg={getAdapter:e=>{e=be.isArray(e)?e:[e];const{length:t}=e;let i,o;const c={};for(let s=0;s<t;s++){i=e[s];let u;if(o=i,!ak(i)&&(o=zh[(u=String(i)).toLowerCase()],o===void 0))throw new Lt(`Unknown adapter '${u}'`);if(o)break;c[u||"#"+s]=o}if(!o){const s=Object.entries(c).map(([f,_])=>`adapter ${f} `+(_===!1?"is not supported by the environment":"is not available in the build"));let u=t?s.length>1?`since :
`+s.map(Mf).join(`
`):" "+Mf(s[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o},adapters:zh};function hh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ks(null,e)}function Sf(e){return hh(e),e.headers=ai.from(e.headers),e.data=ch.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sg.getAdapter(e.adapter||nl.adapter)(e).then(function(o){return hh(e),o.data=ch.call(e,e.transformResponse,o),o.headers=ai.from(o.headers),o},function(o){return wg(o)||(hh(e),o&&o.response&&(o.response.data=ch.call(e,e.transformResponse,o.response),o.response.headers=ai.from(o.response.headers))),Promise.reject(o)})}const Pg="1.7.7",Bd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bd[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const Pf={};Bd.transitional=function(t,i,o){function c(s,u){return"[Axios v"+Pg+"] Transitional option '"+s+"'"+u+(o?". "+o:"")}return(s,u,f)=>{if(t===!1)throw new Lt(c(u," has been removed"+(i?" in "+i:"")),Lt.ERR_DEPRECATED);return i&&!Pf[u]&&(Pf[u]=!0,console.warn(c(u," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(s,u,f):!0}};function lk(e,t,i){if(typeof e!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let c=o.length;for(;c-- >0;){const s=o[c],u=t[s];if(u){const f=e[s],_=f===void 0||u(f,s,e);if(_!==!0)throw new Lt("option "+s+" must be "+_,Lt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Lt("Unknown option "+s,Lt.ERR_BAD_OPTION)}}const Vh={assertOptions:lk,validators:Bd},Ir=Vh.validators;class Lo{constructor(t){this.defaults=t,this.interceptors={request:new bf,response:new bf}}async request(t,i){try{return await this._request(t,i)}catch(o){if(o instanceof Error){let c;Error.captureStackTrace?Error.captureStackTrace(c={}):c=new Error;const s=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?s&&!String(o.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+s):o.stack=s}catch{}}throw o}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Mo(this.defaults,i);const{transitional:o,paramsSerializer:c,headers:s}=i;o!==void 0&&Vh.assertOptions(o,{silentJSONParsing:Ir.transitional(Ir.boolean),forcedJSONParsing:Ir.transitional(Ir.boolean),clarifyTimeoutError:Ir.transitional(Ir.boolean)},!1),c!=null&&(be.isFunction(c)?i.paramsSerializer={serialize:c}:Vh.assertOptions(c,{encode:Ir.function,serialize:Ir.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let u=s&&be.merge(s.common,s[i.method]);s&&be.forEach(["delete","get","head","post","put","patch","common"],R=>{delete s[R]}),i.headers=ai.concat(u,s);const f=[];let _=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(i)===!1||(_=_&&V.synchronous,f.unshift(V.fulfilled,V.rejected))});const v=[];this.interceptors.response.forEach(function(V){v.push(V.fulfilled,V.rejected)});let b,w=0,P;if(!_){const R=[Sf.bind(this),void 0];for(R.unshift.apply(R,f),R.push.apply(R,v),P=R.length,b=Promise.resolve(i);w<P;)b=b.then(R[w++],R[w++]);return b}P=f.length;let O=i;for(w=0;w<P;){const R=f[w++],V=f[w++];try{O=R(O)}catch(oe){V.call(this,oe);break}}try{b=Sf.call(this,O)}catch(R){return Promise.reject(R)}for(w=0,P=v.length;w<P;)b=b.then(v[w++],v[w++]);return b}getUri(t){t=Mo(this.defaults,t);const i=Cg(t.baseURL,t.url);return vg(i,t.params,t.paramsSerializer)}}be.forEach(["delete","get","head","options"],function(t){Lo.prototype[t]=function(i,o){return this.request(Mo(o||{},{method:t,url:i,data:(o||{}).data}))}});be.forEach(["post","put","patch"],function(t){function i(o){return function(s,u,f){return this.request(Mo(f||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}Lo.prototype[t]=i(),Lo.prototype[t+"Form"]=i(!0)});class Td{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(s){i=s});const o=this;this.promise.then(c=>{if(!o._listeners)return;let s=o._listeners.length;for(;s-- >0;)o._listeners[s](c);o._listeners=null}),this.promise.then=c=>{let s;const u=new Promise(f=>{o.subscribe(f),s=f}).then(c);return u.cancel=function(){o.unsubscribe(s)},u},t(function(s,u,f){o.reason||(o.reason=new ks(s,u,f),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=o=>{t.abort(o)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new Td(function(c){t=c}),cancel:t}}}function uk(e){return function(i){return e.apply(null,i)}}function ck(e){return be.isObject(e)&&e.isAxiosError===!0}const Gh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gh).forEach(([e,t])=>{Gh[t]=e});function Bg(e){const t=new Lo(e),i=ag(Lo.prototype.request,t);return be.extend(i,Lo.prototype,t,{allOwnKeys:!0}),be.extend(i,t,null,{allOwnKeys:!0}),i.create=function(c){return Bg(Mo(e,c))},i}const un=Bg(nl);un.Axios=Lo;un.CanceledError=ks;un.CancelToken=Td;un.isCancel=wg;un.VERSION=Pg;un.toFormData=Ju;un.AxiosError=Lt;un.Cancel=un.CanceledError;un.all=function(t){return Promise.all(t)};un.spread=uk;un.isAxiosError=ck;un.mergeConfig=Mo;un.AxiosHeaders=ai;un.formToJSON=e=>xg(be.isHTMLForm(e)?new FormData(e):e);un.getAdapter=Sg.getAdapter;un.HttpStatusCode=Gh;un.default=un;var hk={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const{url:dk,project_token:pk}=hk,an=un.create({baseURL:dk,params:{project_token:pk}});class Yn{static getTaxonNameCitations(t,i){return an.get(`/taxon_names/${t}/inventory/catalog`,i)}static getOtu(t){return an.get(`/otus/${t}`,{params:{extend:["parents"]}})}static getOtus(t){return an.get("/otus.json",{params:t})}static getTaxon(t,i){return an.get(`/taxon_names/${t}`,i)}static summary(t,i){return an.get(`/taxon_names/${t}/inventory/summary`,i)}static getTaxonTypeDesignation(t){return an.get(`/taxon_names/${t}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(t,i){return an.get(`/otus/${t}/inventory/images.json`,i)}static getTaxonomy(t,i){return an.get(`/otus/${t}/inventory/taxonomy.json`,i)}static getOtuTypeMaterial(t){return an.get(`/otus/${t}/inventory/type_material.json`)}static getOtuDistribution(t,i={}){return an.get(`/otus/${t}/inventory/distribution.json`,i)}static getOtuGeoJSONDistribution(t){return an.get(`/otus/${t}/inventory/distribution.geojson`)}static getCachedMap(t,i){return an.get(`/cached_maps/${t}`,i)}static getOtuContent(t,i){return an.get(`/otus/${t}/inventory/content`,i)}static getCachedMap(t){return an.get(`/cached_maps/${t}`)}static getKeys(t){return an.get(`/otus/${t}/inventory/keys`)}}const Bo=vr("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(e,{signal:t}){const i=vd(),o=await Promise.all([Yn.getTaxon(e,{params:{extend:["type_taxon_name_relationship"]}}),_r("summary",()=>Yn.summary(e,{signal:t}))]);this.taxon=Object.assign({},...o.map(c=>c.data)),i.setNextAuthorText(this.taxon.full_name_tag+".")},async loadOtu(e,{signal:t}){const i=await Yn.getOtu(e,{signal:t});this.otu=i.data},async loadTaxonomy(e,{signal:t}){const{data:i}=await Yn.getTaxonomy(e,{params:{max_descendants_depth:0,extend:["common_names"]},signal:t});this.taxonomy={commonNames:i.common_names,synonyms:i.nomenclatural_synonyms}},async loadCatalog(e,{signal:t}){this.catalog.isLoading=!0;const i=await _r("taxonomy",()=>Yn.getTaxonNameCitations(e,{signal:t}));this.catalog={...i.data,sources:i.data.sources.map(({cached:o,url:c})=>o.replace(c,`<a href="${c}">${c}</a>`)),isLoading:!1}},async loadInit({otuId:e,controller:t}){Zu().$reset();try{await this.loadOtu(e,t),await this.loadTaxon(this.otu.taxon_name_id,t),await this.loadCatalog(this.otu.taxon_name_id,t),await this.loadTaxonomy(e,t)}catch(o){return Promise.reject(o)}}}});function fk(e,t){return e||(e={}),e._resolver=t,e}function mk(e){return fk(e,"taxon")}function _k(e){return _d({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:e}]})}function $h(e,t){return!e.length||e.some(i=>t==null?void 0:t.includes(i))}function gk(e,t){return t.split("::").at(2)===e}function yk(e,t){return{type:"Feature",geometry:e,properties:{base:[{type:t}]}}}function vk(e){const t=[],i=[];return e.features.forEach(o=>{const c=o.properties.shape.id,s=o.properties.shape.type;i.includes(o.properties.base.type)||i.push(o.properties.base.type);const u=t.findIndex(f=>f.properties.shape.id===c&&f.properties.shape.type===s);if(u>-1){const f=t[u];f.properties.base.push(o.properties.base),f.properties.target.push(o.properties.target)}else{const f=structuredClone(o);f.properties.base=[f.properties.base],f.properties.target=[f.properties.target],t.push(f)}}),i.sort(),{shapeTypes:i,features:t}}function bk(e){return e.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,t=>t.toUpperCase())}function xk(){const e=Ja(),t=Ya(),i=ze();yn(t,()=>{i.value=o()},{immediate:!0});function o(){const{children:c}=e.getRoutes().find(s=>s.name==="otus-id");return c.map(({path:s,name:u,meta:f})=>({label:s&&(f.label||bk(s)),path:s,name:u,meta:f}))}return i}const ls=Object.values(Object.assign({}))[0];function wk({taxon:e,otu:t}){const i=Ya(),c={router:Ja(),route:i,taxon:e,otu:t};return{onCreatePage:()=>ls==null?void 0:ls.onCreatePage(c),onSSRCreatePage:()=>ls==null?void 0:ls.onSSRCreatePage(c)}}const Lk={class:"p-4 pt-0"},Ck=["href"],kk={__name:"DataMap",setup(e){const t=ze(!1),i=Zu();return(o,c)=>{const s=se("IconJson"),u=se("VButton"),f=se("VTableHeaderCell"),_=se("VTableHeaderRow"),v=se("VTableHeader"),b=se("VTableBodyCell"),w=se("VTableBodyRow"),P=se("VTableBody"),O=se("VTable"),R=se("VModal");return S(),U("div",null,[q(u,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:c[0]||(c[0]=V=>t.value=!0)},{default:J(()=>[q(s,{class:"w-4 h-4"}),c[2]||(c[2]=Ge(" Datamap "))]),_:1}),t.value?(S(),ye(R,{key:0,onClose:c[1]||(c[1]=V=>t.value=!1)},{header:J(()=>c[3]||(c[3]=[N("h3",{class:"font-medium"},"Datamap",-1)])),default:J(()=>[N("div",Lk,[c[6]||(c[6]=N("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1)),q(O,null,{default:J(()=>[q(v,null,{default:J(()=>[q(_,null,{default:J(()=>[q(f,null,{default:J(()=>c[4]||(c[4]=[Ge(" Request Key ")])),_:1}),q(f,null,{default:J(()=>c[5]||(c[5]=[Ge(" URL ")])),_:1})]),_:1})]),_:1}),q(P,null,{default:J(()=>[(S(!0),U(je,null,ut(Ie(i).datamap,(V,oe)=>(S(),ye(w,{key:oe},{default:J(()=>[q(b,{class:"capitalize"},{default:J(()=>[Ge(Be(oe.replaceAll(":"," ")),1)]),_:2},1024),q(b,null,{default:J(()=>[N("a",{href:V},Be(V),9,Ck)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Ee("",!0)])}}},Ek={class:"relative"},Mk={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},Sk={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(e){const t=ze(!1);return(i,o)=>{const c=se("router-link");return S(),U("div",Ek,[N("div",null,[N("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:o[0]||(o[0]=s=>t.value=!t.value)},[xt(i.$slots,"default"),o[2]||(o[2]=N("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[N("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))]),t.value?(S(),U("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:o[1]||(o[1]=s=>t.value=!1)})):Ee("",!0),t.value?(S(),U("div",Mk,[(S(!0),U(je,null,ut(e.list,s=>(S(),ye(c,{key:s.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:s.id}}},{default:J(()=>[Ge(Be(s.name||i.key),1)]),_:2},1032,["to"]))),128))])):Ee("",!0)])])}}},Pk={class:"inline-flex items-center flex-wrap"},Bk={class:"inline-flex items-center ml-0 text-sm"},Tk=["innerHTML"],Ak={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(e){return(t,i)=>{const o=se("IconArrowRight"),c=se("router-link");return S(),U("ul",Pk,[(S(!0),U(je,null,ut(e.list,(s,u,f)=>(S(),U("li",{key:s.id,class:"inline-flex items-center"},[f?(S(),ye(o,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Ee("",!0),s.length===1?(S(),ye(c,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:s[0].id}}},{default:J(()=>[Ge(Be(u),1)]),_:2},1032,["to"])):(S(),ye(Sk,{key:2,list:s.map(_=>({..._,name:_.name||u}))},{default:J(()=>[Ge(Be(u),1)]),_:2},1032,["list"]))]))),128)),N("li",Bk,[q(o,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),N("span",{innerHTML:e.current.full_name_tag},null,8,Tk)])])}}},Ok={__name:"CommonNames",setup(e){const t=Bo(),i=Ze(()=>t.taxonomy.commonNames.map(o=>o.name).join("; "));return(o,c)=>(S(),U("span",null,Be(i.value),1))}},Rk={class:"text-1xl capitalize"},Dk={class:"text-xl dark:text-gray-100"},Ik=["title","innerHTML"],Fk={key:0,class:"ml-1 text-red-600",title:"Invalid"},jk={class:"text-1xl"},Nk={__name:"TaxaInfo",setup(e){const t=Bo();return(i,o)=>(S(),U("div",null,[N("h2",Rk,Be(Ie(t).taxon.rank||"Combination"),1),N("h1",Dk,[N("span",null,[N("span",{title:Ie(t).taxon.short_status,innerHTML:Ie(t).taxon.full_name_tag},null,8,Ik),Ie(t).taxon.is_valid?Ee("",!0):(S(),U("span",Fk," ✕ "))])]),N("h2",jk,[q(Ok)])]))}};var zk={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const Vk={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(e){const{url:t,project_token:i}=zk,o=e;function c(){window.open(`${t}/otus/${o.otu.id}/inventory/dwc.csv?project_token=${i}`,"_self")}return(s,u)=>{const f=se("IconDownload"),_=se("VButton");return S(),ye(_,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:u[0]||(u[0]=()=>{c()})},{default:J(()=>[q(f,{class:"w-4 h-4 mr-1"}),u[1]||(u[1]=Ge(" DwC "))]),_:1})}}};var Gk={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const $k={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},Uk={class:"container mx-auto"},Hk={class:"pt-6 pb-6"},Zk={class:"flex flex-col-reverse md:flex-row justify-between items-start"},qk={class:"mt-8 flex justify-between items-end"},Kk={class:"flex flex-row gap-2"},Wk={class:"pt-3 pb-4"},Jk={class:"container mx-auto box-border"},Yk={__name:"Index",setup(e){const t=Ya(),i=Ja(),o=ze(t.params),c=xk(),s=Bo(),u=vd();let f=new AbortController;i.afterEach(ee=>{o.value=ee.params});const _=Ze(()=>s.otu),v=Ze(()=>s.taxon),b=Ze(()=>{var ee,z;return((ee=_.value)==null?void 0:ee.id)&&((z=v.value)==null?void 0:z.id)}),w=Ze(()=>c.value.filter(ee=>$h(ee.meta.rankGroup,v.value.rank_string))),{onCreatePage:P,onSSRCreatePage:O}=wk({taxon:v,otu:_});ud(async()=>{await R(),await O()}),P(),yn(()=>t.params.id,async()=>{f.abort(),f=new AbortController,R()}),cn(async()=>{var ee,z;((ee=_.value)==null?void 0:ee.id)!==Number(t.params.id)||!((z=v.value)!=null&&z.id)?await R():oe()}),Yi(()=>{s.$reset(),u.$reset()});async function R(){s.$reset(),u.$reset();try{await s.loadInit({otuId:t.params.id,controller:f}),oe()}catch(ee){ee.name!==Va.CanceledError&&V(ee)}}function V(ee){var z;switch((z=ee==null?void 0:ee.response)==null?void 0:z.status){case 404:i.replace({name:"httpError404"});break;case 500:i.replace({name:"httpError500"});break}}function oe(){_d({title:`${Gk.project_name} - ${v.value.full_name}`}),_k([mk({id:t.fullPath,name:v.value.full_name,scientificName:{name:v.value.full_name,author:v.value.author,taxonRank:v.value.rank},parentTaxon:{name:v.value.parent.full_name,taxonRank:v.value.parent.rank},commonNames:s.taxonomy.commonNames,alternateName:s.taxonomy.synonyms})])}function te({id:ee,otu_valid_id:z}){i.push({name:"otus-id-overview",params:{id:z||ee}})}return(ee,z)=>{const ne=se("VSkeleton"),pe=se("Autocomplete"),Se=se("ClientOnly"),Ne=se("TabItem"),Le=se("TabMenu"),Ce=se("RouterView");return S(),U("main",null,[N("div",$k,[N("div",Uk,[N("div",Hk,[N("div",Zk,[q(ne,{class:"w-full md:w-3/4"},{default:J(()=>{var Fe;return[b.value?(S(),ye(Ak,{key:0,class:"w-full md:w-3/4",list:((Fe=_.value)==null?void 0:Fe.parents)||{},current:v.value},null,8,["list","current"])):Ee("",!0)]}),_:1}),q(pe,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:te})]),N("div",qk,[q(ne,{lines:2,class:"w-96"},{default:J(()=>[b.value?(S(),ye(Nk,{key:0})):Ee("",!0)]),_:1}),N("div",Kk,[q(Se,null,{default:J(()=>[q(kk)]),_:1}),b.value?(S(),ye(Vk,{key:0,otu:_.value},null,8,["otu"])):Ee("",!0)])])]),b.value&&Ie(c).length>1?(S(),ye(Le,{key:0,class:"m-[-1px] print:hidden"},{default:J(()=>[(S(!0),U(je,null,ut(w.value,({name:Fe,label:We})=>(S(),ye(Ne,{key:Fe,to:{name:Fe}},{default:J(()=>[Ge(Be(We),1)]),_:2},1032,["to"]))),128))]),_:1})):Ee("",!0)])]),N("div",Wk,[N("div",Jk,[b.value?(S(),ye(Ce,{key:Ie(t).fullPath,"taxon-id":v.value.id,taxon:v.value,"taxon-rank":v.value.rank_string,"otu-id":_.value.id,otu:_.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Ee("",!0)])])])}}},Xk={},Qk={xmlns:"http://www.w3.org/2000/svg",viewBox:"150 100 800 300"};function e3(e,t){return S(),U("svg",Qk,t[0]||(t[0]=[Xm('<path class="cls-2" d="M274.26,246.51c0-55.06,26.87-102.71,106.83-102.71,0,55.18-36.3,102.71-106.83,102.71" data-v-fb64fa23></path><path class="cls-2" d="M402.37,391.08c14.98,0,26.49-2.13,38.31-6.48,0-43.58-26-74.71-71.91-97.15-35.14-17.62-78.39-26.74-117.83-26.74,17.31-51.95,4.69-116.41-12.08-151.79-18.58,37.07-30.18,100.62-12.34,152.32-35.04,2.55-62.82,17.82-74.58,37.94-.89,1.53-2.67,4.81-1.6,5.37,.84,.45,2.19-.92,3.03-1.69,12.66-11.72,29.42-17.43,45.52-17.43,37.2,0,63.46,30.87,82.01,49.41,39.88,39.87,78.85,56.32,121.48,56.24" data-v-fb64fa23></path><g data-v-fb64fa23><path class="cls-1" d="M556.02,186.44l-19.39,9.94c-.97,.48-1.94,1.21-2.91,1.21-.73,0-1.45-.48-1.94-1.7-4.36-10.42-10.66-14.3-17.21-14.3h-15.99c-9.45,0-17.45,8-17.45,17.45v71.74c0,9.45,8,17.45,17.45,17.45h11.88c9.69,0,17.21-7.76,17.21-17.45v-11.39c0-1.7-.73-2.42-2.42-2.42h-22.78c-1.7,0-2.42-.73-2.42-2.42v-20.6c0-1.7,.73-2.42,2.42-2.42h50.65c1.7,0,2.42,.73,2.42,2.42v36.84c0,25.2-17.69,42.9-45.08,42.9h-11.88c-27.63,0-45.08-17.69-45.08-42.9v-71.74c0-25.2,17.45-42.9,45.08-42.9h15.99c20.11,0,31.02,8.24,38.29,19.63,2.18,3.64,4.6,7.51,4.6,8.97,0,.73-.48,1.21-1.45,1.7Z" data-v-fb64fa23></path><path class="cls-1" d="M633.09,311.25h-54.53c-1.7,0-2.42-.73-2.42-2.42V160.99c0-1.7,.73-2.42,2.42-2.42h54.53c27.63,0,45.08,17.69,45.08,45.08v2.42c0,8.97-5.82,19.39-12.85,26.17-.73,.48-.97,1.21-.97,1.7s.24,1.21,.97,1.7c7.03,6.79,12.85,18.42,12.85,27.39v3.63c0,27.39-17.45,44.59-45.08,44.59Zm17.45-109.79c0-9.45-8-17.45-17.45-17.45h-26.66c-1.7,0-2.42,.73-2.42,2.42v32.23c0,1.7,.73,2.42,2.42,2.42h26.66c9.45,0,17.45-8,17.45-17.45v-2.18Zm0,62.28c0-9.69-7.76-17.21-17.45-17.21h-26.66c-1.7,0-2.42,.73-2.42,2.42v34.41c0,1.7,.73,2.42,2.42,2.42h26.66c9.45,0,17.45-7.51,17.45-17.45v-4.61Z" data-v-fb64fa23></path><path class="cls-1" d="M726.64,311.25h-23.02c-1.7,0-2.42-.73-2.42-2.42V160.99c0-1.7,.73-2.42,2.42-2.42h23.02c1.7,0,2.42,.73,2.42,2.42v147.83c0,1.7-.73,2.42-2.42,2.42Z" data-v-fb64fa23></path><path class="cls-1" d="M847.58,184.01h-57.68c-1.7,0-2.42,.73-2.42,2.42v32.23c0,1.7,.73,2.42,2.42,2.42h47.26c1.7,0,2.42,.73,2.42,2.42v20.6c0,1.7-.73,2.42-2.42,2.42h-47.26c-1.7,0-2.42,.73-2.42,2.42v59.86c0,1.7-.73,2.42-2.42,2.42h-23.02c-1.7,0-2.42-.73-2.42-2.42V160.99c0-1.7,.73-2.42,2.42-2.42h85.55c1.7,0,2.42,.73,2.42,2.42v20.6c0,1.7-.73,2.42-2.42,2.42Z" data-v-fb64fa23></path></g>',3)]))}const t3=gt(Xk,[["render",e3],["__scopeId","data-v-fb64fa23"]]),n3=["href","innerHTML"],i3={__name:"PanelGBIF",props:{taxon:{type:Object,required:!0},perPage:{type:Number,default:60}},setup(e){const t=e,i=Ze(()=>o.value?`https://www.gbif.org/species/${o.value}`:null),o=ze(null);function c(){un.get("https://api.gbif.org/v1/species/match",{params:{name:t.taxon.expanded_name}}).then(({data:s})=>{o.value=s==null?void 0:s.usageKey})}return cn(c),(s,u)=>{const f=se("VCardHeader"),_=se("VCardContent"),v=se("VCard");return i.value?(S(),ye(v,{key:0},{default:J(()=>[q(f,null,{default:J(()=>[q(t3,{class:"h-6"})]),_:1}),q(_,null,{default:J(()=>[N("a",{class:"text-sm",href:i.value,innerHTML:e.taxon.full_name_tag},null,8,n3)]),_:1})]),_:1})):Ee("",!0)}}},r3={id:"panel:gbif",component:i3},o3={class:"text-sm"},s3=3102,a3={__name:"PanelScrutiny",props:{taxonId:{type:Number,required:!0}},setup(e){const t=e,i=ze([]);cn(()=>{const c={attribute_subject_id:t.taxonId,controlled_vocabulary_term_id:s3};an.get("/data_attributes.json",{params:c}).then(async s=>{i.value=s.data,i.value.forEach(u=>o(u))})});function o(c){const s={citation_object_id:c.id,citation_object_type:"DataAttribute"};an.get("/citations.json",{params:s}).then(u=>{c.citations=u.data})}return(c,s)=>{const u=se("VCardHeader"),f=se("VCardContent"),_=se("VCard");return i.value.length?(S(),ye(_,{key:0},{default:J(()=>[q(u,null,{default:J(()=>s[0]||(s[0]=[Ge("Scrutiny")])),_:1}),q(f,null,{default:J(()=>[N("ul",o3,[(S(!0),U(je,null,ut(i.value,v=>{var b;return S(),U("li",null,Be(v.value)+Be(v.value[v.value.length-1]==="."?"":".")+" "+Be((b=v.citations)==null?void 0:b.map(w=>w.citation_source_body).join("; ")),1)}),256))])]),_:1})]),_:1})):Ee("",!0)}}},l3={id:"panel:scrutiny",component:a3},u3=["title"],c3=["alt","src"],h3={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(e){return(t,i)=>(S(),U("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:e.title},[N("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:e.title,src:e.image.thumb},null,8,c3)],8,u3))}},d3={class:"flex flex-row overflow-x-auto print:flex-wrap gap-1.5"},Lu={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(e,{emit:t}){const i=t;return(o,c)=>(S(),U("div",d3,[(S(!0),U(je,null,ut(e.images,(s,u)=>{var f;return S(),U("div",{key:s.id},[q(h3,{image:s,class:tn({"border border-secondary-color":e.current===u}),title:(f=s.depictions)==null?void 0:f.map(_=>_.label).join(";"),onClick:_=>i("selectIndex",u)},null,8,["image","class","title","onClick"])])}),128))]))}},p3={class:"flex justify-between flex-col gap-2 text-sm px-2 py-4"},f3={class:"flex flex-col"},m3={class:"font-medium"},_3=["innerHTML"],g3={class:"flex flex-col justify-between text-sm px-2 py-4 gap-2"},y3={class:"flex flex-col"},v3=["innerHTML"],b3={__name:"PanelSpecimenRecords",props:{otuId:{type:Number,required:!0}},setup(e){const t=e,i=ze(0),o=ze([]),c=ze(!1),s=ze(!1),u=ze([]),f=Ze(()=>u.value.filter(te=>te.dwc_occurrence_object_type==="CollectionObject"&&!te.typeStatus)),_=Ze(()=>u.value.filter(te=>te.dwc_occurrence_object_type==="CollectionObject"&&te.typeStatus));function v(te){return[te.country,te.stateProvince,te.county,te.verbatimLocality].filter(Boolean).join(", ")}function b(te){return[P(te),w(te),te.catalogNumber,v(te),R(te),O(te)].filter(Boolean).join("; ")}function w(te){const{institutionCode:ee,institutionID:z}=te;if(ee)return z?`<a href="${z}" target="_blank">${ee}</a>`:`<span>${ee}</span>`}function P({individualCount:te,sex:ee}){return ee?`${te} ${ee}`:`${te} specimen${te>1?"s":""}`}function O({recordedBy:te}){return te?`Col. ${te}`:""}function R({verbatimCoordinates:te}){const ee=te==null?void 0:te.split(" ").join(", ");return ee?`(${ee})`:""}cn(()=>{s.value=!0,an.get(`/otus/${t.otuId}/inventory/dwc.json`).then(async te=>{te.data.sort((ee,z)=>ee.associatedMedia&&!z.associatedMedia?-1:!ee.associatedMedia&&z.associatedMedia?1:0);for(let ee=0;ee<te.data.length;ee++){const z=te.data[ee];if(z.associatedMedia){const ne=await V(z);z.associatedMedia=ne}}u.value=te.data}).finally(()=>{s.value=!1})});async function V(te){const ee=te.associatedMedia.split("|"),z=[];return ee.forEach(ne=>{z.push(an.get(ne.trim(),{params:{extend:["attribution","depictions","source"]}}))}),await Promise.all(z).then(ne=>ne.map(pe=>pe.data))}function oe(te,ee){o.value=te,i.value=ee,c.value=!0}return(te,ee)=>{const z=se("VCardHeader"),ne=se("VSpinner"),pe=se("ImageViewer"),Se=se("VCardContent"),Ne=se("VCard");return S(),U(je,null,[q(Ne,null,{default:J(()=>[q(z,null,{default:J(()=>ee[8]||(ee[8]=[Ge("Type specimens")])),_:1}),q(Se,{class:tn(s.value&&"min-h-[6rem]")},{default:J(()=>[s.value?(S(),ye(ne,{key:0})):Ee("",!0),(S(!0),U(je,null,ut(_.value,Le=>(S(),U(je,{key:Le.id},[N("div",p3,[N("div",f3,[N("span",m3,Be(Le.typeStatus),1),N("span",{innerHTML:b(Le)},null,8,_3)]),Le.associatedMedia?(S(),ye(Lu,{key:0,images:Le.associatedMedia,class:"flex-row flex-wrap gap-2",onSelectIndex:Ce=>oe(Le.associatedMedia,Ce)},null,8,["images","onSelectIndex"])):Ee("",!0)]),ee[9]||(ee[9]=N("hr",null,null,-1))],64))),128)),c.value?(S(),ye(pe,{key:1,images:o.value,index:i.value,next:o.value.length-1>i.value,previous:i.value>0,onSelectIndex:ee[0]||(ee[0]=Le=>i.value=Le),onNext:ee[1]||(ee[1]=()=>i.value++),onPrevious:ee[2]||(ee[2]=()=>i.value--),onClose:ee[3]||(ee[3]=()=>c.value=!1)},null,8,["images","index","next","previous"])):Ee("",!0)]),_:1},8,["class"])]),_:1}),f.value.length?(S(),ye(Ne,{key:0},{default:J(()=>[q(z,null,{default:J(()=>ee[10]||(ee[10]=[Ge("Specimen records")])),_:1}),q(Se,{class:tn(s.value&&"min-h-[6rem]")},{default:J(()=>[s.value?(S(),ye(ne,{key:0})):Ee("",!0),(S(!0),U(je,null,ut(f.value,Le=>(S(),U(je,{key:Le.id},[N("div",g3,[N("div",y3,[N("span",null,Be(Le.typeStatus),1),N("span",{innerHTML:b(Le)},null,8,v3)]),Le.associatedMedia?(S(),ye(Lu,{key:0,images:Le.associatedMedia,class:"lg:flex-row gap-2 flex-wrap",onSelectIndex:Ce=>oe(Le.associatedMedia,Ce)},null,8,["images","onSelectIndex"])):Ee("",!0)]),ee[11]||(ee[11]=N("hr",null,null,-1))],64))),128)),c.value?(S(),ye(pe,{key:1,images:o.value,index:i.value,next:o.value.length-1>i.value,previous:i.value>0,onSelectIndex:ee[4]||(ee[4]=Le=>i.value=Le),onNext:ee[5]||(ee[5]=()=>i.value++),onPrevious:ee[6]||(ee[6]=()=>i.value--),onClose:ee[7]||(ee[7]=()=>c.value=!1)},null,8,["images","index","next","previous"])):Ee("",!0)]),_:1},8,["class"])]),_:1})):Ee("",!0)],64)}}},x3={id:"panel:specimen-records",component:b3},w3={};function L3(e,t){const i=se("VButton");return S(),ye(i,{class:"rounded-full",primary:""},{default:J(()=>t[0]||(t[0]=[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})],-1)])),_:1})}const C3=gt(w3,[["render",L3]]),k3={__name:"AudioProgress",props:{current:{type:Number,default:0},duration:{type:Number,default:0}},emits:["update"],setup(e,{emit:t}){const i=e,o=t,c=Ze(()=>Math.floor(i.current/i.duration*100));function s(u){const _=u.currentTarget.getBoundingClientRect(),v=u.clientX-_.left,b=_.width,P=v/b*100/100*i.duration;o("update",Math.floor(P))}return(u,f)=>(S(),U("div",{class:"h-2 w-full bg-base-background cursor-pointer",onClick:s},[N("div",{class:"h-full relative bg-primary-color",style:pi({width:c.value+"%"})},[N("div",{class:"absolute -right-2 bg-primary-color h-4 w-4 rounded-full -top-1",onMousedown:f[0]||(f[0]=(..._)=>u.startDrag&&u.startDrag(..._)),onMousemove:f[1]||(f[1]=(..._)=>u.handleDrag&&u.handleDrag(..._)),onMouseup:f[2]||(f[2]=(..._)=>u.endDrag&&u.endDrag(..._)),onMouseleave:f[3]||(f[3]=(..._)=>u.endDrag&&u.endDrag(..._))},null,32)],4)]))}},E3={__name:"AudioTime",props:{current:{type:Number,default:0},duration:{type:Number,default:0}},setup(e){const t=e,i=Ze(()=>s(Math.floor(t.current))),o=Ze(()=>s(Math.floor(t.duration)));function c(u){return(""+u).padStart(2,"0")}function s(u){const f=Math.floor(u/3600),_=c(Math.floor(u%3600/60))||0,v=c(u%60)||0;return f?`${c(f)}:${_}:${v}`:`${_}:${v}`}return(u,f)=>(S(),U("span",null,Be(i.value)+" / "+Be(o.value),1))}},M3={class:"flex gap-4"},S3={class:"bg-base-background p-4 flex flex-col gap-4"},P3={class:"flex flex-col justify-between"},B3=["src"],T3=["src"],A3=["src"],O3={__name:"AudioPlayer",props:{record:{type:Object,required:!0}},setup(e){const t=e,i=ze(null),o=ze(!1),c=ze(w(t.record.length)),s=ze(0),u=ze(f(t.record));yn(()=>t.record.id,()=>{c.value=w(t.record.length),s.value=0,u.value=f(t.record),ko(()=>{i.value.play()})});function f(O){const R=O.sono.small||O.osci.small,V=/uploaded\/([^\/]+)\//,oe=R.match(V);if(oe){const[te,ee]=oe;return`//xeno-canto.org/sounds/uploaded/${ee}/${O["file-name"]}`}else return O.file}function _(){i.value.play()}function v(){i.value.pause()}function b(O){i.value.pause(),s.value=O,i.value.currentTime=O,ko(()=>{i.value.play()})}function w(O){const[R,V]=O.split(":");return Number(R)*60+Number(V)}function P(O){s.value=O.target.currentTime}return(O,R)=>{const V=se("VButton");return S(),U("div",M3,[N("div",S3,[o.value?(S(),ye(V,{key:1,class:"rounded-full px-6 py-6 w-8 h-8",primary:"",onClick:v},{default:J(()=>R[3]||(R[3]=[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-8"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})],-1)])),_:1})):(S(),ye(V,{key:0,class:"rounded-full px-6 py-6 w-8 h-8",primary:"",onClick:_},{default:J(()=>R[2]||(R[2]=[N("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-8"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})],-1)])),_:1})),q(E3,{class:"text-xs text-center",duration:c.value,current:s.value},null,8,["duration","current"])]),N("div",P3,[N("img",{src:e.record.sono.small},null,8,B3),N("img",{src:e.record.osci.small},null,8,T3),q(k3,{current:s.value,duration:c.value,onUpdate:b},null,8,["current","duration"])]),N("audio",{src:u.value,preload:"none",ref_key:"audioRef",ref:i,onPlaying:R[0]||(R[0]=()=>o.value=!0),onPause:R[1]||(R[1]=()=>o.value=!1),onTimeupdate:P},null,40,A3)])}}},R3={class:"flex flex-col justify-between"},D3={class:"flex flex-col gap-2"},I3={class:"text-lg"},F3=["href"],j3={key:0},N3={class:"first-letter:uppercase"},z3={class:"text-sm"},V3={class:"text-sm"},G3={__name:"RecordInformation",props:{record:{type:Object,required:!0}},setup(e){const t=e;function i(){window.open(t.record.file)}return(o,c)=>{const s=se("VButton");return S(),U("div",R3,[N("div",D3,[N("div",I3,[N("a",{href:e.record.url,target:"_blank"},[Ge(Be(e.record.gen)+" "+Be(e.record.sp)+" ",1),e.record.en?(S(),U("span",j3,"("+Be(e.record.en)+")",1)):Ee("",!0),c[0]||(c[0]=Ge(" - ")),N("span",N3,Be(e.record.type),1)],8,F3),N("div",z3,Be(e.record.rec),1)]),N("div",null,[c[1]||(c[1]=N("b",{class:"text-sm block"},"Location",-1)),N("span",V3,Be(e.record.cnt)+", "+Be(e.record.loc),1)])]),N("div",null,[q(s,{class:"text-sm grow-0",primary:"",onClick:i},{default:J(()=>c[2]||(c[2]=[Ge(" Download ")])),_:1})])])}}},$3=vr("panel:xenocanto",{state:()=>({currentRecord:null,currentTaxon:null,list:[],isLoading:!1}),actions:{async loadRecords(e){var i;if(e.id===((i=this.currentTaxon)==null?void 0:i.id))return;const t=e.cached.replace(/\([^()]*\)/g,"").trim();this.currentTaxon=e,this.isLoading=!0,this.list=[],await un.get("https://xeno-canto.org/api/2/recordings",{params:{query:t}}).then(({data:o})=>{this.list=(o==null?void 0:o.recordings)||[],this.currentRecord=this.list[0]}).finally(()=>this.isLoading=!1)}}}),U3={key:0},H3={key:0,class:"text-xl text-center my-8"},Z3={key:0,class:"flex flex-col md:flex-row flex-wrap gap-4 justify-start"},q3=["href"],K3=["src"],W3={key:1},J3=["href"],Bf=10,Y3={__name:"PanelXenocanto",props:{taxon:{type:Object,required:!0}},setup(e){const t=e,i=ze(1),o=$3(),c=Ze(()=>{const v=[...o.list],b=[[]];for(;v.length>0;)b.push(v.splice(0,Bf));return b});function s(v){return[v.gen,v.sp,v.ssp].filter(Boolean).join(" ")}cn(()=>{o.loadRecords(t.taxon)});function u(v){return`http://mirrors.creativecommons.org/presskit/buttons/80x15/svg/${v}.svg`}function f(v){return v.includes("creativecommons")}function _(v){const b=/licenses\/([a-z-]+)\/\d+\.\d+/,w=v.match(b),[P,O]=w;return u(O)}return(v,b)=>{const w=se("VCardHeader"),P=se("VSpinner"),O=se("ClientOnly"),R=se("VTableHeaderCell"),V=se("VTableHeaderRow"),oe=se("VTableHeader"),te=se("VTableBodyCell"),ee=se("VTableBodyRow"),z=se("VTableBody"),ne=se("VTable"),pe=se("VPagination"),Se=se("VCardContent"),Ne=se("VCard");return S(),ye(Ne,null,{default:J(()=>[q(w,null,{default:J(()=>[N("span",null,[b[1]||(b[1]=Ge(" xeno-canto ")),Ie(o).list.length?(S(),U("span",U3,"("+Be(Ie(o).list.length)+")",1)):Ee("",!0)])]),_:1}),q(Se,{class:"min-h-[6rem]"},{default:J(()=>[q(O,null,{default:J(()=>[Ie(o).isLoading?(S(),ye(P,{key:0})):Ee("",!0)]),_:1}),!Ie(o).isLoading&&!Ie(o).list.length?(S(),U("div",H3," No records found. ")):Ee("",!0),!Ie(o).isLoading&&Ie(o).list.length?(S(),U(je,{key:1},[Ie(o).currentRecord?(S(),U("div",Z3,[q(O3,{record:Ie(o).currentRecord},null,8,["record"]),q(G3,{record:Ie(o).currentRecord},null,8,["record"])])):Ee("",!0),q(ne,{class:"my-4 overflow-x-auto"},{default:J(()=>[q(oe,null,{default:J(()=>[q(V,null,{default:J(()=>[q(R,{class:"w-2"},{default:J(()=>b[2]||(b[2]=[Ge("Audio")])),_:1}),q(R,{class:"w-2"},{default:J(()=>b[3]||(b[3]=[Ge("Taxon")])),_:1}),q(R,{class:"w-12"},{default:J(()=>b[4]||(b[4]=[Ge("Country")])),_:1}),q(R,null,{default:J(()=>b[5]||(b[5]=[Ge("Locality")])),_:1}),q(R,null,{default:J(()=>b[6]||(b[6]=[Ge("Author")])),_:1}),q(R,{class:"w-24"},{default:J(()=>b[7]||(b[7]=[Ge("License")])),_:1}),q(R,{class:"w-2"},{default:J(()=>b[8]||(b[8]=[Ge("Page")])),_:1})]),_:1})]),_:1}),q(z,null,{default:J(()=>[(S(!0),U(je,null,ut(c.value[i.value],Le=>(S(),ye(ee,{key:Le.id,class:tn([Ie(o).currentRecord.id===Le.id&&"bg-primary-color bg-opacity-20"])},{default:J(()=>[q(te,null,{default:J(()=>[q(C3,{onClick:()=>Ie(o).currentRecord=Le},null,8,["onClick"])]),_:2},1024),q(te,null,{default:J(()=>[Ge(Be(s(Le)),1)]),_:2},1024),q(te,null,{default:J(()=>[Ge(Be(Le.cnt),1)]),_:2},1024),q(te,null,{default:J(()=>[Ge(Be(Le.loc),1)]),_:2},1024),q(te,null,{default:J(()=>[Ge(Be(Le.rec),1)]),_:2},1024),q(te,null,{default:J(()=>[N("a",{href:Le.lic,target:"_blank"},[f(Le.lic)?(S(),U("img",{key:0,src:_(Le.lic)},null,8,K3)):(S(),U("span",W3,Be(Le.lic),1))],8,q3)]),_:2},1024),q(te,null,{default:J(()=>[N("a",{href:Le.url,target:"_blank"},"Link",8,J3)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1}),q(pe,{total:Ie(o).list.length,per:Bf,modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=Le=>i.value=Le)},null,8,["total","modelValue"])],64)):Ee("",!0)]),_:1})]),_:1})}}},X3={id:"panel:xeno-canto",component:Y3,rankGroup:["GenusGroup","SpeciesGroup"]},Q3={key:0,class:"text-xl text-center my-8 w-full"},eE={class:"flex flex-row flex-wrap gap-2"},tE=["href"],nE=["src"],iE={__name:"PaneliNaturalist",props:{taxon:{type:Object,required:!0},perPage:{type:Number,default:60}},setup(e){const t=e,i=ze(!1),o=ze([]),c=ze({page:1,per_page:t.perPage,total_results:0});function s(u={}){i.value=!0,un.get("https://api.inaturalist.org/v1/observations",{params:{taxon_name:t.taxon.expanded_name,...u}}).then(({data:f})=>{o.value=f.results,c.value={page:f.page,per_page:f.per_page,total_results:f.total_results}}).finally(()=>{i.value=!1})}return cn(()=>{s({per_page:t.perPage})}),(u,f)=>{const _=se("VCardHeader"),v=se("VSpinner"),b=se("ClientOnly"),w=se("VPagination"),P=se("VCardContent"),O=se("VCard");return S(),ye(O,null,{default:J(()=>[q(_,null,{default:J(()=>f[2]||(f[2]=[Ge("Observations")])),_:1}),q(P,{class:"min-h-[6rem]"},{default:J(()=>[q(b,null,{default:J(()=>[i.value?(S(),ye(v,{key:0})):Ee("",!0)]),_:1}),!i.value&&!o.value.length?(S(),U("div",Q3," No records found. ")):Ee("",!0),N("div",eE,[(S(!0),U(je,null,ut(o.value,R=>(S(),U("div",{key:R.id},[R!=null&&R.observation_photos[0]?(S(),U("a",{key:0,href:`https://www.inaturalist.org/observations/${R.id}`},[(S(),U("img",{key:R.observation_photos[0].photo.id,src:R.observation_photos[0].photo.url},null,8,nE))],8,tE)):Ee("",!0)]))),128))]),o.value.length?(S(),ye(w,{key:1,class:"mt-4",modelValue:c.value.page,"onUpdate:modelValue":[f[0]||(f[0]=R=>c.value.page=R),f[1]||(f[1]=R=>{s({page:R,per_page:e.perPage})})],total:c.value.total_results,per:c.value.per_page},null,8,["modelValue","total","per"])):Ee("",!0)]),_:1})]),_:1})}}},rE={id:"panel:inaturalist",component:iE,rankGroup:["GenusGroup","SpeciesGroup"]},oE=["innerHTML"],sE={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(e){return(t,i)=>{const o=se("VCardHeader"),c=se("VCardContent");return S(),U(je,null,[q(o,{class:"border-t border-base-muted first:border-t-0"},{default:J(()=>[Ge(Be(e.title),1)]),_:1}),q(c,{class:"panel-content-list"},{default:J(()=>[(S(!0),U(je,null,ut(e.textList,(s,u)=>(S(),U("div",{key:u,class:"pt-1 text-sm",innerHTML:s},null,8,oE))),128))]),_:1})],64)}}},aE={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(e){const t=e,i=ze([]),o=new AbortController,c=Ze(()=>i.value.reduce((s,u)=>(s[u.name]?s[u.name].push(u.text):s[u.name]=[u.text],s),{}));return Em(()=>{_r("panel:content",()=>Yn.getOtuContent(t.otuId,{params:{extend:["depiction"]},signal:o.signal})).then(({data:s})=>{i.value=s}).catch(s=>{})}),Yi(()=>{o.abort()}),(s,u)=>{const f=se("VCard");return i.value.length?(S(),ye(f,{key:0},{default:J(()=>[(S(!0),U(je,null,ut(c.value,(_,v)=>(S(),ye(sE,{key:v,title:v,"text-list":_},null,8,["title","text-list"]))),128))]),_:1})):Ee("",!0)}}},lE={id:"panel:content",component:aE},uE={class:"synonyms"},cE=["innerHTML"],hE={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(e){const t=e;return(i,o)=>(S(),U("ul",uE,[(S(!0),U(je,null,ut(t.list,c=>(S(),U("li",{key:c},[o[0]||(o[0]=N("span",{class:"text-orange-500 mr-1"},"=",-1)),N("span",{innerHTML:c},null,8,cE)]))),128))]))}},dE={key:0,class:"tree"},pE={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(e){const t=e,i=ze(!!t.taxonomy.descendants.length),o=ze([...t.taxonomy.descendants]);yn(i,s=>{s&&c()});const c=()=>{o.value.length||Yn.getTaxonomy(t.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:s})=>{o.value=s.descendants})};return(s,u)=>{const f=se("button-expand"),_=se("router-link"),v=se("AnimationOpacity");return Object.keys(e.taxonomy).length?(S(),U("li",{key:e.taxonomy.otu_id},[e.taxonomy.leaf_node?Ee("",!0):(S(),ye(f,{key:0,modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=b=>i.value=b),class:"absolute -left-2.5"},null,8,["modelValue"])),q(_,{class:"text-primary-500",to:{name:"otus-id",params:{id:e.taxonomy.otu_id}},innerHTML:e.taxonomy.name},null,8,["to","innerHTML"]),e.taxonomy.nomenclatural_synonyms.length?(S(),ye(hE,{key:1,class:"pb-4",list:e.taxonomy.nomenclatural_synonyms},null,8,["list"])):Ee("",!0),q(v,null,{default:J(()=>[o.value.length?(S(),U("ul",dE,[(S(!0),U(je,null,ut(o.value,b=>(S(),ye(v,{key:b.otu_id},{default:J(()=>[i.value?(S(),ye(Tg,{key:0,taxonomy:b},null,8,["taxonomy"])):Ee("",!0)]),_:2},1024))),128))])):Ee("",!0)]),_:1})])):Ee("",!0)}}},Tg=gt(pE,[["__scopeId","data-v-b79ba271"]]),fE={key:0,class:"p-5 font-normal"},mE={class:"pb-2 text-sm"},_E=["href"],gE={class:"relative"},yE=["innerHTML"],Es={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(e){const t=e,i=Ze(()=>o.getRequest(t.panelKey)),o=Zu(),c=ze(!1),s=Ze(()=>[...t.menuOptions,{label:"JSON Data",action:()=>c.value=!0}]);return(u,f)=>{const _=se("IconHamburger"),v=se("Dropdown"),b=se("VClipboard"),w=se("VModal");return S(),U(je,null,[q(v,{items:s.value},{button:J(()=>[q(_,{class:"text-base-soft h-4"})]),_:1},8,["items"]),c.value?(S(),ye(w,{key:0,onClose:f[0]||(f[0]=P=>c.value=!1)},{header:J(()=>f[1]||(f[1]=[N("h3",null,"JSON Data",-1)])),default:J(()=>[i.value?(S(),U("div",fE,[N("h3",mE,[f[2]||(f[2]=Ge(" URL: ")),N("a",{href:i.value.url},Be(i.value.url),9,_E)]),N("div",gE,[N("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(i.value.data,null,4)},null,8,yE),q(b,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(i.value.data,null,2)},null,8,["text"])])])):Ee("",!0)]),_:1})):Ee("",!0)],64)}}},vE={class:"tree ml-2"},bE={key:0},xE={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,i=ze(null),o=ze(!1),c=Ze(()=>i.value&&(i.value.nomenclatural_synonyms.length||i.value.descendants.length));return yn(()=>t.otuId,async()=>{t.otuId&&(o.value=!0,_r("panel:descendants",()=>Yn.getTaxonomy(t.otuId,{params:{max_descendants_depth:1}})).then(({data:s})=>{i.value=s}).finally(()=>o.value=!1))},{immediate:!0}),(s,u)=>{const f=se("VSpinner"),_=se("ClientOnly"),v=se("VCardHeader"),b=se("AnimationOpacity"),w=se("VCardContent"),P=se("VCard");return S(),ye(P,null,{default:J(()=>[q(_,null,{default:J(()=>[o.value?(S(),ye(f,{key:0,"logo-class":"w-8 h-8",legend:""})):Ee("",!0)]),_:1}),q(v,{class:"flex justify-between"},{default:J(()=>[u[0]||(u[0]=N("h2",{class:"text-md"},"Descendants and synonyms",-1)),q(Es,{"panel-key":"panel:descendants"})]),_:1}),q(w,{class:"text-sm"},{default:J(()=>[N("ul",vE,[q(b,null,{default:J(()=>[c.value?(S(),ye(Tg,{key:0,taxonomy:i.value},null,8,["taxonomy"])):Ee("",!0)]),_:1})]),!c.value&&!o.value?(S(),U("span",bE,"No records found.")):Ee("",!0)]),_:1})]),_:1})}}},wE=gt(xE,[["__scopeId","data-v-fd5dad5c"]]),LE={id:"panel:descendants",component:wE};var CE={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const kE=vr("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){var e;(e=this.controller)==null||e.abort()},async loadImages(e){const t=["image/tiff"],i={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.controller=new AbortController;try{const o=await _r("panel:images",()=>Yn.getOtuImages(e,{params:i,signal:this.controller.signal}));this.images=o.data.map(c=>{var _;const s={...c},{url:u,project_token:f}=CE;return t.includes(s.content_type)&&c.original_png&&(s.original=`${u}/${(_=c.original_png)==null?void 0:_.substring(8)}?project_token=${f}`),s}),this.controller=null}catch(o){o.name!==Va.CanceledError&&(this.controller=null)}}}}),EE={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,i=kE(),o=Ze(()=>i.images||[]);return ud(async()=>{await i.loadImages(t.otuId)}),cn(()=>{i.images||i.loadImages(t.otuId)}),Yi(()=>{i.resetRequest(),i.$reset()}),(c,s)=>{const u=se("GalleryImage"),f=se("VCardContent"),_=se("VCard");return o.value.length?(S(),ye(_,{key:0},{default:J(()=>[q(f,null,{default:J(()=>[q(u,{images:o.value},null,8,["images"])]),_:1})]),_:1})):Ee("",!0)}}},ME={id:"panel:gallery",component:EE,rankGroup:[]},SE={key:0},PE={__name:"PanelKeys",props:{otuId:{type:Object}},setup(e){const t=e,i=new AbortController,o=ze({to:{},in:{}}),c=Ze(()=>[].concat(...Object.values(o.value)).filter(s=>Object.keys(s).length).length);return cn(()=>{const s={otu_id:t.otuId};_r("panel keys",()=>Yn.getKeys(t.otuId,{signal:i.signal,params:s})).then(({data:u})=>{o.value={to:u.observation_matrices.scoped,in:u.observation_matrices.in}}).catch(()=>{})}),Yi(()=>{i==null||i.abort()}),(s,u)=>{const f=se("VCardHeader"),_=se("VTableHeaderCell"),v=se("VTableHeaderRow"),b=se("VTableHeader"),w=se("RouterLink"),P=se("VTableBodyCell"),O=se("VTableBodyRow"),R=se("VTableBody"),V=se("VTable"),oe=se("VCardContent"),te=se("VCard");return c.value?(S(),ye(te,{key:0},{default:J(()=>[q(f,null,{default:J(()=>[Ge("Keys ("+Be(c.value)+")",1)]),_:1}),q(oe,null,{default:J(()=>[(S(!0),U(je,null,ut(o.value,(ee,z)=>(S(),U(je,{key:z},[Object.keys(ee).length?(S(),U("div",SE,[q(V,null,{default:J(()=>[q(b,null,{default:J(()=>[q(v,null,{default:J(()=>[q(_,null,{default:J(()=>[Ge(Be(z),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),q(R,null,{default:J(()=>[(S(!0),U(je,null,ut(ee,(ne,pe)=>(S(),ye(O,null,{default:J(()=>[q(P,null,{default:J(()=>[q(w,{to:{name:"interactive-keys-id",params:{id:pe}},textContent:Be(ne)},null,8,["to","textContent"])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)])):Ee("",!0)],64))),128))]),_:1})]),_:1})):Ee("",!0)}}},BE={id:"panel:keys",component:PE},TE=vr("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){var e;(e=this.controller)==null||e.abort()},loadCachedMap(e){Yn.getCachedMap(e,{signal:this.controller.signal}).then(t=>{this.distribution.cachedMap=t.data})},async getAggregateShape(e){_r("panel:map",()=>Yn.getOtuDistribution(e,{signal:this.controller.signal})).then(({data:t})=>{const i=JSON.parse(t.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[yk(i,"Aggregate")]},this.loadCachedMap(t.cached_map.id)}).catch(t=>{t.name!=Va.CanceledError&&(this.distribution.errorMessage=t.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:e,rankString:t}){const i=t&&gk("SpeciesGroup",t);this.controller=new AbortController,i?_r("panel:map",()=>Yn.getOtuGeoJSONDistribution(e,{signal:this.controller.signal})).then(({data:o})=>{if(o.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=o.message;else{const{features:c,shapeTypes:s}=vk(o);this.distribution.currentShapeTypes=s,this.distribution.geojson={features:c}}}).catch(o=>{o.name!==Va.CanceledError&&this.getAggregateShape(e)}):this.getAggregateShape(e)}}});function Ag(e){return{html:`<div class="bg-map-collection-object"><span>${e.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive bg-map-collection-object bg-opacity-60 marker-cluster text-white",iconSize:[40,40]}}function Og(e){return{html:`
    <div class="relative flex w-[40px] h-[40px]">
      <div class="rounded-l-full bg-map-collection-object bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-l-full bg-map-collection-object ml-[5px] mt-[5px]"></div>
      </div>
      <div class="rounded-r-full bg-map-type-material bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-r-full bg-map-type-material mr-[5px] mt-[5px]"></div>
      </div>
      <span class="absolute text-xs top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white">
        ${e.getChildCount()}
      </span>
    </div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive",iconSize:[40,40]}}function AE(e){return{html:`<div class="bg-map-type-material"><span>${e.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive marker-cluster bg-map-type-material bg-opacity-60 text-white",iconSize:[40,40]}}const OE=Object.freeze(Object.defineProperty({__proto__:null,CollectionObject:Ag,Mixed:Og,TypeMaterial:AE},Symbol.toStringTag,{value:"Module"}));function RE({L:e,cluster:t}){const i=t.getAllChildMarkers().map(u=>u.feature.properties.base.map(f=>f.type)).flat(),o=[...new Set(i)],c=o.pop(),s=o.length?Og:OE[c]||Ag;return e.divIcon(s(t))}const Uh={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function DE({popupElement:e,popupItem:t}){return function(){return{onEachFeature:(i,o)=>{o.pm.setOptions(Uh),o.pm.disable(),o.on("popupopen",()=>t.value=i.properties),o.on("popupclose",()=>t.value=null),o.bindPopup(e.value,{minWidth:400,maxWidth:400})}}}}function Rg({popupElement:e}){const t=ze(null);return{geojsonOptions:Ze(()=>DE({popupElement:e,popupItem:t})),popupItem:t}}const IE={class:"max-h-32 overflow-y-auto text-xs min-w-80"},FE={class:"py-2 last:border-0 truncate border-b",title:"label"},jE=["textContent","onClick"],NE={key:1},Dg={__name:"MapPopup",props:{items:{type:Array,required:!0}},emits:["selected"],setup(e,{emit:t}){const i=t;return(o,c)=>(S(),U("div",IE,[N("ul",null,[(S(!0),U(je,null,ut(e.items,s=>(S(),U("li",FE,[s.type===Ie(T_)?(S(),U("span",{key:0,class:"cursor-pointer text-secondary-color",textContent:Be(s.label),onClick:()=>i("selected",s)},null,8,jE)):(S(),U("span",NE,Be(s.label),1))]))),256))])]))}},zE={class:"p-4 pt-0"},VE={key:0,class:"text-success flex text-sm items-center"},GE={key:1,class:"text-warning flex text-sm items-center"},$E={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(e){const t=ze(!1);return(i,o)=>{const c=se("IconCheck"),s=se("IconWarning"),u=se("VButton"),f=se("VTableHeaderCell"),_=se("VTableHeaderRow"),v=se("VTableHeader"),b=se("VTableBodyCell"),w=se("VTableBodyRow"),P=se("VTableBody"),O=se("VTable"),R=se("VModal");return S(),U(je,null,[q(u,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Cached map",onClick:o[0]||(o[0]=V=>t.value=!0)},{default:J(()=>[e.cachedMap.synced?(S(),ye(c,{key:0,class:"w-4 h-4"})):(S(),ye(s,{key:1,class:"w-4 h-4"}))]),_:1}),t.value?(S(),ye(R,{key:0,onClose:o[1]||(o[1]=()=>t.value=!1)},{header:J(()=>o[2]||(o[2]=[N("h3",{class:"font-medium"},"Cached map",-1)])),default:J(()=>[N("div",zE,[q(O,null,{default:J(()=>[q(v,null,{default:J(()=>[q(_,null,{default:J(()=>[q(f,null,{default:J(()=>o[3]||(o[3]=[Ge("Data")])),_:1}),q(f)]),_:1})]),_:1}),q(P,null,{default:J(()=>[q(w,null,{default:J(()=>[q(b,null,{default:J(()=>o[4]||(o[4]=[Ge(" Is synced ")])),_:1}),q(b,null,{default:J(()=>[e.cachedMap.synced?(S(),U("p",VE,[q(c,{class:"w-4 h-4"}),o[5]||(o[5]=N("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1))])):(S(),U("p",GE,[q(s,{class:"w-4 h-4"}),o[6]||(o[6]=N("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1))]))]),_:1})]),_:1}),q(w,null,{default:J(()=>[q(b,null,{default:J(()=>o[7]||(o[7]=[Ge(" Last update ")])),_:1}),q(b,null,{default:J(()=>[Ge(Be(new Date(e.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),q(v,null,{default:J(()=>[q(_,null,{default:J(()=>[q(f,null,{default:J(()=>o[8]||(o[8]=[Ge("Source")])),_:1}),q(f,null,{default:J(()=>o[9]||(o[9]=[Ge("Total")])),_:1})]),_:1})]),_:1}),q(P,null,{default:J(()=>[(S(!0),U(je,null,ut(e.cachedMap.source_scope,(V,oe)=>(S(),ye(w,{key:oe},{default:J(()=>[q(b,{class:"capitalize"},{default:J(()=>[Ge(Be(oe.replaceAll("_"," ")),1)]),_:2},1024),q(b,null,{default:J(()=>[Ge(Be(V),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o[10]||(o[10]=N("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1))])]),_:1})):Ee("",!0)],64)}}},UE={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},HE=["innerHTML"],ZE={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const i=t;return(o,c)=>{const s=se("IconClose");return S(),U("div",UE,[N("div",null,[N("span",{class:"ml-2",innerHTML:e.label},null,8,HE)]),q(s,{class:"cursor-pointer",onClick:c[0]||(c[0]=()=>i("close"))})])}}},qE={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},KE={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(e,{emit:t}){const i=t;return(o,c)=>{const s=se("IconArrowRight"),u=se("VTableHeaderCell"),f=se("VTableHeaderRow"),_=se("VTableHeader"),v=se("RouterLink"),b=se("VTableBodyCell"),w=se("VTableBodyRow"),P=se("VTableBody"),O=se("VTable");return e.list.length?(S(),ye(O,{key:0,class:"shadow-md"},{default:J(()=>[q(_,null,{default:J(()=>[q(f,null,{default:J(()=>[q(u,{class:"w-full flex justify-between box-border items-center"},{default:J(()=>[N("span",null,"OTU ("+Be(e.list.length)+")",1),q(s,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:c[0]||(c[0]=R=>i("close:table"))})]),_:1})]),_:1})]),_:1}),q(P,null,{default:J(()=>[(S(!0),U(je,null,ut(e.list,R=>(S(),ye(w,{key:R.id},{default:J(()=>[q(b,null,{default:J(()=>[q(v,{innerHTML:R.object_tag,to:{name:"otus-id",params:{id:R.id}},onClick:c[1]||(c[1]=()=>i("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(S(),U("div",qE," No OTUs found in this area "))}}},WE={class:"font-medium"},Ig={__name:"DwcTable",setup(e,{expose:t}){const i=ze(!1),o=ze(!1),c=ze({}),s=ze();function u({label:f,id:_}){o.value=!0,i.value=!0,c.value={},s.value=f,an(`/collection_objects/${_}/dwc`).then(({data:v})=>{c.value=v}).catch(()=>{}).finally(()=>{i.value=!1})}return t({show:u}),(f,_)=>{const v=se("VTableHeaderCell"),b=se("VTableHeaderRow"),w=se("VTableHeader"),P=se("VTableBodyCell"),O=se("VTableBodyRow"),R=se("VTableBody"),V=se("VTable"),oe=se("VSpinner"),te=se("VModal");return o.value?(S(),ye(te,{key:0,onClose:_[0]||(_[0]=()=>o.value=!1)},{header:J(()=>[N("h3",WE,Be(s.value),1)]),default:J(()=>[q(V,{class:"p-4 pt-0"},{default:J(()=>[q(w,null,{default:J(()=>[q(b,null,{default:J(()=>[q(v,null,{default:J(()=>_[1]||(_[1]=[Ge("Field")])),_:1}),q(v,null,{default:J(()=>_[2]||(_[2]=[Ge("Value")])),_:1})]),_:1})]),_:1}),q(R,null,{default:J(()=>[(S(!0),U(je,null,ut(c.value,(ee,z)=>(S(),ye(O,{key:z},{default:J(()=>[q(P,null,{default:J(()=>[Ge(Be(z),1)]),_:2},1024),q(P,null,{default:J(()=>[Ge(Be(ee),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),i.value?(S(),ye(oe,{key:0})):Ee("",!0)]),_:1})):Ee("",!0)}}},JE={class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},YE={__name:"OtuSearch",props:{shapes:{type:Object,default:()=>[]},otu:{type:Object,default:void 0}},emits:["close"],setup(e,{emit:t}){const i=e,o=t,c=ze(null),s=ze(null),u=ze(null),f=ze([]),_=ze(!1),v=ze(),b=ze(6),w=ze(6),{popupItem:P,geojsonOptions:O}=Rg({popupElement:c}),R=Ze(()=>!!i.shapes&&w.value<=b.value);cn(()=>{document.addEventListener("keyup",V),document.body.classList.add("overflow-hidden")}),yr(()=>{document.removeEventListener("keyup",V),document.body.classList.remove("overflow-hidden")});const V=({key:ne})=>{switch(ne){case"Escape":o("close");break}};function oe(ne){const pe={geo_json:ne,taxon_name_id:[i.otu.taxon_name_id],descendants:!0,per:5e3};v.value=!0,Yn.getOtus(pe).then(({data:Se})=>{f.value=Se,_.value=!0}).finally(Se=>{v.value=!1})}function te(ne){ee(),R.value&&u.value.resizeMap()}function ee(){w.value=u.value.getMapObject().getZoom()}function z(){b.value=u.value.getMapObject().getZoom(),ee()}return(ne,pe)=>{const Se=se("VSpinner"),Ne=se("VMap");return S(),U("div",JE,[v.value?(S(),ye(Se,{key:0})):Ee("",!0),q(ZE,{label:e.otu.object_tag,onClose:pe[0]||(pe[0]=()=>o("close"))},null,8,["label"]),N("div",{class:tn(["w-full","h-full","relative",{"disable-zoom-out":R.value}])},[q(Ne,{ref_key:"mapRef",ref:u,class:"w-full h-full",controls:"",dragging:!R.value,"zoom-bounds":b.value,geojson:e.shapes,geojsonOptions:Ie(O),"onGeojson:ready":z,"onAdd:layer":pe[1]||(pe[1]=Le=>oe(JSON.stringify(Le.geometry))),"onEdit:layer":pe[2]||(pe[2]=Le=>oe(JSON.stringify(Le.geometry))),"onDrag:layer":pe[3]||(pe[3]=Le=>oe(JSON.stringify(Le.geometry))),"onZoom:change":te,zoom:4},null,8,["dragging","zoom-bounds","geojson","geojsonOptions"]),N("div",{ref_key:"popupElement",ref:c},[Ie(P)?(S(),ye(Dg,{key:0,items:Ie(P).base,onSelected:s.value.show},null,8,["items","onSelected"])):Ee("",!0)],512),N("div",{class:tn(["h-full","md:w-96","absolute","top-0","bg-base-background","z-[2000]","overflow-auto","ease-in-out","duration-300","w-full",{"md:-right-96 -right-full":!_.value,"right-0":_.value}])},[_.value?(S(),ye(KE,{key:0,list:f.value,onClose:pe[4]||(pe[4]=()=>o("close")),"onClose:table":pe[5]||(pe[5]=()=>_.value=!1)},null,8,["list"])):Ee("",!0)],2)],2),q(Ig,{ref_key:"dwcTableRef",ref:s},null,512)])}}},XE=gt(YE,[["__scopeId","data-v-a99dffa5"]]),QE={class:"relative"},eM={key:0,class:"flex flex-row p-2 text-xs italic"},tM={key:1,class:"flex flex-row p-2 gap-2 text-xs"},nM=2,iM={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0},cluster:{type:Boolean,default:!0}},setup(e){const t=e,i=ze(!0),o=ze(!1),c=ze(null),s=TE(),u=ze(null),{popupItem:f,geojsonOptions:_}=Rg({popupElement:u}),v={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return cn(()=>{i.value=!0,s.loadDistribution({otuId:t.otuId,rankString:t.taxon.rank_string})}),Yi(()=>{s.resetRequest(),s.$reset()}),(b,w)=>{const P=se("VSpinner"),O=se("VMap"),R=se("VButton"),V=se("ClientOnly"),oe=se("VCard");return S(),ye(oe,null,{default:J(()=>[N("div",QE,[q(V,null,{default:J(()=>[i.value?(S(),ye(P,{key:0})):Ee("",!0),q(O,{class:"h-96 max-h-96",dragging:"",cluster:e.cluster,zoom:nM,"zoom-bounds":8,geojson:Ie(s).distribution.geojson,"cluster-icon-create-function":Ie(RE),"geojson-options":Ie(_),"onGeojson:ready":w[0]||(w[0]=()=>i.value=!1)},null,8,["cluster","geojson","cluster-icon-create-function","geojson-options"]),N("div",{ref_key:"popupElement",ref:u},[Ie(f)?(S(),ye(Dg,{key:0,items:Ie(f).base,onSelected:c.value.show},null,8,["items","onSelected"])):Ee("",!0)],512),q(R,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:w[1]||(w[1]=()=>o.value=!0)},{default:J(()=>w[3]||(w[3]=[Ge(" Search ")])),_:1}),o.value?(S(),ye(XE,{key:1,otu:e.otu,shapes:Ie(s).distribution.geojson,onClose:w[2]||(w[2]=()=>o.value=!1)},null,8,["otu","shapes"])):Ee("",!0),Ie(s).distribution.cachedMap?(S(),ye($E,{key:2,"cached-map":Ie(s).distribution.cachedMap},null,8,["cached-map"])):Ee("",!0)]),_:1})]),Ie(s).distribution.errorMessage?(S(),U("div",eM," * "+Be(Ie(s).distribution.errorMessage),1)):Ee("",!0),Ie(s).distribution.currentShapeTypes.length?(S(),U("div",tM,[(S(!0),U(je,null,ut(Ie(s).distribution.currentShapeTypes,te=>(S(),U("div",{key:te,class:"flex flex-row items-center"},[N("div",{class:tn(["w-3","h-3","m-1","rounded-sm",v[te].background])},null,2),N("span",null,Be(v[te].label),1)]))),128))])):Ee("",!0),q(Ig,{ref_key:"dwcTableRef",ref:c},null,512)]),_:1})}}},rM={id:"panel:map",component:iM};function Fg(e,t){const i=e.slice(),o=i.splice(0,t),c=i.splice(-t);return{first:o,middle:i,last:c}}const oM={class:"border-b border-base-muted p-3 px-5"},sM=["title","innerHTML"],aM=["innerHTML"],dh={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(e){return(t,i)=>(S(),U("li",oM,[N("span",{class:"break-all block",title:e.citation.label,innerHTML:e.citation.label},null,8,sM),e.citation.type_label?(S(),U("p",{key:0,class:"ml-4 text-base-soft",innerHTML:e.citation.type_label},null,8,aM)):Ee("",!0)]))}},lM={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},jg={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(e){return(t,i)=>{const o=se("IconPlusCircle");return S(),U("li",lM,[N("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:i[0]||(i[0]=()=>t.isExpanded=!t.isExpanded)},[q(o,{class:"h-5 w-5"})]),N("span",null,"... Show all ... ("+Be(e.count)+")",1)])}}},uM={class:"text-md"},cM={class:"text-sm"},hM={class:"text-sm"},dM={class:"text-sm"},pM=2,fM={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(e){const t=Bo(),i=ze(!1),o=Ze(()=>Fg(t.catalog.timeline,pM)),c=Ze(()=>[{label:i.value?"Show less":"Show all",action:()=>i.value=!i.value}]);return(s,u)=>{const f=se("VSpinner"),_=se("VCardHeader"),v=se("AnimationOpacity"),b=se("VCard");return S(),ye(b,null,{default:J(()=>[Ie(t).catalog.isLoading?(S(),ye(f,{key:0,"logo-class":"w-8 h-8",legend:""})):Ee("",!0),q(_,{class:"flex justify-between"},{default:J(()=>[N("h2",uM," Nomenclature ("+Be(Ie(t).catalog.timeline.length)+") ",1),q(Es,{"menu-options":c.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),N("ul",cM,[(S(!0),U(je,null,ut(o.value.first,w=>(S(),ye(dh,{key:w.label,citation:w},null,8,["citation"]))),128)),!i.value&&o.value.middle.length?(S(),ye(jg,{key:0,count:o.value.middle.length,onClick:u[0]||(u[0]=w=>i.value=!0)},null,8,["count"])):Ee("",!0)]),q(v,null,{default:J(()=>[Rn(N("ul",hM,[(S(!0),U(je,null,ut(o.value.middle,w=>(S(),ye(dh,{key:w.label,citation:w},null,8,["citation"]))),128))],512),[[Du,i.value]])]),_:1}),N("ul",dM,[(S(!0),U(je,null,ut(o.value.last,w=>(S(),ye(dh,{key:w.label,citation:w},null,8,["citation"]))),128))])]),_:1})}}},mM={id:"panel:nomenclature",component:fM},_M={class:"border-b border-base-muted p-3 px-5"},gM=["title","innerHTML"],ph={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(e){return(t,i)=>(S(),U("li",_M,[N("span",{class:"[&>a]:break-all block",title:e.reference,innerHTML:e.reference},null,8,gM)]))}},yM={class:"text-md"},vM={class:"text-sm"},bM=2,xM={__name:"PanelNomenclatureReferences",setup(e){const t=Bo(),i=ze(!1),o=Ze(()=>Fg(t.catalog.sources,bM)),c=Ze(()=>[{label:i.value?"Show less":"Show all",action:()=>i.value=!i.value}]);return(s,u)=>{const f=se("VSpinner"),_=se("VCardHeader"),v=se("AnimationOpacity"),b=se("VCard");return S(),ye(b,null,{default:J(()=>[Ie(t).catalog.isLoading?(S(),ye(f,{key:0,"logo-class":"w-8 h-8",legend:""})):Ee("",!0),q(_,{class:"flex justify-between"},{default:J(()=>[N("h2",yM," Nomenclature references ("+Be(Ie(t).catalog.sources.length)+") ",1),q(Es,{"menu-options":c.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),N("ul",vM,[(S(!0),U(je,null,ut(o.value.first,w=>(S(),ye(ph,{key:w,reference:w},null,8,["reference"]))),128)),!i.value&&o.value.middle.length?(S(),ye(jg,{key:0,count:o.value.middle.length,onClick:u[0]||(u[0]=w=>i.value=!0)},null,8,["count"])):Ee("",!0),q(v,null,{default:J(()=>[Rn(N("div",null,[(S(!0),U(je,null,ut(o.value.middle,w=>(S(),ye(ph,{key:w,reference:w},null,8,["reference"]))),128))],512),[[Du,i.value]])]),_:1}),(S(!0),U(je,null,ut(o.value.last,w=>(S(),ye(ph,{key:w,reference:w},null,8,["reference"]))),128))])]),_:1})}}},wM={id:"panel:nomenclature-references",component:xM},LM={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(e){const t=Bo(),i=ze(!1),o=Ze(()=>[{label:i.value?"Hide taxa":"Show taxa",action:()=>i.value=!i.value}]);return(c,s)=>{const u=se("VSpinner"),f=se("VCardHeader"),_=se("VTableHeaderCell"),v=se("VTableHeaderRow"),b=se("VTableHeader"),w=se("VTableBodyCell"),P=se("VTableBodyRow"),O=se("VTableBody"),R=se("VTable"),V=se("VCardContent"),oe=se("VCard");return S(),ye(oe,null,{default:J(()=>[Ie(t).catalog.isLoading?(S(),ye(u,{key:0,"logo-class":"w-8 h-8",legend:""})):Ee("",!0),q(f,{class:"flex justify-between"},{default:J(()=>[s[0]||(s[0]=N("h2",{class:"text-md"},"Stats",-1)),q(Es,{"panel-key":"taxonomy","menu-options":o.value},null,8,["menu-options"])]),_:1}),q(V,{class:"text-sm"},{default:J(()=>[q(R,null,{default:J(()=>[q(b,null,{default:J(()=>[q(v,null,{default:J(()=>[q(_,{class:"bg-base-foreground"}),i.value?(S(),ye(_,{key:0,title:"OTUs linked to valid protonyms"},{default:J(()=>s[1]||(s[1]=[Ge(" Taxa ")])),_:1})):Ee("",!0),q(_,{title:"Taxon names",class:"border-l border-base-border"},{default:J(()=>s[2]||(s[2]=[Ge(" Names ")])),_:1}),q(_,{colspan:"2",class:"bg-base-foreground"})]),_:1}),q(v,null,{default:J(()=>[q(_,null,{default:J(()=>s[3]||(s[3]=[Ge("Rank")])),_:1}),i.value?(S(),ye(_,{key:0,title:"OTUs linked to valid protonyms"},{default:J(()=>s[4]||(s[4]=[Ge("Total")])),_:1})):Ee("",!0),q(_,{title:"Taxon names",class:"border-l border-base-border"},{default:J(()=>s[5]||(s[5]=[Ge(" Total ")])),_:1}),q(_,null,{default:J(()=>s[6]||(s[6]=[Ge(" Valid ")])),_:1}),q(_,null,{default:J(()=>s[7]||(s[7]=[Ge(" Invalid ")])),_:1})]),_:1})]),_:1}),q(O,null,{default:J(()=>[(S(!0),U(je,null,ut(Ie(t).catalog.stats,({rank:te,taxa:ee,names:z})=>(S(),ye(P,{key:te},{default:J(()=>[q(w,{class:"capitalize"},{default:J(()=>[Ge(Be(te),1)]),_:2},1024),i.value?(S(),ye(w,{key:0},{default:J(()=>[Ge(Be(ee),1)]),_:2},1024)):Ee("",!0),q(w,{class:"border-l border-base-border"},{default:J(()=>[Ge(Be(z.invalid+z.valid),1)]),_:2},1024),q(w,null,{default:J(()=>[Ge(Be(z.valid),1)]),_:2},1024),q(w,null,{default:J(()=>[Ge(Be(z.invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},CM={id:"panel:statistics",component:LM},kM=["innerHTML"],EM={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(e){const t=Bo(),i=Ze(()=>{var c;return((c=t.taxon)==null?void 0:c.type_taxon_name_relationship)||{}}),o=Ze(()=>[i.value.subject_object_tag||"",i.value.subject_status_tag||"",i.value.object_object_tag||""].join(" "));return(c,s)=>{const u=se("VCardHeader"),f=se("VCardContent"),_=se("VCard");return S(),ye(_,null,{default:J(()=>[q(u,{class:"flex justify-between"},{default:J(()=>[s[0]||(s[0]=N("h2",{class:"text-md"},"Type",-1)),q(Es,{"panel-key":"panel:type"})]),_:1}),q(f,{class:"text-sm"},{default:J(()=>[N("p",{innerHTML:o.value},null,8,kM)]),_:1})]),_:1})}}},MM={id:"panel:type",component:EM,rankGroup:[AL,OL]},SM={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(e){const t=e,i=ze([]);return yn(()=>t.otuId,()=>{t.otuId&&_r("panel:typeMaterial",()=>Yn.getOtuTypeMaterial(t.otuId)).then(({data:o})=>{i.value=o.type_materials_catalog_labels.sort((c,s)=>mf.indexOf(c.type_type)-mf.indexOf(s.type_type))})},{immediate:!0}),(o,c)=>{const s=se("VCardHeader"),u=se("VCardContent"),f=se("VCard");return i.value.length?(S(),ye(f,{key:0},{default:J(()=>[q(s,{class:"flex justify-between"},{default:J(()=>[c[0]||(c[0]=N("h2",{class:"text-md"},"Type specimen",-1)),q(Es,{"panel-key":"panel:typeMaterial"})]),_:1}),q(u,{class:"text-sm"},{default:J(()=>[N("p",null,Be(i.value[0].label),1)]),_:1})]),_:1})):Ee("",!0)}}},PM={id:"panel:type-specimen",component:SM,rankGroup:[RL,DL]},BM={overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:content","panel:keys","panel:statistics"]]]}};var TM={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const AM=Object.values(Object.assign({"/panels/PanelGBIF/main.js":r3,"/panels/PanelScrutiny/main.js":l3,"/panels/PanelSpecimenRecords/main.js":x3,"/panels/PanelXenocanto/main.js":X3,"/panels/PaneliNaturalist/main.js":rE,"/src/modules/otus/components/Panel/PanelContent/main.js":lE,"/src/modules/otus/components/Panel/PanelDescendants/main.js":LE,"/src/modules/otus/components/Panel/PanelGallery/main.js":ME,"/src/modules/otus/components/Panel/PanelKeys/main.js":BE,"/src/modules/otus/components/Panel/PanelMap/main.js":rM,"/src/modules/otus/components/Panel/PanelNomenclature/main.js":mM,"/src/modules/otus/components/Panel/PanelNomenclatureReferences/main.js":wM,"/src/modules/otus/components/Panel/PanelStats/main.js":CM,"/src/modules/otus/components/Panel/PanelTypeDesignation/main.js":MM,"/src/modules/otus/components/Panel/PanelTypeSpecimen/main.js":PM})),{taxa_page:OM}=TM,Tf=Object.assign({...BM,...OM});function RM(e){return e.map(t=>t.map(i=>i.map(o=>{const s=typeof o=="string"?{id:o}:{...o};return{...AM.find(f=>f.id===s.id),...s}})))}const Sa={};for(const e in Tf){const t=Tf[e];Sa[e]={panels:RM((t==null?void 0:t.panels)||{}),rankGroup:t.rank_group||[],label:t.label}}const DM={class:"grid gap-3"},IM={__name:"PageLayout",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(e){var s;const t=e,i=Ja(),o=Sa[i.currentRoute.value.meta.tab],c={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};return(s=o.rankGroup)!=null&&s.length&&!$h(o.rankGroup,t.taxonRank)&&i.replace({name:"otus-id-overview"}),(u,f)=>(S(),U("div",DM,[(S(!0),U(je,null,ut(Ie(o).panels,_=>(S(),U("div",{class:tn(["grid","grid-cols-1","gap-3",c[_.length]])},[(S(!0),U(je,null,ut(_,(v,b)=>(S(),U("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:b},[(S(!0),U(je,null,ut(v,({component:w,rankGroup:P,id:O,bind:R})=>(S(),U(je,{key:O},[!P||Ie($h)(P,e.taxonRank)?(S(),ye(So(w),Qm({key:0,"otu-id":e.otuId,otu:e.otu,"taxon-id":e.taxonId,taxon:e.taxon,"panel-key":O,ref_for:!0},R),null,16,["otu-id","otu","taxon-id","taxon","panel-key"])):Ee("",!0)],64))),128))]))),128))],2))),256))]))}};function FM(){return Object.keys(Sa||{}).map(t=>({path:t,name:`otus-id-${t}`,component:IM,meta:{tab:t,rankGroup:Sa[t].rankGroup,label:Sa[t].label}}))}const jM=[{name:"otus-id",path:"/otus/:id",component:Yk,redirect:{name:"otus-id-overview"},children:FM()}],NM="modulepreload",zM=function(e){return"/orthoptera/"+e},Af={},Pn=function(t,i,o){let c=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));c=Promise.allSettled(i.map(_=>{if(_=zM(_),_ in Af)return;Af[_]=!0;const v=_.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${b}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":NM,v||(w.as="script"),w.crossOrigin="",w.href=_,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((P,O)=>{w.addEventListener("load",P),w.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${_}`)))})}))}function s(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return c.then(u=>{for(const f of u||[])f.status==="rejected"&&s(f.reason);return t().catch(s)})},VM=()=>Pn(()=>import("./DataType-D-PW4D0w.js"),[]),GM=()=>Pn(()=>import("./SectionTerms-u0Wxv2Sm.js"),[]),$M=()=>Pn(()=>import("./SectionLandscape-CMlL50xm.js"),__vite__mapDeps([0,1])),UM=()=>Pn(()=>import("./SectionDescription-TRmKBtUe.js"),[]),HM=()=>Pn(()=>import("./SectionData-D88IPD4q.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10])),ZM=()=>Pn(()=>import("./SectionAuthor-BZHnL1oq.js"),[]),qM=()=>Pn(()=>import("./SectionAnnouncements-B5whUH8Y.js"),[]),KM=()=>Pn(()=>import("./iconCitation-BOsA9aWZ.js"),[]),WM=()=>Pn(()=>import("./IconReference-DfIuSU0Z.js"),[]),JM=()=>Pn(()=>import("./IconOk-CUcTnBmW.js"),[]),YM=()=>Pn(()=>import("./IconMicroscope-CTq-RJ_0.js"),[]),XM=()=>Pn(()=>import("./IconImage-Djg6lQ7k.js"),[]),QM=()=>Pn(()=>import("./IconBug-B2vTg28j.js"),[]),eS=()=>Pn(()=>import("./IconAudio-C4REGgrg.js"),[]),tS=()=>Pn(()=>import("./recent-CM6cYiKy.js"),[]),nS=()=>Pn(()=>import("./home-Bguyr8kd.js"),__vite__mapDeps([11,12,2,3,4,5,6,7,8,9,10,0,1,13,14,15])),iS=()=>Pn(()=>import("./help-Hgeot05o.js"),[]),rS=()=>Pn(()=>import("./grants-aHsOcb8W.js"),[]),oS=()=>Pn(()=>import("./about-D2yiZ9BP.js"),[]),sS=[{name:"components-Section-Data-DataType",path:"/components/section/data/datatype",component:VM,props:!0},{name:"components-Section-SectionTerms",path:"/components/section/sectionterms",component:GM,props:!0},{name:"components-Section-SectionLandscape",path:"/components/section/sectionlandscape",component:$M,props:!0},{name:"components-Section-SectionDescription",path:"/components/section/sectiondescription",component:UM,props:!0},{name:"components-Section-SectionData",path:"/components/section/sectiondata",component:HM,props:!0},{name:"components-Section-SectionAuthor",path:"/components/section/sectionauthor",component:ZM,props:!0},{name:"components-Section-SectionAnnouncements",path:"/components/section/sectionannouncements",component:qM,props:!0},{name:"components-Icon-iconCitation",path:"/components/icon/iconcitation",component:KM,props:!0},{name:"components-Icon-IconReference",path:"/components/icon/iconreference",component:WM,props:!0},{name:"components-Icon-IconOk",path:"/components/icon/iconok",component:JM,props:!0},{name:"components-Icon-IconMicroscope",path:"/components/icon/iconmicroscope",component:YM,props:!0},{name:"components-Icon-IconImage",path:"/components/icon/iconimage",component:XM,props:!0},{name:"components-Icon-IconBug",path:"/components/icon/iconbug",component:QM,props:!0},{name:"components-Icon-IconAudio",path:"/components/icon/iconaudio",component:eS,props:!0},{name:"recent",path:"/recent",component:tS,props:!0},{name:"home",path:"/",component:nS,props:!0,alias:"/home"},{name:"help",path:"/help",component:iS,props:!0},{name:"grants",path:"/grants",component:rS,props:!0},{name:"about",path:"/about",component:oS,props:!0}];var aS={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const lS=Object.assign({"/src/modules/home/router/index.js":q1,"/src/modules/httpErrorPages/router/index.js":n4,"/src/modules/interactiveKeys/router/index.js":TL,"/src/modules/otus/router/index.js":jM}),uS=Object.assign({}),{base_url:Of,hash_mode:cS}=aS,hS=[].concat(...Object.values(lS),...Object.values(uS)),dS=[...sS,...hS];function pS(){return cS?Gb(Of):x_(Of)}function fS(){return d1({history:pS(),routes:dS,scrollBehavior(e,t,i){return e.hash?{el:e.hash}:{top:0}}})}var mS={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};function _S({originUrl:e}){const{url:t,project_token:i}=mS,c=$v(t&&i?j1:G1),s=fS(),u=S_();return c.use(s),c.use(u),{app:c,router:s,store:u}}var gS={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const{map_tile_server:yS,map_tile_attribution:vS,map_tiles:bS}=gS;function xS(e,t){return Object.fromEntries((bS||[{label:"tile",server:yS,attribution:vS}]).map(({server:o,attribution:c,label:s})=>[s,e.tileLayer(o,{...t,attribution:c})]))}var hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(hs,function(i){var o="1.9.4";function c(n){var l,p,y,C;for(p=1,y=arguments.length;p<y;p++){C=arguments[p];for(l in C)n[l]=C[l]}return n}var s=Object.create||function(){function n(){}return function(l){return n.prototype=l,new n}}();function u(n,l){var p=Array.prototype.slice;if(n.bind)return n.bind.apply(n,p.call(arguments,1));var y=p.call(arguments,2);return function(){return n.apply(l,y.length?y.concat(p.call(arguments)):arguments)}}var f=0;function _(n){return"_leaflet_id"in n||(n._leaflet_id=++f),n._leaflet_id}function v(n,l,p){var y,C,T,W;return W=function(){y=!1,C&&(T.apply(p,C),C=!1)},T=function(){y?C=arguments:(n.apply(p,arguments),setTimeout(W,l),y=!0)},T}function b(n,l,p){var y=l[1],C=l[0],T=y-C;return n===y&&p?n:((n-C)%T+T)%T+C}function w(){return!1}function P(n,l){if(l===!1)return n;var p=Math.pow(10,l===void 0?6:l);return Math.round(n*p)/p}function O(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function R(n){return O(n).split(/\s+/)}function V(n,l){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?s(n.options):{});for(var p in l)n.options[p]=l[p];return n.options}function oe(n,l,p){var y=[];for(var C in n)y.push(encodeURIComponent(p?C.toUpperCase():C)+"="+encodeURIComponent(n[C]));return(!l||l.indexOf("?")===-1?"?":"&")+y.join("&")}var te=/\{ *([\w_ -]+) *\}/g;function ee(n,l){return n.replace(te,function(p,y){var C=l[y];if(C===void 0)throw new Error("No value provided for variable "+p);return typeof C=="function"&&(C=C(l)),C})}var z=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function ne(n,l){for(var p=0;p<n.length;p++)if(n[p]===l)return p;return-1}var pe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Se(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var Ne=0;function Le(n){var l=+new Date,p=Math.max(0,16-(l-Ne));return Ne=l+p,window.setTimeout(n,p)}var Ce=window.requestAnimationFrame||Se("RequestAnimationFrame")||Le,Fe=window.cancelAnimationFrame||Se("CancelAnimationFrame")||Se("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function We(n,l,p){if(p&&Ce===Le)n.call(l);else return Ce.call(window,u(n,l))}function Re(n){n&&Fe.call(window,n)}var at={__proto__:null,extend:c,create:s,bind:u,get lastId(){return f},stamp:_,throttle:v,wrapNum:b,falseFn:w,formatNum:P,trim:O,splitWords:R,setOptions:V,getParamString:oe,template:ee,isArray:z,indexOf:ne,emptyImageUrl:pe,requestFn:Ce,cancelFn:Fe,requestAnimFrame:We,cancelAnimFrame:Re};function Ct(){}Ct.extend=function(n){var l=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=l.__super__=this.prototype,y=s(p);y.constructor=l,l.prototype=y;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(l[C]=this[C]);return n.statics&&c(l,n.statics),n.includes&&($t(n.includes),c.apply(null,[y].concat(n.includes))),c(y,n),delete y.statics,delete y.includes,y.options&&(y.options=p.options?s(p.options):{},c(y.options,n.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,W=y._initHooks.length;T<W;T++)y._initHooks[T].call(this)}},l},Ct.include=function(n){var l=this.prototype.options;return c(this.prototype,n),n.options&&(this.prototype.options=l,this.mergeOptions(n.options)),this},Ct.mergeOptions=function(n){return c(this.prototype.options,n),this},Ct.addInitHook=function(n){var l=Array.prototype.slice.call(arguments,1),p=typeof n=="function"?n:function(){this[n].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function $t(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=z(n)?n:[n];for(var l=0;l<n.length;l++)n[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var qe={on:function(n,l,p){if(typeof n=="object")for(var y in n)this._on(y,n[y],l);else{n=R(n);for(var C=0,T=n.length;C<T;C++)this._on(n[C],l,p)}return this},off:function(n,l,p){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var y in n)this._off(y,n[y],l);else{n=R(n);for(var C=arguments.length===1,T=0,W=n.length;T<W;T++)C?this._off(n[T]):this._off(n[T],l,p)}return this},_on:function(n,l,p,y){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(n,l,p)===!1){p===this&&(p=void 0);var C={fn:l,ctx:p};y&&(C.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(C)}},_off:function(n,l,p){var y,C,T;if(this._events&&(y=this._events[n],!!y)){if(arguments.length===1){if(this._firingCount)for(C=0,T=y.length;C<T;C++)y[C].fn=w;delete this._events[n];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var W=this._listens(n,l,p);if(W!==!1){var he=y[W];this._firingCount&&(he.fn=w,this._events[n]=y=y.slice()),y.splice(W,1)}}},fire:function(n,l,p){if(!this.listens(n,p))return this;var y=c({},l,{type:n,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var C=this._events[n];if(C){this._firingCount=this._firingCount+1||1;for(var T=0,W=C.length;T<W;T++){var he=C[T],ge=he.fn;he.once&&this.off(n,ge,he.ctx),ge.call(he.ctx||this,y)}this._firingCount--}}return p&&this._propagateEvent(y),this},listens:function(n,l,p,y){typeof n!="string"&&console.warn('"string" type argument expected');var C=l;typeof l!="function"&&(y=!!l,C=void 0,p=void 0);var T=this._events&&this._events[n];if(T&&T.length&&this._listens(n,C,p)!==!1)return!0;if(y){for(var W in this._eventParents)if(this._eventParents[W].listens(n,l,p,y))return!0}return!1},_listens:function(n,l,p){if(!this._events)return!1;var y=this._events[n]||[];if(!l)return!!y.length;p===this&&(p=void 0);for(var C=0,T=y.length;C<T;C++)if(y[C].fn===l&&y[C].ctx===p)return C;return!1},once:function(n,l,p){if(typeof n=="object")for(var y in n)this._on(y,n[y],l,!0);else{n=R(n);for(var C=0,T=n.length;C<T;C++)this._on(n[C],l,p,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[_(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[_(n)],this},_propagateEvent:function(n){for(var l in this._eventParents)this._eventParents[l].fire(n.type,c({layer:n.target,propagatedFrom:n.target},n),!0)}};qe.addEventListener=qe.on,qe.removeEventListener=qe.clearAllEventListeners=qe.off,qe.addOneTimeEventListener=qe.once,qe.fireEvent=qe.fire,qe.hasEventListeners=qe.listens;var it=Ct.extend(qe);function Pe(n,l,p){this.x=p?Math.round(n):n,this.y=p?Math.round(l):l}var Qt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};Pe.prototype={clone:function(){return new Pe(this.x,this.y)},add:function(n){return this.clone()._add(ot(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(ot(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new Pe(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new Pe(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Qt(this.x),this.y=Qt(this.y),this},distanceTo:function(n){n=ot(n);var l=n.x-this.x,p=n.y-this.y;return Math.sqrt(l*l+p*p)},equals:function(n){return n=ot(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=ot(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function ot(n,l,p){return n instanceof Pe?n:z(n)?new Pe(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new Pe(n.x,n.y):new Pe(n,l,p)}function St(n,l){if(n)for(var p=l?[n,l]:n,y=0,C=p.length;y<C;y++)this.extend(p[y])}St.prototype={extend:function(n){var l,p;if(!n)return this;if(n instanceof Pe||typeof n[0]=="number"||"x"in n)l=p=ot(n);else if(n=Nt(n),l=n.min,p=n.max,!l||!p)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=p.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(n){return ot((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return ot(this.min.x,this.max.y)},getTopRight:function(){return ot(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var l,p;return typeof n[0]=="number"||n instanceof Pe?n=ot(n):n=Nt(n),n instanceof St?(l=n.min,p=n.max):l=p=n,l.x>=this.min.x&&p.x<=this.max.x&&l.y>=this.min.y&&p.y<=this.max.y},intersects:function(n){n=Nt(n);var l=this.min,p=this.max,y=n.min,C=n.max,T=C.x>=l.x&&y.x<=p.x,W=C.y>=l.y&&y.y<=p.y;return T&&W},overlaps:function(n){n=Nt(n);var l=this.min,p=this.max,y=n.min,C=n.max,T=C.x>l.x&&y.x<p.x,W=C.y>l.y&&y.y<p.y;return T&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var l=this.min,p=this.max,y=Math.abs(l.x-p.x)*n,C=Math.abs(l.y-p.y)*n;return Nt(ot(l.x-y,l.y-C),ot(p.x+y,p.y+C))},equals:function(n){return n?(n=Nt(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Nt(n,l){return!n||n instanceof St?n:new St(n,l)}function rn(n,l){if(n)for(var p=l?[n,l]:n,y=0,C=p.length;y<C;y++)this.extend(p[y])}rn.prototype={extend:function(n){var l=this._southWest,p=this._northEast,y,C;if(n instanceof Bt)y=n,C=n;else if(n instanceof rn){if(y=n._southWest,C=n._northEast,!y||!C)return this}else return n?this.extend(mt(n)||Ut(n)):this;return!l&&!p?(this._southWest=new Bt(y.lat,y.lng),this._northEast=new Bt(C.lat,C.lng)):(l.lat=Math.min(y.lat,l.lat),l.lng=Math.min(y.lng,l.lng),p.lat=Math.max(C.lat,p.lat),p.lng=Math.max(C.lng,p.lng)),this},pad:function(n){var l=this._southWest,p=this._northEast,y=Math.abs(l.lat-p.lat)*n,C=Math.abs(l.lng-p.lng)*n;return new rn(new Bt(l.lat-y,l.lng-C),new Bt(p.lat+y,p.lng+C))},getCenter:function(){return new Bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof Bt||"lat"in n?n=mt(n):n=Ut(n);var l=this._southWest,p=this._northEast,y,C;return n instanceof rn?(y=n.getSouthWest(),C=n.getNorthEast()):y=C=n,y.lat>=l.lat&&C.lat<=p.lat&&y.lng>=l.lng&&C.lng<=p.lng},intersects:function(n){n=Ut(n);var l=this._southWest,p=this._northEast,y=n.getSouthWest(),C=n.getNorthEast(),T=C.lat>=l.lat&&y.lat<=p.lat,W=C.lng>=l.lng&&y.lng<=p.lng;return T&&W},overlaps:function(n){n=Ut(n);var l=this._southWest,p=this._northEast,y=n.getSouthWest(),C=n.getNorthEast(),T=C.lat>l.lat&&y.lat<p.lat,W=C.lng>l.lng&&y.lng<p.lng;return T&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,l){return n?(n=Ut(n),this._southWest.equals(n.getSouthWest(),l)&&this._northEast.equals(n.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ut(n,l){return n instanceof rn?n:new rn(n,l)}function Bt(n,l,p){if(isNaN(n)||isNaN(l))throw new Error("Invalid LatLng object: ("+n+", "+l+")");this.lat=+n,this.lng=+l,p!==void 0&&(this.alt=+p)}Bt.prototype={equals:function(n,l){if(!n)return!1;n=mt(n);var p=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return p<=(l===void 0?1e-9:l)},toString:function(n){return"LatLng("+P(this.lat,n)+", "+P(this.lng,n)+")"},distanceTo:function(n){return Ke.distance(this,mt(n))},wrap:function(){return Ke.wrapLatLng(this)},toBounds:function(n){var l=180*n/40075017,p=l/Math.cos(Math.PI/180*this.lat);return Ut([this.lat-l,this.lng-p],[this.lat+l,this.lng+p])},clone:function(){return new Bt(this.lat,this.lng,this.alt)}};function mt(n,l,p){return n instanceof Bt?n:z(n)&&typeof n[0]!="object"?n.length===3?new Bt(n[0],n[1],n[2]):n.length===2?new Bt(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new Bt(n.lat,"lng"in n?n.lng:n.lon,n.alt):l===void 0?null:new Bt(n,l,p)}var xe={latLngToPoint:function(n,l){var p=this.projection.project(n),y=this.scale(l);return this.transformation._transform(p,y)},pointToLatLng:function(n,l){var p=this.scale(l),y=this.transformation.untransform(n,p);return this.projection.unproject(y)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var l=this.projection.bounds,p=this.scale(n),y=this.transformation.transform(l.min,p),C=this.transformation.transform(l.max,p);return new St(y,C)},infinite:!1,wrapLatLng:function(n){var l=this.wrapLng?b(n.lng,this.wrapLng,!0):n.lng,p=this.wrapLat?b(n.lat,this.wrapLat,!0):n.lat,y=n.alt;return new Bt(p,l,y)},wrapLatLngBounds:function(n){var l=n.getCenter(),p=this.wrapLatLng(l),y=l.lat-p.lat,C=l.lng-p.lng;if(y===0&&C===0)return n;var T=n.getSouthWest(),W=n.getNorthEast(),he=new Bt(T.lat-y,T.lng-C),ge=new Bt(W.lat-y,W.lng-C);return new rn(he,ge)}},Ke=c({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(n,l){var p=Math.PI/180,y=n.lat*p,C=l.lat*p,T=Math.sin((l.lat-n.lat)*p/2),W=Math.sin((l.lng-n.lng)*p/2),he=T*T+Math.cos(y)*Math.cos(C)*W*W,ge=2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he));return this.R*ge}}),Ue=6378137,tt={R:Ue,MAX_LATITUDE:85.0511287798,project:function(n){var l=Math.PI/180,p=this.MAX_LATITUDE,y=Math.max(Math.min(p,n.lat),-p),C=Math.sin(y*l);return new Pe(this.R*n.lng*l,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(n){var l=180/Math.PI;return new Bt((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*l,n.x*l/this.R)},bounds:function(){var n=Ue*Math.PI;return new St([-n,-n],[n,n])}()};function Pt(n,l,p,y){if(z(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=l,this._c=p,this._d=y}Pt.prototype={transform:function(n,l){return this._transform(n.clone(),l)},_transform:function(n,l){return l=l||1,n.x=l*(this._a*n.x+this._b),n.y=l*(this._c*n.y+this._d),n},untransform:function(n,l){return l=l||1,new Pe((n.x/l-this._b)/this._a,(n.y/l-this._d)/this._c)}};function jt(n,l,p,y){return new Pt(n,l,p,y)}var $=c({},Ke,{code:"EPSG:3857",projection:tt,transformation:function(){var n=.5/(Math.PI*tt.R);return jt(n,.5,-n,.5)}()}),K=c({},$,{code:"EPSG:900913"});function fe(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Te(n,l){var p="",y,C,T,W,he,ge;for(y=0,T=n.length;y<T;y++){for(he=n[y],C=0,W=he.length;C<W;C++)ge=he[C],p+=(C?"L":"M")+ge.x+" "+ge.y;p+=l?st.svg?"z":"x":""}return p||"M0 0"}var we=document.documentElement.style,Ae="ActiveXObject"in window,He=Ae&&!document.addEventListener,$e="msLaunchUri"in navigator&&!("documentMode"in document),Ve=li("webkit"),De=li("android"),ht=li("android 2")||li("android 3"),Ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=De&&li("Google")&&Ye<537&&!("AudioNode"in window),pt=!!window.opera,Et=!$e&&li("chrome"),zt=li("gecko")&&!Ve&&!pt&&!Ae,Rt=!Et&&li("safari"),Cn=li("phantom"),mn="OTransition"in we,vn=navigator.platform.indexOf("Win")===0,Bn=Ae&&"transition"in we,_i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ht,Pi="MozPerspective"in we,Tn=!window.L_DISABLE_3D&&(Bn||_i||Pi)&&!mn&&!Cn,bn=typeof orientation<"u"||li("mobile"),To=bn&&Ve,Xu=bn&&_i,Ms=!window.PointerEvent&&window.MSPointerEvent,il=!!(window.PointerEvent||Ms),rl="ontouchstart"in window||!!window.TouchEvent,Qu=!window.L_NO_TOUCH&&(rl||il),ec=bn&&pt,ol=bn&&zt,sl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tc=function(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return n}(),nc=function(){return!!document.createElement("canvas").getContext}(),Ss=!!(document.createElementNS&&fe("svg").createSVGRect),al=!!Ss&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ic=!Ss&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var l=n.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),rc=navigator.platform.indexOf("Mac")===0,oc=navigator.platform.indexOf("Linux")===0;function li(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var st={ie:Ae,ielt9:He,edge:$e,webkit:Ve,android:De,android23:ht,androidStock:rt,opera:pt,chrome:Et,gecko:zt,safari:Rt,phantom:Cn,opera12:mn,win:vn,ie3d:Bn,webkit3d:_i,gecko3d:Pi,any3d:Tn,mobile:bn,mobileWebkit:To,mobileWebkit3d:Xu,msPointer:Ms,pointer:il,touch:Qu,touchNative:rl,mobileOpera:ec,mobileGecko:ol,retina:sl,passiveEvents:tc,canvas:nc,svg:Ss,vml:ic,inlineSvg:al,mac:rc,linux:oc},ll=st.msPointer?"MSPointerDown":"pointerdown",ul=st.msPointer?"MSPointerMove":"pointermove",Ps=st.msPointer?"MSPointerUp":"pointerup",cl=st.msPointer?"MSPointerCancel":"pointercancel",Bs={touchstart:ll,touchmove:ul,touchend:Ps,touchcancel:cl},hl={touchstart:cc,touchmove:Oo,touchend:Oo,touchcancel:Oo},xr={},dl=!1;function sc(n,l,p){return l==="touchstart"&&Ts(),hl[l]?(p=hl[l].bind(this,p),n.addEventListener(Bs[l],p,!1),p):(console.warn("wrong event specified:",l),w)}function ac(n,l,p){if(!Bs[l]){console.warn("wrong event specified:",l);return}n.removeEventListener(Bs[l],p,!1)}function lc(n){xr[n.pointerId]=n}function uc(n){xr[n.pointerId]&&(xr[n.pointerId]=n)}function Ao(n){delete xr[n.pointerId]}function Ts(){dl||(document.addEventListener(ll,lc,!0),document.addEventListener(ul,uc,!0),document.addEventListener(Ps,Ao,!0),document.addEventListener(cl,Ao,!0),dl=!0)}function Oo(n,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var p in xr)l.touches.push(xr[p]);l.changedTouches=[l],n(l)}}function cc(n,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&kn(l),Oo(n,l)}function hc(n){var l={},p,y;for(y in n)p=n[y],l[y]=p&&p.bind?p.bind(n):p;return n=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var dc=200;function pc(n,l){n.addEventListener("dblclick",l);var p=0,y;function C(T){if(T.detail!==1){y=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var W=gl(T);if(!(W.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!W.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var he=Date.now();he-p<=dc?(y++,y===2&&l(hc(T))):y=1,p=he}}}return n.addEventListener("click",C),{dblclick:l,simDblclick:C}}function fc(n,l){n.removeEventListener("dblclick",l.dblclick),n.removeEventListener("click",l.simDblclick)}var As=Do(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kr=Do(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pl=Kr==="webkitTransition"||Kr==="OTransition"?Kr+"End":"transitionend";function fl(n){return typeof n=="string"?document.getElementById(n):n}function zi(n,l){var p=n.style[l]||n.currentStyle&&n.currentStyle[l];if((!p||p==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(n,null);p=y?y[l]:null}return p==="auto"?null:p}function Dt(n,l,p){var y=document.createElement(n);return y.className=l||"",p&&p.appendChild(y),y}function Yt(n){var l=n.parentNode;l&&l.removeChild(n)}function Wr(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function wr(n){var l=n.parentNode;l&&l.lastChild!==n&&l.appendChild(n)}function Xi(n){var l=n.parentNode;l&&l.firstChild!==n&&l.insertBefore(n,l.firstChild)}function Os(n,l){if(n.classList!==void 0)return n.classList.contains(l);var p=Ro(n);return p.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(p)}function bt(n,l){if(n.classList!==void 0)for(var p=R(l),y=0,C=p.length;y<C;y++)n.classList.add(p[y]);else if(!Os(n,l)){var T=Ro(n);Rs(n,(T?T+" ":"")+l)}}function on(n,l){n.classList!==void 0?n.classList.remove(l):Rs(n,O((" "+Ro(n)+" ").replace(" "+l+" "," ")))}function Rs(n,l){n.className.baseVal===void 0?n.className=l:n.className.baseVal=l}function Ro(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Xn(n,l){"opacity"in n.style?n.style.opacity=l:"filter"in n.style&&mc(n,l)}function mc(n,l){var p=!1,y="DXImageTransform.Microsoft.Alpha";try{p=n.filters.item(y)}catch{if(l===1)return}l=Math.round(l*100),p?(p.Enabled=l!==100,p.Opacity=l):n.style.filter+=" progid:"+y+"(opacity="+l+")"}function Do(n){for(var l=document.documentElement.style,p=0;p<n.length;p++)if(n[p]in l)return n[p];return!1}function Qi(n,l,p){var y=l||new Pe(0,0);n.style[As]=(st.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(p?" scale("+p+")":"")}function hn(n,l){n._leaflet_pos=l,st.any3d?Qi(n,l):(n.style.left=l.x+"px",n.style.top=l.y+"px")}function er(n){return n._leaflet_pos||new Pe(0,0)}var Jr,Yr,Ds;if("onselectstart"in document)Jr=function(){yt(window,"selectstart",kn)},Yr=function(){Zt(window,"selectstart",kn)};else{var Xr=Do(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jr=function(){if(Xr){var n=document.documentElement.style;Ds=n[Xr],n[Xr]="none"}},Yr=function(){Xr&&(document.documentElement.style[Xr]=Ds,Ds=void 0)}}function Is(){yt(window,"dragstart",kn)}function Fs(){Zt(window,"dragstart",kn)}var Io,js;function Ns(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Fo(),Io=n,js=n.style.outlineStyle,n.style.outlineStyle="none",yt(window,"keydown",Fo))}function Fo(){Io&&(Io.style.outlineStyle=js,Io=void 0,js=void 0,Zt(window,"keydown",Fo))}function ml(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function zs(n){var l=n.getBoundingClientRect();return{x:l.width/n.offsetWidth||1,y:l.height/n.offsetHeight||1,boundingClientRect:l}}var _c={__proto__:null,TRANSFORM:As,TRANSITION:Kr,TRANSITION_END:pl,get:fl,getStyle:zi,create:Dt,remove:Yt,empty:Wr,toFront:wr,toBack:Xi,hasClass:Os,addClass:bt,removeClass:on,setClass:Rs,getClass:Ro,setOpacity:Xn,testProp:Do,setTransform:Qi,setPosition:hn,getPosition:er,get disableTextSelection(){return Jr},get enableTextSelection(){return Yr},disableImageDrag:Is,enableImageDrag:Fs,preventOutline:Ns,restoreOutline:Fo,getSizedParentNode:ml,getScale:zs};function yt(n,l,p,y){if(l&&typeof l=="object")for(var C in l)tr(n,C,l[C],p);else{l=R(l);for(var T=0,W=l.length;T<W;T++)tr(n,l[T],p,y)}return this}var gi="_leaflet_events";function Zt(n,l,p,y){if(arguments.length===1)_l(n),delete n[gi];else if(l&&typeof l=="object")for(var C in l)Gs(n,C,l[C],p);else if(l=R(l),arguments.length===2)_l(n,function(he){return ne(l,he)!==-1});else for(var T=0,W=l.length;T<W;T++)Gs(n,l[T],p,y);return this}function _l(n,l){for(var p in n[gi]){var y=p.split(/\d/)[0];(!l||l(y))&&Gs(n,y,null,null,p)}}var Vs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tr(n,l,p,y){var C=l+_(p)+(y?"_"+_(y):"");if(n[gi]&&n[gi][C])return this;var T=function(he){return p.call(y||n,he||window.event)},W=T;!st.touchNative&&st.pointer&&l.indexOf("touch")===0?T=sc(n,l,T):st.touch&&l==="dblclick"?T=pc(n,T):"addEventListener"in n?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?n.addEventListener(Vs[l]||l,T,st.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function(he){he=he||window.event,Lr(n,he)&&W(he)},n.addEventListener(Vs[l],T,!1)):n.addEventListener(l,W,!1):n.attachEvent("on"+l,T),n[gi]=n[gi]||{},n[gi][C]=T}function Gs(n,l,p,y,C){C=C||l+_(p)+(y?"_"+_(y):"");var T=n[gi]&&n[gi][C];if(!T)return this;!st.touchNative&&st.pointer&&l.indexOf("touch")===0?ac(n,l,T):st.touch&&l==="dblclick"?fc(n,T):"removeEventListener"in n?n.removeEventListener(Vs[l]||l,T,!1):n.detachEvent("on"+l,T),n[gi][C]=null}function nr(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function $s(n){return tr(n,"wheel",nr),this}function Qr(n){return yt(n,"mousedown touchstart dblclick contextmenu",nr),n._leaflet_disable_click=!0,this}function kn(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function ir(n){return kn(n),nr(n),this}function gl(n){if(n.composedPath)return n.composedPath();for(var l=[],p=n.target;p;)l.push(p),p=p.parentNode;return l}function yl(n,l){if(!l)return new Pe(n.clientX,n.clientY);var p=zs(l),y=p.boundingClientRect;return new Pe((n.clientX-y.left)/p.x-l.clientLeft,(n.clientY-y.top)/p.y-l.clientTop)}var gc=st.linux&&st.chrome?window.devicePixelRatio:st.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vl(n){return st.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/gc:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Lr(n,l){var p=l.relatedTarget;if(!p)return!0;try{for(;p&&p!==n;)p=p.parentNode}catch{return!1}return p!==n}var yc={__proto__:null,on:yt,off:Zt,stopPropagation:nr,disableScrollPropagation:$s,disableClickPropagation:Qr,preventDefault:kn,stop:ir,getPropagationPath:gl,getMousePosition:yl,getWheelDelta:vl,isExternalTarget:Lr,addListener:yt,removeListener:Zt},bl=it.extend({run:function(n,l,p,y){this.stop(),this._el=n,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=er(n),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=We(this._animate,this),this._step()},_step:function(n){var l=+new Date-this._startTime,p=this._duration*1e3;l<p?this._runFrame(this._easeOut(l/p),n):(this._runFrame(1),this._complete())},_runFrame:function(n,l){var p=this._startPos.add(this._offset.multiplyBy(n));l&&p._round(),hn(this._el,p),this.fire("step")},_complete:function(){Re(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Mt=it.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,l){l=V(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(mt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kr&&st.any3d&&!st.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),yt(this._proxy,pl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,l,p){if(l=l===void 0?this._zoom:this._limitZoom(l),n=this._limitCenter(mt(n),l,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=c({animate:p.animate},p.zoom),p.pan=c({animate:p.animate,duration:p.duration},p.pan));var y=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,l,p.zoom):this._tryAnimatedPan(n,p.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(n,l,p.pan&&p.pan.noMoveStart),this},setZoom:function(n,l){return this._loaded?this.setView(this.getCenter(),n,{zoom:l}):(this._zoom=n,this)},zoomIn:function(n,l){return n=n||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,l)},zoomOut:function(n,l){return n=n||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,l)},setZoomAround:function(n,l,p){var y=this.getZoomScale(l),C=this.getSize().divideBy(2),T=n instanceof Pe?n:this.latLngToContainerPoint(n),W=T.subtract(C).multiplyBy(1-1/y),he=this.containerPointToLatLng(C.add(W));return this.setView(he,l,{zoom:p})},_getBoundsCenterZoom:function(n,l){l=l||{},n=n.getBounds?n.getBounds():Ut(n);var p=ot(l.paddingTopLeft||l.padding||[0,0]),y=ot(l.paddingBottomRight||l.padding||[0,0]),C=this.getBoundsZoom(n,!1,p.add(y));if(C=typeof l.maxZoom=="number"?Math.min(l.maxZoom,C):C,C===1/0)return{center:n.getCenter(),zoom:C};var T=y.subtract(p).divideBy(2),W=this.project(n.getSouthWest(),C),he=this.project(n.getNorthEast(),C),ge=this.unproject(W.add(he).divideBy(2).add(T),C);return{center:ge,zoom:C}},fitBounds:function(n,l){if(n=Ut(n),!n.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(n,l);return this.setView(p.center,p.zoom,l)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,l){return this.setView(n,this._zoom,{pan:l})},panBy:function(n,l){if(n=ot(n).round(),l=l||{},!n.x&&!n.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){bt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,p,l.duration||.25,l.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,l,p){if(p=p||{},p.animate===!1||!st.any3d)return this.setView(n,l,p);this._stop();var y=this.project(this.getCenter()),C=this.project(n),T=this.getSize(),W=this._zoom;n=mt(n),l=l===void 0?W:l;var he=Math.max(T.x,T.y),ge=he*this.getZoomScale(W,l),Me=C.distanceTo(y)||1,Xe=1.42,ft=Xe*Xe;function kt(sn){var ts=sn?-1:1,xi=sn?ge:he,Fc=ge*ge-he*he+ts*ft*ft*Me*Me,ns=2*xi*ft*Me,is=Fc/ns,Il=Math.sqrt(is*is+1)-is,Fl=Il<1e-9?-18:Math.log(Il);return Fl}function In(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function dn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function pn(sn){return In(sn)/dn(sn)}var wn=kt(0);function Hi(sn){return he*(dn(wn)/dn(wn+Xe*sn))}function Qo(sn){return he*(dn(wn)*pn(wn+Xe*sn)-In(wn))/ft}function Rl(sn){return 1-Math.pow(1-sn,1.5)}var es=Date.now(),Dl=(kt(1)-wn)/Xe,Ic=p.duration?1e3*p.duration:1e3*Dl*.8;function sa(){var sn=(Date.now()-es)/Ic,ts=Rl(sn)*Dl;sn<=1?(this._flyToFrame=We(sa,this),this._move(this.unproject(y.add(C.subtract(y).multiplyBy(Qo(ts)/Me)),W),this.getScaleZoom(he/Hi(ts),W),{flyTo:!0})):this._move(n,l)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),sa.call(this),this},flyToBounds:function(n,l){var p=this._getBoundsCenterZoom(n,l);return this.flyTo(p.center,p.zoom,l)},setMaxBounds:function(n){return n=Ut(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var l=this.options.minZoom;return this.options.minZoom=n,this._loaded&&l!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var l=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&l!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,l){this._enforcingBounds=!0;var p=this.getCenter(),y=this._limitCenter(p,this._zoom,Ut(n));return p.equals(y)||this.panTo(y,l),this._enforcingBounds=!1,this},panInside:function(n,l){l=l||{};var p=ot(l.paddingTopLeft||l.padding||[0,0]),y=ot(l.paddingBottomRight||l.padding||[0,0]),C=this.project(this.getCenter()),T=this.project(n),W=this.getPixelBounds(),he=Nt([W.min.add(p),W.max.subtract(y)]),ge=he.getSize();if(!he.contains(T)){this._enforcingBounds=!0;var Me=T.subtract(he.getCenter()),Xe=he.extend(T).getSize().subtract(ge);C.x+=Me.x<0?-Xe.x:Xe.x,C.y+=Me.y<0?-Xe.y:Xe.y,this.panTo(this.unproject(C),l),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=c({animate:!1,pan:!0},n===!0?{animate:!0}:n);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),y=l.divideBy(2).round(),C=p.divideBy(2).round(),T=y.subtract(C);return!T.x&&!T.y?this:(n.animate&&n.pan?this.panBy(T):(n.pan&&this._rawPanBy(T),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=c({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=u(this._handleGeolocationResponse,this),p=u(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,p,n):navigator.geolocation.getCurrentPosition(l,p,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var l=n.code,p=n.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var l=n.coords.latitude,p=n.coords.longitude,y=new Bt(l,p),C=y.toBounds(n.coords.accuracy*2),T=this._locateOptions;if(T.setView){var W=this.getBoundsZoom(C);this.setView(y,T.maxZoom?Math.min(W,T.maxZoom):W)}var he={latlng:y,bounds:C,timestamp:n.timestamp};for(var ge in n.coords)typeof n.coords[ge]=="number"&&(he[ge]=n.coords[ge]);this.fire("locationfound",he)}},addHandler:function(n,l){if(!l)return this;var p=this[n]=new l(this);return this._handlers.push(p),this.options[n]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Re(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Yt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,l){var p="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),y=Dt("div",p,l||this._mapPane);return n&&(this._panes[n]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),l=this.unproject(n.getBottomLeft()),p=this.unproject(n.getTopRight());return new rn(l,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,l,p){n=Ut(n),p=ot(p||[0,0]);var y=this.getZoom()||0,C=this.getMinZoom(),T=this.getMaxZoom(),W=n.getNorthWest(),he=n.getSouthEast(),ge=this.getSize().subtract(p),Me=Nt(this.project(he,y),this.project(W,y)).getSize(),Xe=st.any3d?this.options.zoomSnap:1,ft=ge.x/Me.x,kt=ge.y/Me.y,In=l?Math.max(ft,kt):Math.min(ft,kt);return y=this.getScaleZoom(In,y),Xe&&(y=Math.round(y/(Xe/100))*(Xe/100),y=l?Math.ceil(y/Xe)*Xe:Math.floor(y/Xe)*Xe),Math.max(C,Math.min(T,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,l){var p=this._getTopLeftPoint(n,l);return new St(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,l){var p=this.options.crs;return l=l===void 0?this._zoom:l,p.scale(n)/p.scale(l)},getScaleZoom:function(n,l){var p=this.options.crs;l=l===void 0?this._zoom:l;var y=p.zoom(n*p.scale(l));return isNaN(y)?1/0:y},project:function(n,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(mt(n),l)},unproject:function(n,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ot(n),l)},layerPointToLatLng:function(n){var l=ot(n).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(n){var l=this.project(mt(n))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(mt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(Ut(n))},distance:function(n,l){return this.options.crs.distance(mt(n),mt(l))},containerPointToLayerPoint:function(n){return ot(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return ot(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var l=this.containerPointToLayerPoint(ot(n));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(mt(n)))},mouseEventToContainerPoint:function(n){return yl(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var l=this._container=fl(n);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");yt(l,"scroll",this._onScroll,this),this._containerId=_(l)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&st.any3d,bt(n,"leaflet-container"+(st.touch?" leaflet-touch":"")+(st.retina?" leaflet-retina":"")+(st.ielt9?" leaflet-oldie":"")+(st.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=zi(n,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),hn(this._mapPane,new Pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(n.markerPane,"leaflet-zoom-hide"),bt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,l,p){hn(this._mapPane,new Pe(0,0));var y=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var C=this._zoom!==l;this._moveStart(C,p)._move(n,l)._moveEnd(C),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(n,l){return n&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(n,l,p,y){l===void 0&&(l=this._zoom);var C=this._zoom!==l;return this._zoom=l,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),y?p&&p.pinch&&this.fire("zoom",p):((C||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Re(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){hn(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[_(this._container)]=this;var l=n?Zt:yt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),st.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Re(this._resizeRequest),this._resizeRequest=We(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,l){for(var p=[],y,C=l==="mouseout"||l==="mouseover",T=n.target||n.srcElement,W=!1;T;){if(y=this._targets[_(T)],y&&(l==="click"||l==="preclick")&&this._draggableMoved(y)){W=!0;break}if(y&&y.listens(l,!0)&&(C&&!Lr(T,n)||(p.push(y),C))||T===this._container)break;T=T.parentNode}return!p.length&&!W&&!C&&this.listens(l,!0)&&(p=[this]),p},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var l=n.target||n.srcElement;if(!(!this._loaded||l._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(l))){var p=n.type;p==="mousedown"&&Ns(l),this._fireDOMEvent(n,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,l,p){if(n.type==="click"){var y=c({},n);y.type="preclick",this._fireDOMEvent(y,y.type,p)}var C=this._findEventTargets(n,l);if(p){for(var T=[],W=0;W<p.length;W++)p[W].listens(l,!0)&&T.push(p[W]);C=T.concat(C)}if(C.length){l==="contextmenu"&&kn(n);var he=C[0],ge={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var Me=he.getLatLng&&(!he._radius||he._radius<=10);ge.containerPoint=Me?this.latLngToContainerPoint(he.getLatLng()):this.mouseEventToContainerPoint(n),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Me?he.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(W=0;W<C.length;W++)if(C[W].fire(l,ge,!0),ge.originalEvent._stopped||C[W].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,l=this._handlers.length;n<l;n++)this._handlers[n].disable()},whenReady:function(n,l){return this._loaded?n.call(l||this,{target:this}):this.on("load",n,l),this},_getMapPanePos:function(){return er(this._mapPane)||new Pe(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,l){var p=n&&l!==void 0?this._getNewPixelOrigin(n,l):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,l){var p=this.getSize()._divideBy(2);return this.project(n,l)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,l,p){var y=this._getNewPixelOrigin(p,l);return this.project(n,l)._subtract(y)},_latLngBoundsToNewLayerBounds:function(n,l,p){var y=this._getNewPixelOrigin(p,l);return Nt([this.project(n.getSouthWest(),l)._subtract(y),this.project(n.getNorthWest(),l)._subtract(y),this.project(n.getSouthEast(),l)._subtract(y),this.project(n.getNorthEast(),l)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,l,p){if(!p)return n;var y=this.project(n,l),C=this.getSize().divideBy(2),T=new St(y.subtract(C),y.add(C)),W=this._getBoundsOffset(T,p,l);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?n:this.unproject(y.add(W),l)},_limitOffset:function(n,l){if(!l)return n;var p=this.getPixelBounds(),y=new St(p.min.add(n),p.max.add(n));return n.add(this._getBoundsOffset(y,l))},_getBoundsOffset:function(n,l,p){var y=Nt(this.project(l.getNorthEast(),p),this.project(l.getSouthWest(),p)),C=y.min.subtract(n.min),T=y.max.subtract(n.max),W=this._rebound(C.x,-T.x),he=this._rebound(C.y,-T.y);return new Pe(W,he)},_rebound:function(n,l){return n+l>0?Math.round(n-l)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(l))},_limitZoom:function(n){var l=this.getMinZoom(),p=this.getMaxZoom(),y=st.any3d?this.options.zoomSnap:1;return y&&(n=Math.round(n/y)*y),Math.max(l,Math.min(p,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){on(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,l){var p=this._getCenterOffset(n)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,l),!0)},_createAnimProxy:function(){var n=this._proxy=Dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(l){var p=As,y=this._proxy.style[p];Qi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),y===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),l=this.getZoom();Qi(this._proxy,this.project(n,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,l,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(l),C=this._getCenterOffset(n)._divideBy(1-1/y);return p.animate!==!0&&!this.getSize().contains(C)?!1:(We(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(n,l,!0)},this),!0)},_animateZoom:function(n,l,p,y){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=l,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:l,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&on(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Tt(n,l){return new Mt(n,l)}var Hn=Ct.extend({options:{position:"topright"},initialize:function(n){V(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var l=this._map;return l&&l.removeControl(this),this.options.position=n,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var l=this._container=this.onAdd(n),p=this.getPosition(),y=n._controlCorners[p];return bt(l,"leaflet-control"),p.indexOf("bottom")!==-1?y.insertBefore(l,y.firstChild):y.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Vi=function(n){return new Hn(n)};Mt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},l="leaflet-",p=this._controlContainer=Dt("div",l+"control-container",this._container);function y(C,T){var W=l+C+" "+l+T;n[C+T]=Dt("div",W,p)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Yt(this._controlCorners[n]);Yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xl=Hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,l,p,y){return p<y?-1:y<p?1:0}},initialize:function(n,l,p){V(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in n)this._addLayer(n[y],y);for(y in l)this._addLayer(l[y],y,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Hn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,l){return this._addLayer(n,l),this._map?this._update():this},addOverlay:function(n,l){return this._addLayer(n,l,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var l=this._getLayer(_(n));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):on(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return on(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",l=this._container=Dt("div",n),p=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Qr(l),$s(l);var y=this._section=Dt("section",n+"-list");p&&(this._map.on("click",this.collapse,this),yt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Dt("a",n+"-toggle",l);C.href="#",C.title="Layers",C.setAttribute("role","button"),yt(C,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){kn(T),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Dt("div",n+"-base",y),this._separator=Dt("div",n+"-separator",y),this._overlaysList=Dt("div",n+"-overlays",y),l.appendChild(y)},_getLayer:function(n){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&_(this._layers[l].layer)===n)return this._layers[l]},_addLayer:function(n,l,p){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:l,overlay:p}),this.options.sortLayers&&this._layers.sort(u(function(y,C){return this.options.sortFunction(y.layer,C.layer,y.name,C.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Wr(this._baseLayersList),Wr(this._overlaysList),this._layerControlInputs=[];var n,l,p,y,C=0;for(p=0;p<this._layers.length;p++)y=this._layers[p],this._addItem(y),l=l||y.overlay,n=n||!y.overlay,C+=y.overlay?0:1;return this.options.hideSingleBase&&(n=n&&C>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=l&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var l=this._getLayer(_(n.target)),p=l.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;p&&this._map.fire(p,l)},_createRadioElement:function(n,l){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(l?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=p,y.firstChild},_addItem:function(n){var l=document.createElement("label"),p=this._map.hasLayer(n.layer),y;n.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=p):y=this._createRadioElement("leaflet-base-layers_"+_(this),p),this._layerControlInputs.push(y),y.layerId=_(n.layer),yt(y,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+n.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(y),T.appendChild(C);var W=n.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,l,p,y=[],C=[];this._handlingClick=!0;for(var T=n.length-1;T>=0;T--)l=n[T],p=this._getLayer(l.layerId).layer,l.checked?y.push(p):l.checked||C.push(p);for(T=0;T<C.length;T++)this._map.hasLayer(C[T])&&this._map.removeLayer(C[T]);for(T=0;T<y.length;T++)this._map.hasLayer(y[T])||this._map.addLayer(y[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,l,p,y=this._map.getZoom(),C=n.length-1;C>=0;C--)l=n[C],p=this._getLayer(l.layerId).layer,l.disabled=p.options.minZoom!==void 0&&y<p.options.minZoom||p.options.maxZoom!==void 0&&y>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,yt(n,"click",kn),this.expand();var l=this;setTimeout(function(){Zt(n,"click",kn),l._preventClick=!1})}}),wl=function(n,l,p){return new xl(n,l,p)},Us=Hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var l="leaflet-control-zoom",p=Dt("div",l+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,l+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,l+"-out",p,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,l,p,y,C){var T=Dt("a",p,y);return T.innerHTML=n,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),Qr(T),yt(T,"click",ir),yt(T,"click",C,this),yt(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var n=this._map,l="leaflet-disabled";on(this._zoomInButton,l),on(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(bt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(bt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Us,this.addControl(this.zoomControl))});var Hs=function(n){return new Us(n)},eo=Hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var l="leaflet-control-scale",p=Dt("div",l),y=this.options;return this._addScales(y,l+"-line",p),n.on(y.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),p},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,l,p){n.metric&&(this._mScale=Dt("div",l,p)),n.imperial&&(this._iScale=Dt("div",l,p))},_update:function(){var n=this._map,l=n.getSize().y/2,p=n.distance(n.containerPointToLatLng([0,l]),n.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(p)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var l=this._getRoundNum(n),p=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,p,l/n)},_updateImperial:function(n){var l=n*3.2808399,p,y,C;l>5280?(p=l/5280,y=this._getRoundNum(p),this._updateScale(this._iScale,y+" mi",y/p)):(C=this._getRoundNum(l),this._updateScale(this._iScale,C+" ft",C/l))},_updateScale:function(n,l,p){n.style.width=Math.round(this.options.maxWidth*p)+"px",n.innerHTML=l},_getRoundNum:function(n){var l=Math.pow(10,(Math.floor(n)+"").length-1),p=n/l;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,l*p}}),vc=function(n){return new eo(n)},Gi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',jo=Hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(st.inlineSvg?Gi+" ":"")+"Leaflet</a>"},initialize:function(n){V(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Dt("div","leaflet-control-attribution"),Qr(this._container);for(var l in n._layers)n._layers[l].getAttribution&&this.addAttribution(n._layers[l].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var l in this._attributions)this._attributions[l]&&n.push(l);var p=[];this.options.prefix&&p.push(this.options.prefix),n.length&&p.push(n.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new jo().addTo(this)});var Cr=function(n){return new jo(n)};Hn.Layers=xl,Hn.Zoom=Us,Hn.Scale=eo,Hn.Attribution=jo,Vi.layers=wl,Vi.zoom=Hs,Vi.scale=vc,Vi.attribution=Cr;var yi=Ct.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yi.addTo=function(n,l){return n.addHandler(l,this),this};var bc={Events:qe},Ll=st.touch?"touchstart mousedown":"mousedown",$i=it.extend({options:{clickTolerance:3},initialize:function(n,l,p,y){V(this,y),this._element=n,this._dragStartTarget=l||n,this._preventOutline=p},enable:function(){this._enabled||(yt(this._dragStartTarget,Ll,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($i._dragging===this&&this.finishDrag(!0),Zt(this._dragStartTarget,Ll,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Os(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){$i._dragging===this&&this.finishDrag();return}if(!($i._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&($i._dragging=this,this._preventOutline&&Ns(this._element),Is(),Jr(),!this._moving)){this.fire("down");var l=n.touches?n.touches[0]:n,p=ml(this._element);this._startPoint=new Pe(l.clientX,l.clientY),this._startPos=er(this._element),this._parentScale=zs(p);var y=n.type==="mousedown";yt(document,y?"mousemove":"touchmove",this._onMove,this),yt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var l=n.touches&&n.touches.length===1?n.touches[0]:n,p=new Pe(l.clientX,l.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,kn(n),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),hn(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){on(document.body,"leaflet-dragging"),this._lastTarget&&(on(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zt(document,"mousemove touchmove",this._onMove,this),Zt(document,"mouseup touchend touchcancel",this._onUp,this),Fs(),Yr();var l=this._moved&&this._moving;this._moving=!1,$i._dragging=!1,l&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Cl(n,l,p){var y,C=[1,4,2,8],T,W,he,ge,Me,Xe,ft,kt;for(T=0,Xe=n.length;T<Xe;T++)n[T]._code=or(n[T],l);for(he=0;he<4;he++){for(ft=C[he],y=[],T=0,Xe=n.length,W=Xe-1;T<Xe;W=T++)ge=n[T],Me=n[W],ge._code&ft?Me._code&ft||(kt=ui(Me,ge,ft,l,p),kt._code=or(kt,l),y.push(kt)):(Me._code&ft&&(kt=ui(Me,ge,ft,l,p),kt._code=or(kt,l),y.push(kt)),y.push(ge));n=y}return n}function kl(n,l){var p,y,C,T,W,he,ge,Me,Xe;if(!n||n.length===0)throw new Error("latlngs not passed");nn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ft=mt([0,0]),kt=Ut(n),In=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());In<1700&&(ft=Zs(n));var dn=n.length,pn=[];for(p=0;p<dn;p++){var wn=mt(n[p]);pn.push(l.project(mt([wn.lat-ft.lat,wn.lng-ft.lng])))}for(he=ge=Me=0,p=0,y=dn-1;p<dn;y=p++)C=pn[p],T=pn[y],W=C.y*T.x-T.y*C.x,ge+=(C.x+T.x)*W,Me+=(C.y+T.y)*W,he+=W*3;he===0?Xe=pn[0]:Xe=[ge/he,Me/he];var Hi=l.unproject(ot(Xe));return mt([Hi.lat+ft.lat,Hi.lng+ft.lng])}function Zs(n){for(var l=0,p=0,y=0,C=0;C<n.length;C++){var T=mt(n[C]);l+=T.lat,p+=T.lng,y++}return mt([l/y,p/y])}var xc={__proto__:null,clipPolygon:Cl,polygonCenter:kl,centroid:Zs};function qs(n,l){if(!l||!n.length)return n.slice();var p=l*l;return n=kr(n,p),n=jn(n,p),n}function El(n,l,p){return Math.sqrt(sr(n,l,p,!0))}function En(n,l,p){return sr(n,l,p)}function jn(n,l){var p=n.length,y=typeof Uint8Array<"u"?Uint8Array:Array,C=new y(p);C[0]=C[p-1]=1,No(n,C,l,0,p-1);var T,W=[];for(T=0;T<p;T++)C[T]&&W.push(n[T]);return W}function No(n,l,p,y,C){var T=0,W,he,ge;for(he=y+1;he<=C-1;he++)ge=sr(n[he],n[y],n[C],!0),ge>T&&(W=he,T=ge);T>p&&(l[W]=1,No(n,l,p,y,W),No(n,l,p,W,C))}function kr(n,l){for(var p=[n[0]],y=1,C=0,T=n.length;y<T;y++)wc(n[y],n[C])>l&&(p.push(n[y]),C=y);return C<T-1&&p.push(n[T-1]),p}var rr;function Er(n,l,p,y,C){var T=y?rr:or(n,p),W=or(l,p),he,ge,Me;for(rr=W;;){if(!(T|W))return[n,l];if(T&W)return!1;he=T||W,ge=ui(n,l,he,p,C),Me=or(ge,p),he===T?(n=ge,T=Me):(l=ge,W=Me)}}function ui(n,l,p,y,C){var T=l.x-n.x,W=l.y-n.y,he=y.min,ge=y.max,Me,Xe;return p&8?(Me=n.x+T*(ge.y-n.y)/W,Xe=ge.y):p&4?(Me=n.x+T*(he.y-n.y)/W,Xe=he.y):p&2?(Me=ge.x,Xe=n.y+W*(ge.x-n.x)/T):p&1&&(Me=he.x,Xe=n.y+W*(he.x-n.x)/T),new Pe(Me,Xe,C)}function or(n,l){var p=0;return n.x<l.min.x?p|=1:n.x>l.max.x&&(p|=2),n.y<l.min.y?p|=4:n.y>l.max.y&&(p|=8),p}function wc(n,l){var p=l.x-n.x,y=l.y-n.y;return p*p+y*y}function sr(n,l,p,y){var C=l.x,T=l.y,W=p.x-C,he=p.y-T,ge=W*W+he*he,Me;return ge>0&&(Me=((n.x-C)*W+(n.y-T)*he)/ge,Me>1?(C=p.x,T=p.y):Me>0&&(C+=W*Me,T+=he*Me)),W=n.x-C,he=n.y-T,y?W*W+he*he:new Pe(C,T)}function nn(n){return!z(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ks(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(n)}function to(n,l){var p,y,C,T,W,he,ge,Me;if(!n||n.length===0)throw new Error("latlngs not passed");nn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Xe=mt([0,0]),ft=Ut(n),kt=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());kt<1700&&(Xe=Zs(n));var In=n.length,dn=[];for(p=0;p<In;p++){var pn=mt(n[p]);dn.push(l.project(mt([pn.lat-Xe.lat,pn.lng-Xe.lng])))}for(p=0,y=0;p<In-1;p++)y+=dn[p].distanceTo(dn[p+1])/2;if(y===0)Me=dn[0];else for(p=0,T=0;p<In-1;p++)if(W=dn[p],he=dn[p+1],C=W.distanceTo(he),T+=C,T>y){ge=(T-y)/C,Me=[he.x-ge*(he.x-W.x),he.y-ge*(he.y-W.y)];break}var wn=l.unproject(ot(Me));return mt([wn.lat+Xe.lat,wn.lng+Xe.lng])}var Lc={__proto__:null,simplify:qs,pointToSegmentDistance:El,closestPointOnSegment:En,clipSegment:Er,_getEdgeIntersection:ui,_getBitCode:or,_sqClosestPointOnSegment:sr,isFlat:nn,_flat:Ks,polylineCenter:to},Qn={project:function(n){return new Pe(n.lng,n.lat)},unproject:function(n){return new Bt(n.y,n.x)},bounds:new St([-180,-90],[180,90])},ei={R:6378137,R_MINOR:6356752314245179e-9,bounds:new St([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var l=Math.PI/180,p=this.R,y=n.lat*l,C=this.R_MINOR/p,T=Math.sqrt(1-C*C),W=T*Math.sin(y),he=Math.tan(Math.PI/4-y/2)/Math.pow((1-W)/(1+W),T/2);return y=-p*Math.log(Math.max(he,1e-10)),new Pe(n.lng*l*p,y)},unproject:function(n){for(var l=180/Math.PI,p=this.R,y=this.R_MINOR/p,C=Math.sqrt(1-y*y),T=Math.exp(-n.y/p),W=Math.PI/2-2*Math.atan(T),he=0,ge=.1,Me;he<15&&Math.abs(ge)>1e-7;he++)Me=C*Math.sin(W),Me=Math.pow((1-Me)/(1+Me),C/2),ge=Math.PI/2-2*Math.atan(T*Me)-W,W+=ge;return new Bt(W*l,n.x*l/p)}},zo={__proto__:null,LonLat:Qn,Mercator:ei,SphericalMercator:tt},Ml=c({},Ke,{code:"EPSG:3395",projection:ei,transformation:function(){var n=.5/(Math.PI*ei.R);return jt(n,.5,-n,.5)}()}),Vo=c({},Ke,{code:"EPSG:4326",projection:Qn,transformation:jt(1/180,1,-1/180,.5)}),no=c({},xe,{projection:Qn,transformation:jt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,l){var p=l.lng-n.lng,y=l.lat-n.lat;return Math.sqrt(p*p+y*y)},infinite:!0});xe.Earth=Ke,xe.EPSG3395=Ml,xe.EPSG3857=$,xe.EPSG900913=K,xe.EPSG4326=Vo,xe.Simple=no;var ci=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[_(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[_(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var l=n.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var p=this.getEvents();l.on(p,this),this.once("remove",function(){l.off(p,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var l=_(n);return this._layers[l]?this:(this._layers[l]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var l=_(n);return this._layers[l]?(this._loaded&&n.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return _(n)in this._layers},eachLayer:function(n,l){for(var p in this._layers)n.call(l,this._layers[p]);return this},_addLayers:function(n){n=n?z(n)?n:[n]:[];for(var l=0,p=n.length;l<p;l++)this.addLayer(n[l])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[_(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var l=_(n);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,l=-1/0,p=this._getZoomSpan();for(var y in this._zoomBoundLayers){var C=this._zoomBoundLayers[y].options;n=C.minZoom===void 0?n:Math.min(n,C.minZoom),l=C.maxZoom===void 0?l:Math.max(l,C.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=n===1/0?void 0:n,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mr=ci.extend({initialize:function(n,l){V(this,l),this._layers={};var p,y;if(n)for(p=0,y=n.length;p<y;p++)this.addLayer(n[p])},addLayer:function(n){var l=this.getLayerId(n);return this._layers[l]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var l=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(n){var l=typeof n=="number"?n:this.getLayerId(n);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var l=Array.prototype.slice.call(arguments,1),p,y;for(p in this._layers)y=this._layers[p],y[n]&&y[n].apply(y,l);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,l){for(var p in this._layers)n.call(l,this._layers[p]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return _(n)}}),Ws=function(n,l){return new Mr(n,l)},Bi=Mr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Mr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Mr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new rn;for(var l in this._layers){var p=this._layers[l];n.extend(p.getBounds?p.getBounds():p.getLatLng())}return n}}),Cc=function(n,l){return new Bi(n,l)},Sr=Ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){V(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,l){var p=this._getIconUrl(n);if(!p){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(p,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(y,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(n,l){var p=this.options,y=p[l+"Size"];typeof y=="number"&&(y=[y,y]);var C=ot(y),T=ot(l==="shadow"&&p.shadowAnchor||p.iconAnchor||C&&C.divideBy(2,!0));n.className="leaflet-marker-"+l+" "+(p.className||""),T&&(n.style.marginLeft=-T.x+"px",n.style.marginTop=-T.y+"px"),C&&(n.style.width=C.x+"px",n.style.height=C.y+"px")},_createImg:function(n,l){return l=l||document.createElement("img"),l.src=n,l},_getIconUrl:function(n){return st.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function kc(n){return new Sr(n)}var ar=Sr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ar.imagePath!="string"&&(ar.imagePath=this._detectIconPath()),(this.options.imagePath||ar.imagePath)+Sr.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var l=function(p,y,C){var T=y.exec(p);return T&&T[C]};return n=l(n,/^url\((['"])?(.+)\1\)$/,2),n&&l(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Dt("div","leaflet-default-icon-path",document.body),l=zi(n,"background-image")||zi(n,"backgroundImage");if(document.body.removeChild(n),l=this._stripUrl(l),l)return l;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Sl=yi.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new $i(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&on(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var l=this._marker,p=l._map,y=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,T=er(l._icon),W=p.getPixelBounds(),he=p.getPixelOrigin(),ge=Nt(W.min._subtract(he).add(C),W.max._subtract(he).subtract(C));if(!ge.contains(T)){var Me=ot((Math.max(ge.max.x,T.x)-ge.max.x)/(W.max.x-ge.max.x)-(Math.min(ge.min.x,T.x)-ge.min.x)/(W.min.x-ge.min.x),(Math.max(ge.max.y,T.y)-ge.max.y)/(W.max.y-ge.max.y)-(Math.min(ge.min.y,T.y)-ge.min.y)/(W.min.y-ge.min.y)).multiplyBy(y);p.panBy(Me,{animate:!1}),this._draggable._newPos._add(Me),this._draggable._startPos._add(Me),hn(l._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=We(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Re(this._panRequest),this._panRequest=We(this._adjustPan.bind(this,n)))},_onDrag:function(n){var l=this._marker,p=l._shadow,y=er(l._icon),C=l._map.layerPointToLatLng(y);p&&hn(p,y),l._latlng=C,n.latlng=C,n.oldLatLng=this._oldLatLng,l.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Re(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Go=ci.extend({options:{icon:new ar,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,l){V(this,l),this._latlng=mt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var l=this._latlng;return this._latlng=mt(n),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=n.icon.createIcon(this._icon),y=!1;p!==this._icon&&(this._icon&&this._removeIcon(),y=!0,n.title&&(p.title=n.title),p.tagName==="IMG"&&(p.alt=n.alt||"")),bt(p,l),n.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(p,"focus",this._panOnFocus,this);var C=n.icon.createShadow(this._shadow),T=!1;C!==this._shadow&&(this._removeShadow(),T=!0),C&&(bt(C,l),C.alt=""),this._shadow=C,n.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&T&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(this._icon,"focus",this._panOnFocus,this),Yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&hn(this._icon,n),this._shadow&&hn(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sl)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sl(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Xn(this._icon,n),this._shadow&&Xn(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var l=this.options.icon.options,p=l.iconSize?ot(l.iconSize):ot(0,0),y=l.iconAnchor?ot(l.iconAnchor):ot(0,0);n.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:p.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Pl(n,l){return new Go(n,l)}var Nn=ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return V(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),io=Nn.extend({options:{fill:!0,radius:10},initialize:function(n,l){V(this,l),this._latlng=mt(n),this._radius=this.options.radius},setLatLng:function(n){var l=this._latlng;return this._latlng=mt(n),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var l=n&&n.radius||this._radius;return Nn.prototype.setStyle.call(this,n),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,l=this._radiusY||n,p=this._clickTolerance(),y=[n+p,l+p];this._pxBounds=new St(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ec(n,l){return new io(n,l)}var Ti=io.extend({initialize:function(n,l,p){if(typeof l=="number"&&(l=c({},p,{radius:l})),V(this,l),this._latlng=mt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new rn(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Nn.prototype.setStyle,_project:function(){var n=this._latlng.lng,l=this._latlng.lat,p=this._map,y=p.options.crs;if(y.distance===Ke.distance){var C=Math.PI/180,T=this._mRadius/Ke.R/C,W=p.project([l+T,n]),he=p.project([l-T,n]),ge=W.add(he).divideBy(2),Me=p.unproject(ge).lat,Xe=Math.acos((Math.cos(T*C)-Math.sin(l*C)*Math.sin(Me*C))/(Math.cos(l*C)*Math.cos(Me*C)))/C;(isNaN(Xe)||Xe===0)&&(Xe=T/Math.cos(Math.PI/180*l)),this._point=ge.subtract(p.getPixelOrigin()),this._radius=isNaN(Xe)?0:ge.x-p.project([Me,n-Xe]).x,this._radiusY=ge.y-W.y}else{var ft=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(ft).x}this._updateBounds()}});function Mc(n,l,p){return new Ti(n,l,p)}var Ai=Nn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,l){V(this,l),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var l=1/0,p=null,y=sr,C,T,W=0,he=this._parts.length;W<he;W++)for(var ge=this._parts[W],Me=1,Xe=ge.length;Me<Xe;Me++){C=ge[Me-1],T=ge[Me];var ft=y(n,C,T,!0);ft<l&&(l=ft,p=y(n,C,T))}return p&&(p.distance=Math.sqrt(l)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return to(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,l){return l=l||this._defaultShape(),n=mt(n),l.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new rn,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var l=[],p=nn(n),y=0,C=n.length;y<C;y++)p?(l[y]=mt(n[y]),this._bounds.extend(l[y])):l[y]=this._convertLatLngs(n[y]);return l},_project:function(){var n=new St;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),l=new Pe(n,n);this._rawPxBounds&&(this._pxBounds=new St([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(n,l,p){var y=n[0]instanceof Bt,C=n.length,T,W;if(y){for(W=[],T=0;T<C;T++)W[T]=this._map.latLngToLayerPoint(n[T]),p.extend(W[T]);l.push(W)}else for(T=0;T<C;T++)this._projectLatlngs(n[T],l,p)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,p,y,C,T,W,he,ge;for(p=0,C=0,T=this._rings.length;p<T;p++)for(ge=this._rings[p],y=0,W=ge.length;y<W-1;y++)he=Er(ge[y],ge[y+1],n,y,!0),he&&(l[C]=l[C]||[],l[C].push(he[0]),(he[1]!==ge[y+1]||y===W-2)&&(l[C].push(he[1]),C++))}},_simplifyPoints:function(){for(var n=this._parts,l=this.options.smoothFactor,p=0,y=n.length;p<y;p++)n[p]=qs(n[p],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,l){var p,y,C,T,W,he,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(p=0,T=this._parts.length;p<T;p++)for(he=this._parts[p],y=0,W=he.length,C=W-1;y<W;C=y++)if(!(!l&&y===0)&&El(n,he[C],he[y])<=ge)return!0;return!1}});function Js(n,l){return new Ai(n,l)}Ai._flat=Ks;var vi=Ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var l=Ai.prototype._convertLatLngs.call(this,n),p=l.length;return p>=2&&l[0]instanceof Bt&&l[0].equals(l[p-1])&&l.pop(),l},_setLatLngs:function(n){Ai.prototype._setLatLngs.call(this,n),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,l=this.options.weight,p=new Pe(l,l);if(n=new St(n.min.subtract(p),n.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,C=this._rings.length,T;y<C;y++)T=Cl(this._rings[y],n,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var l=!1,p,y,C,T,W,he,ge,Me;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(T=0,ge=this._parts.length;T<ge;T++)for(p=this._parts[T],W=0,Me=p.length,he=Me-1;W<Me;he=W++)y=p[W],C=p[he],y.y>n.y!=C.y>n.y&&n.x<(C.x-y.x)*(n.y-y.y)/(C.y-y.y)+y.x&&(l=!l);return l||Ai.prototype._containsPoint.call(this,n,!0)}});function Sc(n,l){return new vi(n,l)}var Oi=Bi.extend({initialize:function(n,l){V(this,l),this._layers={},n&&this.addData(n)},addData:function(n){var l=z(n)?n:n.features,p,y,C;if(l){for(p=0,y=l.length;p<y;p++)C=l[p],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var T=this.options;if(T.filter&&!T.filter(n))return this;var W=$o(n,T);return W?(W.feature=oo(n),W.defaultOptions=W.options,this.resetStyle(W),T.onEachFeature&&T.onEachFeature(n,W),this.addLayer(W)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=c({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(l){this._setLayerStyle(l,n)},this)},_setLayerStyle:function(n,l){n.setStyle&&(typeof l=="function"&&(l=l(n.feature)),n.setStyle(l))}});function $o(n,l){var p=n.type==="Feature"?n.geometry:n,y=p?p.coordinates:null,C=[],T=l&&l.pointToLayer,W=l&&l.coordsToLatLng||Xs,he,ge,Me,Xe;if(!y&&!p)return null;switch(p.type){case"Point":return he=W(y),Ys(T,n,he,l);case"MultiPoint":for(Me=0,Xe=y.length;Me<Xe;Me++)he=W(y[Me]),C.push(Ys(T,n,he,l));return new Bi(C);case"LineString":case"MultiLineString":return ge=ro(y,p.type==="LineString"?0:1,W),new Ai(ge,l);case"Polygon":case"MultiPolygon":return ge=ro(y,p.type==="Polygon"?1:2,W),new vi(ge,l);case"GeometryCollection":for(Me=0,Xe=p.geometries.length;Me<Xe;Me++){var ft=$o({geometry:p.geometries[Me],type:"Feature",properties:n.properties},l);ft&&C.push(ft)}return new Bi(C);case"FeatureCollection":for(Me=0,Xe=p.features.length;Me<Xe;Me++){var kt=$o(p.features[Me],l);kt&&C.push(kt)}return new Bi(C);default:throw new Error("Invalid GeoJSON object.")}}function Ys(n,l,p,y){return n?n(l,p):new Go(p,y&&y.markersInheritOptions&&y)}function Xs(n){return new Bt(n[1],n[0],n[2])}function ro(n,l,p){for(var y=[],C=0,T=n.length,W;C<T;C++)W=l?ro(n[C],l-1,p):(p||Xs)(n[C]),y.push(W);return y}function Qs(n,l){return n=mt(n),n.alt!==void 0?[P(n.lng,l),P(n.lat,l),P(n.alt,l)]:[P(n.lng,l),P(n.lat,l)]}function Uo(n,l,p,y){for(var C=[],T=0,W=n.length;T<W;T++)C.push(l?Uo(n[T],nn(n[T])?0:l-1,p,y):Qs(n[T],y));return!l&&p&&C.length>0&&C.push(C[0].slice()),C}function Pr(n,l){return n.feature?c({},n.feature,{geometry:l}):oo(l)}function oo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var so={toGeoJSON:function(n){return Pr(this,{type:"Point",coordinates:Qs(this.getLatLng(),n)})}};Go.include(so),Ti.include(so),io.include(so),Ai.include({toGeoJSON:function(n){var l=!nn(this._latlngs),p=Uo(this._latlngs,l?1:0,!1,n);return Pr(this,{type:(l?"Multi":"")+"LineString",coordinates:p})}}),vi.include({toGeoJSON:function(n){var l=!nn(this._latlngs),p=l&&!nn(this._latlngs[0]),y=Uo(this._latlngs,p?2:l?1:0,!0,n);return l||(y=[y]),Pr(this,{type:(p?"Multi":"")+"Polygon",coordinates:y})}}),Mr.include({toMultiPoint:function(n){var l=[];return this.eachLayer(function(p){l.push(p.toGeoJSON(n).geometry.coordinates)}),Pr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(n){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(n);var p=l==="GeometryCollection",y=[];return this.eachLayer(function(C){if(C.toGeoJSON){var T=C.toGeoJSON(n);if(p)y.push(T.geometry);else{var W=oo(T);W.type==="FeatureCollection"?y.push.apply(y,W.features):y.push(W)}}}),p?Pr(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function ea(n,l){return new Oi(n,l)}var ta=ea,Ho=ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,l,p){this._url=n,this._bounds=Ut(l),V(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&wr(this._image),this},bringToBack:function(){return this._map&&Xi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=Ut(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",l=this._image=n?this._url:Dt("img");if(bt(l,"leaflet-image-layer"),this._zoomAnimated&&bt(l,"leaflet-zoom-animated"),this.options.className&&bt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=u(this.fire,this,"load"),l.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(n){var l=this._map.getZoomScale(n.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Qi(this._image,p,l)},_reset:function(){var n=this._image,l=new St(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=l.getSize();hn(n,l.min),n.style.width=p.x+"px",n.style.height=p.y+"px"},_updateOpacity:function(){Xn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Zo=function(n,l,p){return new Ho(n,l,p)},na=Ho.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",l=this._image=n?this._url:Dt("video");if(bt(l,"leaflet-image-layer"),this._zoomAnimated&&bt(l,"leaflet-zoom-animated"),this.options.className&&bt(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=u(this.fire,this,"load"),n){for(var p=l.getElementsByTagName("source"),y=[],C=0;C<p.length;C++)y.push(p[C].src);this._url=p.length>0?y:[l.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var W=Dt("source");W.src=this._url[T],l.appendChild(W)}}});function Pc(n,l,p){return new na(n,l,p)}var Bl=Ho.extend({_initImage:function(){var n=this._image=this._url;bt(n,"leaflet-image-layer"),this._zoomAnimated&&bt(n,"leaflet-zoom-animated"),this.options.className&&bt(n,this.options.className),n.onselectstart=w,n.onmousemove=w}});function Bc(n,l,p){return new Bl(n,l,p)}var zn=ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,l){n&&(n instanceof Bt||z(n))?(this._latlng=mt(n),V(this,l)):(V(this,n),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Xn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Xn(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Xn(this._container,0),this._removeTimeout=setTimeout(u(Yt,void 0,this._container),200)):Yt(this._container),this.options.interactive&&(on(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=mt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wr(this._container),this},bringToBack:function(){return this._map&&Xi(this._container),this},_prepareOpen:function(n){var l=this._source;if(!l._map)return!1;if(l instanceof Bi){l=null;var p=this._source._layers;for(var y in p)if(p[y]._map){l=p[y];break}if(!l)return!1;this._source=l}if(!n)if(l.getCenter)n=l.getCenter();else if(l.getLatLng)n=l.getLatLng();else if(l.getBounds)n=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")n.innerHTML=l;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),l=ot(this.options.offset),p=this._getAnchor();this._zoomAnimated?hn(this._container,n.add(p)):l=l.add(n).add(p);var y=this._containerBottom=-l.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=y+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(n,l,p,y){var C=l;return C instanceof n||(C=new n(y).setContent(l)),p&&C.setLatLng(p),C}}),ci.include({_initOverlay:function(n,l,p,y){var C=p;return C instanceof n?(V(C,y),C._source=this):(C=l&&!y?l:new n(y,this),C.setContent(p)),C}});var qo=zn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,zn.prototype.openOn.call(this,n)},onAdd:function(n){zn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Nn||this._source.on("preclick",nr))},onRemove:function(n){zn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Nn||this._source.off("preclick",nr))},getEvents:function(){var n=zn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",l=this._container=Dt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Dt("div",n+"-content-wrapper",l);if(this._contentNode=Dt("div",n+"-content",p),Qr(l),$s(this._contentNode),yt(l,"contextmenu",nr),this._tipContainer=Dt("div",n+"-tip-container",l),this._tip=Dt("div",n+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Dt("a",n+"-close-button",l);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',yt(y,"click",function(C){kn(C),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,l=n.style;l.width="",l.whiteSpace="nowrap";var p=n.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),l.width=p+1+"px",l.whiteSpace="",l.height="";var y=n.offsetHeight,C=this.options.maxHeight,T="leaflet-popup-scrolled";C&&y>C?(l.height=C+"px",bt(n,T)):on(n,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),p=this._getAnchor();hn(this._container,l.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,l=parseInt(zi(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+l,y=this._containerWidth,C=new Pe(this._containerLeft,-p-this._containerBottom);C._add(er(this._container));var T=n.layerPointToContainerPoint(C),W=ot(this.options.autoPanPadding),he=ot(this.options.autoPanPaddingTopLeft||W),ge=ot(this.options.autoPanPaddingBottomRight||W),Me=n.getSize(),Xe=0,ft=0;T.x+y+ge.x>Me.x&&(Xe=T.x+y-Me.x+ge.x),T.x-Xe-he.x<0&&(Xe=T.x-he.x),T.y+p+ge.y>Me.y&&(ft=T.y+p-Me.y+ge.y),T.y-ft-he.y<0&&(ft=T.y-he.y),(Xe||ft)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([Xe,ft]))}},_getAnchor:function(){return ot(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tc=function(n,l){return new qo(n,l)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(n,l,p){return this._initOverlay(qo,n,l,p).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),ci.include({bindPopup:function(n,l){return this._popup=this._initOverlay(qo,this._popup,n,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){ir(n);var l=n.layer||n.target;if(this._popup._source===l&&!(l instanceof Nn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=l,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Ko=zn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){zn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){zn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=zn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",l=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Dt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var l,p,y=this._map,C=this._container,T=y.latLngToContainerPoint(y.getCenter()),W=y.layerPointToContainerPoint(n),he=this.options.direction,ge=C.offsetWidth,Me=C.offsetHeight,Xe=ot(this.options.offset),ft=this._getAnchor();he==="top"?(l=ge/2,p=Me):he==="bottom"?(l=ge/2,p=0):he==="center"?(l=ge/2,p=Me/2):he==="right"?(l=0,p=Me/2):he==="left"?(l=ge,p=Me/2):W.x<T.x?(he="right",l=0,p=Me/2):(he="left",l=ge+(Xe.x+ft.x)*2,p=Me/2),n=n.subtract(ot(l,p,!0)).add(Xe).add(ft),on(C,"leaflet-tooltip-right"),on(C,"leaflet-tooltip-left"),on(C,"leaflet-tooltip-top"),on(C,"leaflet-tooltip-bottom"),bt(C,"leaflet-tooltip-"+he),hn(C,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Xn(this._container,n)},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(l)},_getAnchor:function(){return ot(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ac=function(n,l){return new Ko(n,l)};Mt.include({openTooltip:function(n,l,p){return this._initOverlay(Ko,n,l,p).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),ci.include({bindTooltip:function(n,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ko,this._tooltip,n,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var l=n?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[l](p),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var l=typeof n.getElement=="function"&&n.getElement();l&&(yt(l,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),yt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var l=typeof n.getElement=="function"&&n.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var l=n.latlng,p,y;this._tooltip.options.sticky&&n.originalEvent&&(p=this._map.mouseEventToContainerPoint(n.originalEvent),y=this._map.containerPointToLayerPoint(p),l=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(l)}});var Tl=Sr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var l=n&&n.tagName==="DIV"?n:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Wr(l),l.appendChild(p.html)):l.innerHTML=p.html!==!1?p.html:"",p.bgPos){var y=ot(p.bgPos);l.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Oc(n){return new Tl(n)}Sr.Default=ar;var ao=ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:st.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){V(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Yt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof Pe?n:new Pe(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var l=this.getPane().children,p=-n(-1/0,1/0),y=0,C=l.length,T;y<C;y++)T=l[y].style.zIndex,l[y]!==this._container&&T&&(p=n(p,+T));isFinite(p)&&(this.options.zIndex=p+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!st.ielt9){Xn(this._container,this.options.opacity);var n=+new Date,l=!1,p=!1;for(var y in this._tiles){var C=this._tiles[y];if(!(!C.current||!C.loaded)){var T=Math.min(1,(n-C.loaded)/200);Xn(C.el,T),T<1?l=!0:(C.active?p=!0:this._onOpaqueTile(C),C.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),l&&(Re(this._fadeFrame),this._fadeFrame=We(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,l=this.options.maxZoom;if(n!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===n?(this._levels[p].el.style.zIndex=l-Math.abs(n-p),this._onUpdateLevel(p)):(Yt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var y=this._levels[n],C=this._map;return y||(y=this._levels[n]={},y.el=Dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=l,y.origin=C.project(C.unproject(C.getPixelOrigin()),n).round(),y.zoom=n,this._setZoomTransform(y,C.getCenter(),C.getZoom()),w(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var n,l,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)l=this._tiles[n],l.retain=l.current;for(n in this._tiles)if(l=this._tiles[n],l.current&&!l.active){var y=l.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var l in this._tiles)this._tiles[l].coords.z===n&&this._removeTile(l)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Yt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,l,p,y){var C=Math.floor(n/2),T=Math.floor(l/2),W=p-1,he=new Pe(+C,+T);he.z=+W;var ge=this._tileCoordsToKey(he),Me=this._tiles[ge];return Me&&Me.active?(Me.retain=!0,!0):(Me&&Me.loaded&&(Me.retain=!0),W>y?this._retainParent(C,T,W,y):!1)},_retainChildren:function(n,l,p,y){for(var C=2*n;C<2*n+2;C++)for(var T=2*l;T<2*l+2;T++){var W=new Pe(C,T);W.z=p+1;var he=this._tileCoordsToKey(W),ge=this._tiles[he];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);p+1<y&&this._retainChildren(C,T,p+1,y)}},_resetView:function(n){var l=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var l=this.options;return l.minNativeZoom!==void 0&&n<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<n?l.maxNativeZoom:n},_setView:function(n,l,p,y){var C=Math.round(l);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var T=this.options.updateWhenZooming&&C!==this._tileZoom;(!y||T)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(n),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(n,l)},_setZoomTransforms:function(n,l){for(var p in this._levels)this._setZoomTransform(this._levels[p],n,l)},_setZoomTransform:function(n,l,p){var y=this._map.getZoomScale(p,n.zoom),C=n.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(l,p)).round();st.any3d?Qi(n.el,C,y):hn(n.el,C)},_resetGrid:function(){var n=this._map,l=n.options.crs,p=this._tileSize=this.getTileSize(),y=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,l.wrapLng[0]],y).x/p.x),Math.ceil(n.project([0,l.wrapLng[1]],y).x/p.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([l.wrapLat[0],0],y).y/p.x),Math.ceil(n.project([l.wrapLat[1],0],y).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var l=this._map,p=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),y=l.getZoomScale(p,this._tileZoom),C=l.project(n,this._tileZoom).floor(),T=l.getSize().divideBy(y*2);return new St(C.subtract(T),C.add(T))},_update:function(n){var l=this._map;if(l){var p=this._clampZoom(l.getZoom());if(n===void 0&&(n=l.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(n),C=this._pxBoundsToTileRange(y),T=C.getCenter(),W=[],he=this.options.keepBuffer,ge=new St(C.getBottomLeft().subtract([he,-he]),C.getTopRight().add([he,-he]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Me in this._tiles){var Xe=this._tiles[Me].coords;(Xe.z!==this._tileZoom||!ge.contains(new Pe(Xe.x,Xe.y)))&&(this._tiles[Me].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(n,p);return}for(var ft=C.min.y;ft<=C.max.y;ft++)for(var kt=C.min.x;kt<=C.max.x;kt++){var In=new Pe(kt,ft);if(In.z=this._tileZoom,!!this._isValidTile(In)){var dn=this._tiles[this._tileCoordsToKey(In)];dn?dn.current=!0:W.push(In)}}if(W.sort(function(wn,Hi){return wn.distanceTo(T)-Hi.distanceTo(T)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pn=document.createDocumentFragment();for(kt=0;kt<W.length;kt++)this._addTile(W[kt],pn);this._level.el.appendChild(pn)}}}},_isValidTile:function(n){var l=this._map.options.crs;if(!l.infinite){var p=this._globalTileRange;if(!l.wrapLng&&(n.x<p.min.x||n.x>p.max.x)||!l.wrapLat&&(n.y<p.min.y||n.y>p.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(n);return Ut(this.options.bounds).overlaps(y)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var l=this._map,p=this.getTileSize(),y=n.scaleBy(p),C=y.add(p),T=l.unproject(y,n.z),W=l.unproject(C,n.z);return[T,W]},_tileCoordsToBounds:function(n){var l=this._tileCoordsToNwSe(n),p=new rn(l[0],l[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var l=n.split(":"),p=new Pe(+l[0],+l[1]);return p.z=+l[2],p},_removeTile:function(n){var l=this._tiles[n];l&&(Yt(l.el),delete this._tiles[n],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){bt(n,"leaflet-tile");var l=this.getTileSize();n.style.width=l.x+"px",n.style.height=l.y+"px",n.onselectstart=w,n.onmousemove=w,st.ielt9&&this.options.opacity<1&&Xn(n,this.options.opacity)},_addTile:function(n,l){var p=this._getTilePos(n),y=this._tileCoordsToKey(n),C=this.createTile(this._wrapCoords(n),u(this._tileReady,this,n));this._initTile(C),this.createTile.length<2&&We(u(this._tileReady,this,n,null,C)),hn(C,p),this._tiles[y]={el:C,coords:n,current:!0},l.appendChild(C),this.fire("tileloadstart",{tile:C,coords:n})},_tileReady:function(n,l,p){l&&this.fire("tileerror",{error:l,tile:p,coords:n});var y=this._tileCoordsToKey(n);p=this._tiles[y],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Xn(p.el,0),Re(this._fadeFrame),this._fadeFrame=We(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),l||(bt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),st.ielt9||!this._map._fadeAnimated?We(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var l=new Pe(this._wrapX?b(n.x,this._wrapX):n.x,this._wrapY?b(n.y,this._wrapY):n.y);return l.z=n.z,l},_pxBoundsToTileRange:function(n){var l=this.getTileSize();return new St(n.min.unscaleBy(l).floor(),n.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Rc(n){return new ao(n)}var lr=ao.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,l){this._url=n,l=V(this,l),l.detectRetina&&st.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,l){return this._url===n&&l===void 0&&(l=!0),this._url=n,l||this.redraw(),this},createTile:function(n,l){var p=document.createElement("img");return yt(p,"load",u(this._tileOnLoad,this,l,p)),yt(p,"error",u(this._tileOnError,this,l,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(n),p},getTileUrl:function(n){var l={r:st.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-n.y;this.options.tms&&(l.y=p),l["-y"]=p}return ee(this._url,c(l,this.options))},_tileOnLoad:function(n,l){st.ielt9?setTimeout(u(n,this,null,l),0):n(null,l)},_tileOnError:function(n,l,p){var y=this.options.errorTileUrl;y&&l.getAttribute("src")!==y&&(l.src=y),n(p,l)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,l=this.options.maxZoom,p=this.options.zoomReverse,y=this.options.zoomOffset;return p&&(n=l-n),n+y},_getSubdomain:function(n){var l=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var n,l;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(l=this._tiles[n].el,l.onload=w,l.onerror=w,!l.complete)){l.src=pe;var p=this._tiles[n].coords;Yt(l),delete this._tiles[n],this.fire("tileabort",{tile:l,coords:p})}},_removeTile:function(n){var l=this._tiles[n];if(l)return l.el.setAttribute("src",pe),ao.prototype._removeTile.call(this,n)},_tileReady:function(n,l,p){if(!(!this._map||p&&p.getAttribute("src")===pe))return ao.prototype._tileReady.call(this,n,l,p)}});function Wo(n,l){return new lr(n,l)}var Al=lr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,l){this._url=n;var p=c({},this.defaultWmsParams);for(var y in l)y in this.options||(p[y]=l[y]);l=V(this,l);var C=l.detectRetina&&st.retina?2:1,T=this.getTileSize();p.width=T.x*C,p.height=T.y*C,this.wmsParams=p},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,lr.prototype.onAdd.call(this,n)},getTileUrl:function(n){var l=this._tileCoordsToNwSe(n),p=this._crs,y=Nt(p.project(l[0]),p.project(l[1])),C=y.min,T=y.max,W=(this._wmsVersion>=1.3&&this._crs===Vo?[C.y,C.x,T.y,T.x]:[C.x,C.y,T.x,T.y]).join(","),he=lr.prototype.getTileUrl.call(this,n);return he+oe(this.wmsParams,he,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(n,l){return c(this.wmsParams,n),l||this.redraw(),this}});function Dc(n,l){return new Al(n,l)}lr.WMS=Al,Wo.wms=Dc;var bi=ci.extend({options:{padding:.1},initialize:function(n){V(this,n),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,l){var p=this._map.getZoomScale(l,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,l),T=y.multiplyBy(-p).add(C).subtract(this._map._getNewPixelOrigin(n,l));st.any3d?Qi(this._container,T,p):hn(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,l=this._map.getSize(),p=this._map.containerPointToLayerPoint(l.multiplyBy(-n)).round();this._bounds=new St(p,p.add(l.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jo=bi.extend({options:{tolerance:0},getEvents:function(){var n=bi.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){bi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");yt(n,"mousemove",this._onMouseMove,this),yt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),yt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Re(this._redrawRequest),delete this._ctx,Yt(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var l in this._layers)n=this._layers[l],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bi.prototype._update.call(this);var n=this._bounds,l=this._container,p=n.getSize(),y=st.retina?2:1;hn(l,n.min),l.width=y*p.x,l.height=y*p.y,l.style.width=p.x+"px",l.style.height=p.y+"px",st.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){bi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[_(n)]=n;var l=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var l=n._order,p=l.next,y=l.prev;p?p.prev=y:this._drawLast=y,y?y.next=p:this._drawFirst=p,delete n._order,delete this._layers[_(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var l=n.options.dashArray.split(/[, ]+/),p=[],y,C;for(C=0;C<l.length;C++){if(y=Number(l[C]),isNaN(y))return;p.push(y)}n.options._dashArray=p}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||We(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var l=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new St,this._redrawBounds.extend(n._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(n._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var l=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,l=this._redrawBounds;if(this._ctx.save(),l){var p=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)n=y.layer,(!l||n._pxBounds&&n._pxBounds.intersects(l))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,l){if(this._drawing){var p,y,C,T,W=n._parts,he=W.length,ge=this._ctx;if(he){for(ge.beginPath(),p=0;p<he;p++){for(y=0,C=W[p].length;y<C;y++)T=W[p][y],ge[y?"lineTo":"moveTo"](T.x,T.y);l&&ge.closePath()}this._fillStroke(ge,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var l=n._point,p=this._ctx,y=Math.max(Math.round(n._radius),1),C=(Math.max(Math.round(n._radiusY),1)||y)/y;C!==1&&(p.save(),p.scale(1,C)),p.beginPath(),p.arc(l.x,l.y/C,y,0,Math.PI*2,!1),C!==1&&p.restore(),this._fillStroke(p,n)}},_fillStroke:function(n,l){var p=l.options;p.fill&&(n.globalAlpha=p.fillOpacity,n.fillStyle=p.fillColor||p.color,n.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(n.setLineDash&&n.setLineDash(l.options&&l.options._dashArray||[]),n.globalAlpha=p.opacity,n.lineWidth=p.weight,n.strokeStyle=p.color,n.lineCap=p.lineCap,n.lineJoin=p.lineJoin,n.stroke())},_onClick:function(n){for(var l=this._map.mouseEventToLayerPoint(n),p,y,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(l)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(p))&&(y=p);this._fireEvent(y?[y]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,l)}},_handleMouseOut:function(n){var l=this._hoveredLayer;l&&(on(this._container,"leaflet-interactive"),this._fireEvent([l],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,l){if(!this._mouseHoverThrottled){for(var p,y,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(l)&&(y=p);y!==this._hoveredLayer&&(this._handleMouseOut(n),y&&(bt(this._container,"leaflet-interactive"),this._fireEvent([y],n,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,l,p){this._map._fireDOMEvent(l,p||l.type,n)},_bringToFront:function(n){var l=n._order;if(l){var p=l.next,y=l.prev;if(p)p.prev=y;else return;y?y.next=p:p&&(this._drawFirst=p),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(n)}},_bringToBack:function(n){var l=n._order;if(l){var p=l.next,y=l.prev;if(y)y.next=p;else return;p?p.prev=y:y&&(this._drawLast=y),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(n)}}});function Ol(n){return st.canvas?new Jo(n):null}var lo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ia={_initContainer:function(){this._container=Dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(bi.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var l=n._container=lo("shape");bt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",n._path=lo("path"),l.appendChild(n._path),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){var l=n._container;this._container.appendChild(l),n.options.interactive&&n.addInteractiveTarget(l)},_removePath:function(n){var l=n._container;Yt(l),n.removeInteractiveTarget(l),delete this._layers[_(n)]},_updateStyle:function(n){var l=n._stroke,p=n._fill,y=n.options,C=n._container;C.stroked=!!y.stroke,C.filled=!!y.fill,y.stroke?(l||(l=n._stroke=lo("stroke")),C.appendChild(l),l.weight=y.weight+"px",l.color=y.color,l.opacity=y.opacity,y.dashArray?l.dashStyle=z(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=y.lineCap.replace("butt","flat"),l.joinstyle=y.lineJoin):l&&(C.removeChild(l),n._stroke=null),y.fill?(p||(p=n._fill=lo("fill")),C.appendChild(p),p.color=y.fillColor||y.color,p.opacity=y.fillOpacity):p&&(C.removeChild(p),n._fill=null)},_updateCircle:function(n){var l=n._point.round(),p=Math.round(n._radius),y=Math.round(n._radiusY||p);this._setPath(n,n._empty()?"M0 0":"AL "+l.x+","+l.y+" "+p+","+y+" 0,"+65535*360)},_setPath:function(n,l){n._path.v=l},_bringToFront:function(n){wr(n._container)},_bringToBack:function(n){Xi(n._container)}},Dn=st.vml?lo:fe,xn=bi.extend({_initContainer:function(){this._container=Dn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Dn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yt(this._container),Zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bi.prototype._update.call(this);var n=this._bounds,l=n.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,p.setAttribute("width",l.x),p.setAttribute("height",l.y)),hn(p,n.min),p.setAttribute("viewBox",[n.min.x,n.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(n){var l=n._path=Dn("path");n.options.className&&bt(l,n.options.className),n.options.interactive&&bt(l,"leaflet-interactive"),this._updateStyle(n),this._layers[_(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Yt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[_(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var l=n._path,p=n.options;l&&(p.stroke?(l.setAttribute("stroke",p.color),l.setAttribute("stroke-opacity",p.opacity),l.setAttribute("stroke-width",p.weight),l.setAttribute("stroke-linecap",p.lineCap),l.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?l.setAttribute("stroke-dasharray",p.dashArray):l.removeAttribute("stroke-dasharray"),p.dashOffset?l.setAttribute("stroke-dashoffset",p.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),p.fill?(l.setAttribute("fill",p.fillColor||p.color),l.setAttribute("fill-opacity",p.fillOpacity),l.setAttribute("fill-rule",p.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(n,l){this._setPath(n,Te(n._parts,l))},_updateCircle:function(n){var l=n._point,p=Math.max(Math.round(n._radius),1),y=Math.max(Math.round(n._radiusY),1)||p,C="a"+p+","+y+" 0 1,0 ",T=n._empty()?"M0 0":"M"+(l.x-p)+","+l.y+C+p*2+",0 "+C+-p*2+",0 ";this._setPath(n,T)},_setPath:function(n,l){n._path.setAttribute("d",l)},_bringToFront:function(n){wr(n._path)},_bringToBack:function(n){Xi(n._path)}});st.vml&&xn.include(ia);function ra(n){return st.svg||st.vml?new xn(n):null}Mt.include({getRenderer:function(n){var l=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var l=this._paneRenderers[n];return l===void 0&&(l=this._createRenderer({pane:n}),this._paneRenderers[n]=l),l},_createRenderer:function(n){return this.options.preferCanvas&&Ol(n)||ra(n)}});var ti=vi.extend({initialize:function(n,l){vi.prototype.initialize.call(this,this._boundsToLatLngs(n),l)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=Ut(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function _t(n,l){return new ti(n,l)}xn.create=Dn,xn.pointsToPath=Te,Oi.geometryToLayer=$o,Oi.coordsToLatLng=Xs,Oi.coordsToLatLngs=ro,Oi.latLngToCoords=Qs,Oi.latLngsToCoords=Uo,Oi.getFeature=Pr,Oi.asFeature=oo,Mt.mergeOptions({boxZoom:!0});var Yo=yi.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Jr(),Is(),this._startPoint=this._map.mouseEventToContainerPoint(n),yt(document,{contextmenu:ir,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Dt("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var l=new St(this._point,this._startPoint),p=l.getSize();hn(this._box,l.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Yt(this._box),on(this._container,"leaflet-crosshair")),Yr(),Fs(),Zt(document,{contextmenu:ir,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var l=new rn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",Yo),Mt.mergeOptions({doubleClickZoom:!0});var Xo=yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var l=this._map,p=l.getZoom(),y=l.options.zoomDelta,C=n.originalEvent.shiftKey?p-y:p+y;l.options.doubleClickZoom==="center"?l.setZoom(C):l.setZoomAround(n.containerPoint,C)}});Mt.addInitHook("addHandler","doubleClickZoom",Xo),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ri=yi.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new $i(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){on(this._map._container,"leaflet-grab"),on(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Ut(this._map.options.maxBounds);this._offsetLimit=Nt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var l=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(l),this._prunePositions(l)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,l){return n-(n-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;n.x<l.min.x&&(n.x=this._viscousLimit(n.x,l.min.x)),n.y<l.min.y&&(n.y=this._viscousLimit(n.y,l.min.y)),n.x>l.max.x&&(n.x=this._viscousLimit(n.x,l.max.x)),n.y>l.max.y&&(n.y=this._viscousLimit(n.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,l=Math.round(n/2),p=this._initialWorldOffset,y=this._draggable._newPos.x,C=(y-l+p)%n+l-p,T=(y+l+p)%n-l-p,W=Math.abs(C+p)<Math.abs(T+p)?C:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(n){var l=this._map,p=l.options,y=!p.inertia||n.noInertia||this._times.length<2;if(l.fire("dragend",n),y)l.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,W=p.easeLinearity,he=C.multiplyBy(W/T),ge=he.distanceTo([0,0]),Me=Math.min(p.inertiaMaxSpeed,ge),Xe=he.multiplyBy(Me/ge),ft=Me/(p.inertiaDeceleration*W),kt=Xe.multiplyBy(-ft/2).round();!kt.x&&!kt.y?l.fire("moveend"):(kt=l._limitOffset(kt,l.options.maxBounds),We(function(){l.panBy(kt,{duration:ft,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",Ri),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _n=yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),yt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,l=document.documentElement,p=n.scrollTop||l.scrollTop,y=n.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(y,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var l=this._panKeys={},p=this.keyCodes,y,C;for(y=0,C=p.left.length;y<C;y++)l[p.left[y]]=[-1*n,0];for(y=0,C=p.right.length;y<C;y++)l[p.right[y]]=[n,0];for(y=0,C=p.down.length;y<C;y++)l[p.down[y]]=[0,n];for(y=0,C=p.up.length;y<C;y++)l[p.up[y]]=[0,-1*n]},_setZoomDelta:function(n){var l=this._zoomKeys={},p=this.keyCodes,y,C;for(y=0,C=p.zoomIn.length;y<C;y++)l[p.zoomIn[y]]=n;for(y=0,C=p.zoomOut.length;y<C;y++)l[p.zoomOut[y]]=-n},_addHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var l=n.keyCode,p=this._map,y;if(l in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(y=this._panKeys[l],n.shiftKey&&(y=ot(y).multiplyBy(3)),p.options.maxBounds&&(y=p._limitOffset(ot(y),p.options.maxBounds)),p.options.worldCopyJump){var C=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(y)));p.panTo(C)}else p.panBy(y)}else if(l in this._zoomKeys)p.setZoom(p.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;ir(n)}}});Mt.addInitHook("addHandler","keyboard",_n),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var oa=yi.extend({addHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var l=vl(n),p=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var y=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),y),ir(n)},_performZoom:function(){var n=this._map,l=n.getZoom(),p=this._map.options.zoomSnap||0;n._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,T=p?Math.ceil(C/p)*p:C,W=n._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,W&&(n.options.scrollWheelZoom==="center"?n.setZoom(l+W):n.setZoomAround(this._lastMousePos,l+W))}});Mt.addInitHook("addHandler","scrollWheelZoom",oa);var ni=600;Mt.mergeOptions({tapHold:st.touchNative&&st.safari&&st.mobile,tapTolerance:15});var Zn=yi.extend({addHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var l=n.touches[0];this._startPos=this._newPos=new Pe(l.clientX,l.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(yt(document,"touchend",kn),yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),ni),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Zt(document,"touchend",kn),Zt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)},_onMove:function(n){var l=n.touches[0];this._newPos=new Pe(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,l){var p=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});p._simulated=!0,l.target.dispatchEvent(p)}});Mt.addInitHook("addHandler","tapHold",Zn),Mt.mergeOptions({touchZoom:st.touch,bounceAtZoomLimits:!0});var Ui=yi.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){on(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var l=this._map;if(!(!n.touches||n.touches.length!==2||l._animatingZoom||this._zooming)){var p=l.mouseEventToContainerPoint(n.touches[0]),y=l.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(p.add(y)._divideBy(2))),this._startDist=p.distanceTo(y),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),kn(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var l=this._map,p=l.mouseEventToContainerPoint(n.touches[0]),y=l.mouseEventToContainerPoint(n.touches[1]),C=p.distanceTo(y)/this._startDist;if(this._zoom=l.getScaleZoom(C,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&C<1||this._zoom>l.getMaxZoom()&&C>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var T=p._add(y)._divideBy(2)._subtract(this._centerPoint);if(C===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Re(this._animRequest);var W=u(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=We(W,this,!0),kn(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Re(this._animRequest),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",Ui),Mt.BoxZoom=Yo,Mt.DoubleClickZoom=Xo,Mt.Drag=Ri,Mt.Keyboard=_n,Mt.ScrollWheelZoom=oa,Mt.TapHold=Zn,Mt.TouchZoom=Ui,i.Bounds=St,i.Browser=st,i.CRS=xe,i.Canvas=Jo,i.Circle=Ti,i.CircleMarker=io,i.Class=Ct,i.Control=Hn,i.DivIcon=Tl,i.DivOverlay=zn,i.DomEvent=yc,i.DomUtil=_c,i.Draggable=$i,i.Evented=it,i.FeatureGroup=Bi,i.GeoJSON=Oi,i.GridLayer=ao,i.Handler=yi,i.Icon=Sr,i.ImageOverlay=Ho,i.LatLng=Bt,i.LatLngBounds=rn,i.Layer=ci,i.LayerGroup=Mr,i.LineUtil=Lc,i.Map=Mt,i.Marker=Go,i.Mixin=bc,i.Path=Nn,i.Point=Pe,i.PolyUtil=xc,i.Polygon=vi,i.Polyline=Ai,i.Popup=qo,i.PosAnimation=bl,i.Projection=zo,i.Rectangle=ti,i.Renderer=bi,i.SVG=xn,i.SVGOverlay=Bl,i.TileLayer=lr,i.Tooltip=Ko,i.Transformation=Pt,i.Util=at,i.VideoOverlay=na,i.bind=u,i.bounds=Nt,i.canvas=Ol,i.circle=Mc,i.circleMarker=Ec,i.control=Vi,i.divIcon=Oc,i.extend=c,i.featureGroup=Cc,i.geoJSON=ea,i.geoJson=ta,i.gridLayer=Rc,i.icon=kc,i.imageOverlay=Zo,i.latLng=mt,i.latLngBounds=Ut,i.layerGroup=Ws,i.map=Tt,i.marker=Pl,i.point=ot,i.polygon=Sc,i.polyline=Js,i.popup=Tc,i.rectangle=_t,i.setOptions=V,i.stamp=_,i.svg=ra,i.svgOverlay=Bc,i.tileLayer=Wo,i.tooltip=Ac,i.transformation=jt,i.version=o,i.videoOverlay=Pc;var en=window.L;i.noConflict=function(){return window.L=en,this},window.L=i})})(Hh,Hh.exports);var LS=Hh.exports;const ii=wS(LS),CS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",kS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",ES="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",MS={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},SS={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},Ng={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},PS={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},BS=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:MS,CollectionObject:SS,Georeference:Ng,TypeMaterial:PS},Symbol.toStringTag,{value:"Module"})),TS={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},AS={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},OS={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},RS={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},Rf=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:TS,AssertedDistribution:AS,CollectionObject:OS,TypeMaterial:RS},Symbol.toStringTag,{value:"Module"})),Df=[i4,T_,r4,o4,s4];function If(e){const t=e.map(i=>i.type);return t.sort((i,o)=>Df.indexOf(i)-Df.indexOf(o)),t[0]}const DS=({L:e})=>({onEachFeature:(t,i)=>{i.pm.setOptions(Uh),i.pm.disable()},pointToLayer:(t,i)=>{const o=If(t.properties.base),c=BS[o]||Ng,s=e.marker(i,{icon:e.divIcon(c)});return s.pm.setOptions(Uh),s},style:t=>{var o;const i=If((o=t.properties)==null?void 0:o.base);if(Rf[i])return Rf[i]}});(()=>{var Nd,zd;var e=Object.create,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,c=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,u=(r,a)=>()=>(a||r((a={exports:{}}).exports,a),a.exports),f=(r,a,h,d)=>{if(a&&typeof a=="object"||typeof a=="function")for(let m of o(a))!s.call(r,m)&&m!==h&&t(r,m,{get:()=>a[m],enumerable:!(d=i(a,m))||d.enumerable});return r},_=(r,a,h)=>(h=r!=null?e(c(r)):{},f(a||!r||!r.__esModule?t(h,"default",{value:r,enumerable:!0}):h,r)),v=u((r,a)=>{function h(){this.__data__=[],this.size=0}a.exports=h}),b=u((r,a)=>{function h(d,m){return d===m||d!==d&&m!==m}a.exports=h}),w=u((r,a)=>{var h=b();function d(m,g){for(var x=m.length;x--;)if(h(m[x][0],g))return x;return-1}a.exports=d}),P=u((r,a)=>{var h=w(),d=Array.prototype,m=d.splice;function g(x){var k=this.__data__,E=h(k,x);if(E<0)return!1;var B=k.length-1;return E==B?k.pop():m.call(k,E,1),--this.size,!0}a.exports=g}),O=u((r,a)=>{var h=w();function d(m){var g=this.__data__,x=h(g,m);return x<0?void 0:g[x][1]}a.exports=d}),R=u((r,a)=>{var h=w();function d(m){return h(this.__data__,m)>-1}a.exports=d}),V=u((r,a)=>{var h=w();function d(m,g){var x=this.__data__,k=h(x,m);return k<0?(++this.size,x.push([m,g])):x[k][1]=g,this}a.exports=d}),oe=u((r,a)=>{var h=v(),d=P(),m=O(),g=R(),x=V();function k(E){var B=-1,Z=E==null?0:E.length;for(this.clear();++B<Z;){var G=E[B];this.set(G[0],G[1])}}k.prototype.clear=h,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=x,a.exports=k}),te=u((r,a)=>{var h=oe();function d(){this.__data__=new h,this.size=0}a.exports=d}),ee=u((r,a)=>{function h(d){var m=this.__data__,g=m.delete(d);return this.size=m.size,g}a.exports=h}),z=u((r,a)=>{function h(d){return this.__data__.get(d)}a.exports=h}),ne=u((r,a)=>{function h(d){return this.__data__.has(d)}a.exports=h}),pe=u((r,a)=>{var h=typeof hs=="object"&&hs&&hs.Object===Object&&hs;a.exports=h}),Se=u((r,a)=>{var h=pe(),d=typeof self=="object"&&self&&self.Object===Object&&self,m=h||d||Function("return this")();a.exports=m}),Ne=u((r,a)=>{var h=Se(),d=h.Symbol;a.exports=d}),Le=u((r,a)=>{var h=Ne(),d=Object.prototype,m=d.hasOwnProperty,g=d.toString,x=h?h.toStringTag:void 0;function k(E){var B=m.call(E,x),Z=E[x];try{E[x]=void 0;var G=!0}catch{}var ce=g.call(E);return G&&(B?E[x]=Z:delete E[x]),ce}a.exports=k}),Ce=u((r,a)=>{var h=Object.prototype,d=h.toString;function m(g){return d.call(g)}a.exports=m}),Fe=u((r,a)=>{var h=Ne(),d=Le(),m=Ce(),g="[object Null]",x="[object Undefined]",k=h?h.toStringTag:void 0;function E(B){return B==null?B===void 0?x:g:k&&k in Object(B)?d(B):m(B)}a.exports=E}),We=u((r,a)=>{function h(d){var m=typeof d;return d!=null&&(m=="object"||m=="function")}a.exports=h}),Re=u((r,a)=>{var h=Fe(),d=We(),m="[object AsyncFunction]",g="[object Function]",x="[object GeneratorFunction]",k="[object Proxy]";function E(B){if(!d(B))return!1;var Z=h(B);return Z==g||Z==x||Z==m||Z==k}a.exports=E}),at=u((r,a)=>{var h=Se(),d=h["__core-js_shared__"];a.exports=d}),Ct=u((r,a)=>{var h=at(),d=function(){var g=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function m(g){return!!d&&d in g}a.exports=m}),$t=u((r,a)=>{var h=Function.prototype,d=h.toString;function m(g){if(g!=null){try{return d.call(g)}catch{}try{return g+""}catch{}}return""}a.exports=m}),qe=u((r,a)=>{var h=Re(),d=Ct(),m=We(),g=$t(),x=/[\\^$.*+?()[\]{}|]/g,k=/^\[object .+?Constructor\]$/,E=Function.prototype,B=Object.prototype,Z=E.toString,G=B.hasOwnProperty,ce=RegExp("^"+Z.call(G).replace(x,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _e(Oe){if(!m(Oe)||d(Oe))return!1;var Je=h(Oe)?ce:k;return Je.test(g(Oe))}a.exports=_e}),it=u((r,a)=>{function h(d,m){return d==null?void 0:d[m]}a.exports=h}),Pe=u((r,a)=>{var h=qe(),d=it();function m(g,x){var k=d(g,x);return h(k)?k:void 0}a.exports=m}),Qt=u((r,a)=>{var h=Pe(),d=Se(),m=h(d,"Map");a.exports=m}),ot=u((r,a)=>{var h=Pe(),d=h(Object,"create");a.exports=d}),St=u((r,a)=>{var h=ot();function d(){this.__data__=h?h(null):{},this.size=0}a.exports=d}),Nt=u((r,a)=>{function h(d){var m=this.has(d)&&delete this.__data__[d];return this.size-=m?1:0,m}a.exports=h}),rn=u((r,a)=>{var h=ot(),d="__lodash_hash_undefined__",m=Object.prototype,g=m.hasOwnProperty;function x(k){var E=this.__data__;if(h){var B=E[k];return B===d?void 0:B}return g.call(E,k)?E[k]:void 0}a.exports=x}),Ut=u((r,a)=>{var h=ot(),d=Object.prototype,m=d.hasOwnProperty;function g(x){var k=this.__data__;return h?k[x]!==void 0:m.call(k,x)}a.exports=g}),Bt=u((r,a)=>{var h=ot(),d="__lodash_hash_undefined__";function m(g,x){var k=this.__data__;return this.size+=this.has(g)?0:1,k[g]=h&&x===void 0?d:x,this}a.exports=m}),mt=u((r,a)=>{var h=St(),d=Nt(),m=rn(),g=Ut(),x=Bt();function k(E){var B=-1,Z=E==null?0:E.length;for(this.clear();++B<Z;){var G=E[B];this.set(G[0],G[1])}}k.prototype.clear=h,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=x,a.exports=k}),xe=u((r,a)=>{var h=mt(),d=oe(),m=Qt();function g(){this.size=0,this.__data__={hash:new h,map:new(m||d),string:new h}}a.exports=g}),Ke=u((r,a)=>{function h(d){var m=typeof d;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?d!=="__proto__":d===null}a.exports=h}),Ue=u((r,a)=>{var h=Ke();function d(m,g){var x=m.__data__;return h(g)?x[typeof g=="string"?"string":"hash"]:x.map}a.exports=d}),tt=u((r,a)=>{var h=Ue();function d(m){var g=h(this,m).delete(m);return this.size-=g?1:0,g}a.exports=d}),Pt=u((r,a)=>{var h=Ue();function d(m){return h(this,m).get(m)}a.exports=d}),jt=u((r,a)=>{var h=Ue();function d(m){return h(this,m).has(m)}a.exports=d}),$=u((r,a)=>{var h=Ue();function d(m,g){var x=h(this,m),k=x.size;return x.set(m,g),this.size+=x.size==k?0:1,this}a.exports=d}),K=u((r,a)=>{var h=xe(),d=tt(),m=Pt(),g=jt(),x=$();function k(E){var B=-1,Z=E==null?0:E.length;for(this.clear();++B<Z;){var G=E[B];this.set(G[0],G[1])}}k.prototype.clear=h,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=x,a.exports=k}),fe=u((r,a)=>{var h=oe(),d=Qt(),m=K(),g=200;function x(k,E){var B=this.__data__;if(B instanceof h){var Z=B.__data__;if(!d||Z.length<g-1)return Z.push([k,E]),this.size=++B.size,this;B=this.__data__=new m(Z)}return B.set(k,E),this.size=B.size,this}a.exports=x}),Te=u((r,a)=>{var h=oe(),d=te(),m=ee(),g=z(),x=ne(),k=fe();function E(B){var Z=this.__data__=new h(B);this.size=Z.size}E.prototype.clear=d,E.prototype.delete=m,E.prototype.get=g,E.prototype.has=x,E.prototype.set=k,a.exports=E}),we=u((r,a)=>{var h=Pe(),d=function(){try{var m=h(Object,"defineProperty");return m({},"",{}),m}catch{}}();a.exports=d}),Ae=u((r,a)=>{var h=we();function d(m,g,x){g=="__proto__"&&h?h(m,g,{configurable:!0,enumerable:!0,value:x,writable:!0}):m[g]=x}a.exports=d}),He=u((r,a)=>{var h=Ae(),d=b();function m(g,x,k){(k!==void 0&&!d(g[x],k)||k===void 0&&!(x in g))&&h(g,x,k)}a.exports=m}),$e=u((r,a)=>{function h(d){return function(m,g,x){for(var k=-1,E=Object(m),B=x(m),Z=B.length;Z--;){var G=B[d?Z:++k];if(g(E[G],G,E)===!1)break}return m}}a.exports=h}),Ve=u((r,a)=>{var h=$e(),d=h();a.exports=d}),De=u((r,a)=>{var h=Se(),d=typeof r=="object"&&r&&!r.nodeType&&r,m=d&&typeof a=="object"&&a&&!a.nodeType&&a,g=m&&m.exports===d,x=g?h.Buffer:void 0,k=x?x.allocUnsafe:void 0;function E(B,Z){if(Z)return B.slice();var G=B.length,ce=k?k(G):new B.constructor(G);return B.copy(ce),ce}a.exports=E}),ht=u((r,a)=>{var h=Se(),d=h.Uint8Array;a.exports=d}),Ye=u((r,a)=>{var h=ht();function d(m){var g=new m.constructor(m.byteLength);return new h(g).set(new h(m)),g}a.exports=d}),rt=u((r,a)=>{var h=Ye();function d(m,g){var x=g?h(m.buffer):m.buffer;return new m.constructor(x,m.byteOffset,m.length)}a.exports=d}),pt=u((r,a)=>{function h(d,m){var g=-1,x=d.length;for(m||(m=Array(x));++g<x;)m[g]=d[g];return m}a.exports=h}),Et=u((r,a)=>{var h=We(),d=Object.create,m=function(){function g(){}return function(x){if(!h(x))return{};if(d)return d(x);g.prototype=x;var k=new g;return g.prototype=void 0,k}}();a.exports=m}),zt=u((r,a)=>{function h(d,m){return function(g){return d(m(g))}}a.exports=h}),Rt=u((r,a)=>{var h=zt(),d=h(Object.getPrototypeOf,Object);a.exports=d}),Cn=u((r,a)=>{var h=Object.prototype;function d(m){var g=m&&m.constructor,x=typeof g=="function"&&g.prototype||h;return m===x}a.exports=d}),mn=u((r,a)=>{var h=Et(),d=Rt(),m=Cn();function g(x){return typeof x.constructor=="function"&&!m(x)?h(d(x)):{}}a.exports=g}),vn=u((r,a)=>{function h(d){return d!=null&&typeof d=="object"}a.exports=h}),Bn=u((r,a)=>{var h=Fe(),d=vn(),m="[object Arguments]";function g(x){return d(x)&&h(x)==m}a.exports=g}),_i=u((r,a)=>{var h=Bn(),d=vn(),m=Object.prototype,g=m.hasOwnProperty,x=m.propertyIsEnumerable,k=h(function(){return arguments}())?h:function(E){return d(E)&&g.call(E,"callee")&&!x.call(E,"callee")};a.exports=k}),Pi=u((r,a)=>{var h=Array.isArray;a.exports=h}),Tn=u((r,a)=>{var h=9007199254740991;function d(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=h}a.exports=d}),bn=u((r,a)=>{var h=Re(),d=Tn();function m(g){return g!=null&&d(g.length)&&!h(g)}a.exports=m}),To=u((r,a)=>{var h=bn(),d=vn();function m(g){return d(g)&&h(g)}a.exports=m}),Xu=u((r,a)=>{function h(){return!1}a.exports=h}),Ms=u((r,a)=>{var h=Se(),d=Xu(),m=typeof r=="object"&&r&&!r.nodeType&&r,g=m&&typeof a=="object"&&a&&!a.nodeType&&a,x=g&&g.exports===m,k=x?h.Buffer:void 0,E=k?k.isBuffer:void 0,B=E||d;a.exports=B}),il=u((r,a)=>{var h=Fe(),d=Rt(),m=vn(),g="[object Object]",x=Function.prototype,k=Object.prototype,E=x.toString,B=k.hasOwnProperty,Z=E.call(Object);function G(ce){if(!m(ce)||h(ce)!=g)return!1;var _e=d(ce);if(_e===null)return!0;var Oe=B.call(_e,"constructor")&&_e.constructor;return typeof Oe=="function"&&Oe instanceof Oe&&E.call(Oe)==Z}a.exports=G}),rl=u((r,a)=>{var h=Fe(),d=Tn(),m=vn(),g="[object Arguments]",x="[object Array]",k="[object Boolean]",E="[object Date]",B="[object Error]",Z="[object Function]",G="[object Map]",ce="[object Number]",_e="[object Object]",Oe="[object RegExp]",Je="[object Set]",et="[object String]",At="[object WeakMap]",H="[object ArrayBuffer]",Y="[object DataView]",re="[object Float32Array]",me="[object Float64Array]",ae="[object Int8Array]",de="[object Int16Array]",M="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]",j={};j[re]=j[me]=j[ae]=j[de]=j[M]=j[A]=j[I]=j[D]=j[F]=!0,j[g]=j[x]=j[H]=j[k]=j[Y]=j[E]=j[B]=j[Z]=j[G]=j[ce]=j[_e]=j[Oe]=j[Je]=j[et]=j[At]=!1;function Q(X){return m(X)&&d(X.length)&&!!j[h(X)]}a.exports=Q}),Qu=u((r,a)=>{function h(d){return function(m){return d(m)}}a.exports=h}),ec=u((r,a)=>{var h=pe(),d=typeof r=="object"&&r&&!r.nodeType&&r,m=d&&typeof a=="object"&&a&&!a.nodeType&&a,g=m&&m.exports===d,x=g&&h.process,k=function(){try{var E=m&&m.require&&m.require("util").types;return E||x&&x.binding&&x.binding("util")}catch{}}();a.exports=k}),ol=u((r,a)=>{var h=rl(),d=Qu(),m=ec(),g=m&&m.isTypedArray,x=g?d(g):h;a.exports=x}),sl=u((r,a)=>{function h(d,m){if(!(m==="constructor"&&typeof d[m]=="function")&&m!="__proto__")return d[m]}a.exports=h}),tc=u((r,a)=>{var h=Ae(),d=b(),m=Object.prototype,g=m.hasOwnProperty;function x(k,E,B){var Z=k[E];(!(g.call(k,E)&&d(Z,B))||B===void 0&&!(E in k))&&h(k,E,B)}a.exports=x}),nc=u((r,a)=>{var h=tc(),d=Ae();function m(g,x,k,E){var B=!k;k||(k={});for(var Z=-1,G=x.length;++Z<G;){var ce=x[Z],_e=E?E(k[ce],g[ce],ce,k,g):void 0;_e===void 0&&(_e=g[ce]),B?d(k,ce,_e):h(k,ce,_e)}return k}a.exports=m}),Ss=u((r,a)=>{function h(d,m){for(var g=-1,x=Array(d);++g<d;)x[g]=m(g);return x}a.exports=h}),al=u((r,a)=>{var h=9007199254740991,d=/^(?:0|[1-9]\d*)$/;function m(g,x){var k=typeof g;return x=x??h,!!x&&(k=="number"||k!="symbol"&&d.test(g))&&g>-1&&g%1==0&&g<x}a.exports=m}),ic=u((r,a)=>{var h=Ss(),d=_i(),m=Pi(),g=Ms(),x=al(),k=ol(),E=Object.prototype,B=E.hasOwnProperty;function Z(G,ce){var _e=m(G),Oe=!_e&&d(G),Je=!_e&&!Oe&&g(G),et=!_e&&!Oe&&!Je&&k(G),At=_e||Oe||Je||et,H=At?h(G.length,String):[],Y=H.length;for(var re in G)(ce||B.call(G,re))&&!(At&&(re=="length"||Je&&(re=="offset"||re=="parent")||et&&(re=="buffer"||re=="byteLength"||re=="byteOffset")||x(re,Y)))&&H.push(re);return H}a.exports=Z}),rc=u((r,a)=>{function h(d){var m=[];if(d!=null)for(var g in Object(d))m.push(g);return m}a.exports=h}),oc=u((r,a)=>{var h=We(),d=Cn(),m=rc(),g=Object.prototype,x=g.hasOwnProperty;function k(E){if(!h(E))return m(E);var B=d(E),Z=[];for(var G in E)G=="constructor"&&(B||!x.call(E,G))||Z.push(G);return Z}a.exports=k}),li=u((r,a)=>{var h=ic(),d=oc(),m=bn();function g(x){return m(x)?h(x,!0):d(x)}a.exports=g}),st=u((r,a)=>{var h=nc(),d=li();function m(g){return h(g,d(g))}a.exports=m}),ll=u((r,a)=>{var h=He(),d=De(),m=rt(),g=pt(),x=mn(),k=_i(),E=Pi(),B=To(),Z=Ms(),G=Re(),ce=We(),_e=il(),Oe=ol(),Je=sl(),et=st();function At(H,Y,re,me,ae,de,M){var A=Je(H,re),I=Je(Y,re),D=M.get(I);if(D){h(H,re,D);return}var F=de?de(A,I,re+"",H,Y,M):void 0,j=F===void 0;if(j){var Q=E(I),X=!Q&&Z(I),ie=!Q&&!X&&Oe(I);F=I,Q||X||ie?E(A)?F=A:B(A)?F=g(A):X?(j=!1,F=d(I,!0)):ie?(j=!1,F=m(I,!0)):F=[]:_e(I)||k(I)?(F=A,k(A)?F=et(A):(!ce(A)||G(A))&&(F=x(I))):j=!1}j&&(M.set(I,F),ae(F,I,me,de,M),M.delete(I)),h(H,re,F)}a.exports=At}),ul=u((r,a)=>{var h=Te(),d=He(),m=Ve(),g=ll(),x=We(),k=li(),E=sl();function B(Z,G,ce,_e,Oe){Z!==G&&m(G,function(Je,et){if(Oe||(Oe=new h),x(Je))g(Z,G,et,ce,B,_e,Oe);else{var At=_e?_e(E(Z,et),Je,et+"",Z,G,Oe):void 0;At===void 0&&(At=Je),d(Z,et,At)}},k)}a.exports=B}),Ps=u((r,a)=>{function h(d){return d}a.exports=h}),cl=u((r,a)=>{function h(d,m,g){switch(g.length){case 0:return d.call(m);case 1:return d.call(m,g[0]);case 2:return d.call(m,g[0],g[1]);case 3:return d.call(m,g[0],g[1],g[2])}return d.apply(m,g)}a.exports=h}),Bs=u((r,a)=>{var h=cl(),d=Math.max;function m(g,x,k){return x=d(x===void 0?g.length-1:x,0),function(){for(var E=arguments,B=-1,Z=d(E.length-x,0),G=Array(Z);++B<Z;)G[B]=E[x+B];B=-1;for(var ce=Array(x+1);++B<x;)ce[B]=E[B];return ce[x]=k(G),h(g,this,ce)}}a.exports=m}),hl=u((r,a)=>{function h(d){return function(){return d}}a.exports=h}),xr=u((r,a)=>{var h=hl(),d=we(),m=Ps(),g=d?function(x,k){return d(x,"toString",{configurable:!0,enumerable:!1,value:h(k),writable:!0})}:m;a.exports=g}),dl=u((r,a)=>{var h=800,d=16,m=Date.now;function g(x){var k=0,E=0;return function(){var B=m(),Z=d-(B-E);if(E=B,Z>0){if(++k>=h)return arguments[0]}else k=0;return x.apply(void 0,arguments)}}a.exports=g}),sc=u((r,a)=>{var h=xr(),d=dl(),m=d(h);a.exports=m}),ac=u((r,a)=>{var h=Ps(),d=Bs(),m=sc();function g(x,k){return m(d(x,k,h),x+"")}a.exports=g}),lc=u((r,a)=>{var h=b(),d=bn(),m=al(),g=We();function x(k,E,B){if(!g(B))return!1;var Z=typeof E;return(Z=="number"?d(B)&&m(E,B.length):Z=="string"&&E in B)?h(B[E],k):!1}a.exports=x}),uc=u((r,a)=>{var h=ac(),d=lc();function m(g){return h(function(x,k){var E=-1,B=k.length,Z=B>1?k[B-1]:void 0,G=B>2?k[2]:void 0;for(Z=g.length>3&&typeof Z=="function"?(B--,Z):void 0,G&&d(k[0],k[1],G)&&(Z=B<3?void 0:Z,B=1),x=Object(x);++E<B;){var ce=k[E];ce&&g(x,ce,E,Z)}return x})}a.exports=m}),Ao=u((r,a)=>{var h=ul(),d=uc(),m=d(function(g,x,k){h(g,x,k)});a.exports=m}),Ts=u((r,a)=>{var h=Fe(),d=vn(),m="[object Symbol]";function g(x){return typeof x=="symbol"||d(x)&&h(x)==m}a.exports=g}),Oo=u((r,a)=>{var h=Pi(),d=Ts(),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function x(k,E){if(h(k))return!1;var B=typeof k;return B=="number"||B=="symbol"||B=="boolean"||k==null||d(k)?!0:g.test(k)||!m.test(k)||E!=null&&k in Object(E)}a.exports=x}),cc=u((r,a)=>{var h=K(),d="Expected a function";function m(g,x){if(typeof g!="function"||x!=null&&typeof x!="function")throw new TypeError(d);var k=function(){var E=arguments,B=x?x.apply(this,E):E[0],Z=k.cache;if(Z.has(B))return Z.get(B);var G=g.apply(this,E);return k.cache=Z.set(B,G)||Z,G};return k.cache=new(m.Cache||h),k}m.Cache=h,a.exports=m}),hc=u((r,a)=>{var h=cc(),d=500;function m(g){var x=h(g,function(E){return k.size===d&&k.clear(),E}),k=x.cache;return x}a.exports=m}),dc=u((r,a)=>{var h=hc(),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=h(function(x){var k=[];return x.charCodeAt(0)===46&&k.push(""),x.replace(d,function(E,B,Z,G){k.push(Z?G.replace(m,"$1"):B||E)}),k});a.exports=g}),pc=u((r,a)=>{function h(d,m){for(var g=-1,x=d==null?0:d.length,k=Array(x);++g<x;)k[g]=m(d[g],g,d);return k}a.exports=h}),fc=u((r,a)=>{var h=Ne(),d=pc(),m=Pi(),g=Ts(),x=1/0,k=h?h.prototype:void 0,E=k?k.toString:void 0;function B(Z){if(typeof Z=="string")return Z;if(m(Z))return d(Z,B)+"";if(g(Z))return E?E.call(Z):"";var G=Z+"";return G=="0"&&1/Z==-x?"-0":G}a.exports=B}),As=u((r,a)=>{var h=fc();function d(m){return m==null?"":h(m)}a.exports=d}),Kr=u((r,a)=>{var h=Pi(),d=Oo(),m=dc(),g=As();function x(k,E){return h(k)?k:d(k,E)?[k]:m(g(k))}a.exports=x}),pl=u((r,a)=>{var h=Ts(),d=1/0;function m(g){if(typeof g=="string"||h(g))return g;var x=g+"";return x=="0"&&1/g==-d?"-0":x}a.exports=m}),fl=u((r,a)=>{var h=Kr(),d=pl();function m(g,x){x=h(x,g);for(var k=0,E=x.length;g!=null&&k<E;)g=g[d(x[k++])];return k&&k==E?g:void 0}a.exports=m}),zi=u((r,a)=>{var h=fl();function d(m,g,x){var k=m==null?void 0:h(m,g);return k===void 0?x:k}a.exports=d}),Dt=u((r,a)=>{(function(h,d){typeof r=="object"&&typeof a<"u"?a.exports=d():(h=h||self).RBush=d()})(r,function(){function h(H,Y,re,me,ae){(function de(M,A,I,D,F){for(;D>I;){if(D-I>600){var j=D-I+1,Q=A-I+1,X=Math.log(j),ie=.5*Math.exp(2*X/3),ue=.5*Math.sqrt(X*ie*(j-ie)/j)*(Q-j/2<0?-1:1),le=Math.max(I,Math.floor(A-Q*ie/j+ue)),ke=Math.min(D,Math.floor(A+(j-Q)*ie/j+ue));de(M,A,le,ke,F)}var Qe=M[A],nt=I,ct=D;for(d(M,I,A),F(M[D],Qe)>0&&d(M,I,D);nt<ct;){for(d(M,nt,ct),nt++,ct--;F(M[nt],Qe)<0;)nt++;for(;F(M[ct],Qe)>0;)ct--}F(M[I],Qe)===0?d(M,I,ct):d(M,++ct,D),ct<=A&&(I=ct+1),A<=ct&&(D=ct-1)}})(H,Y,re||0,me||H.length-1,ae||m)}function d(H,Y,re){var me=H[Y];H[Y]=H[re],H[re]=me}function m(H,Y){return H<Y?-1:H>Y?1:0}var g=function(H){H===void 0&&(H=9),this._maxEntries=Math.max(4,H),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function x(H,Y,re){if(!re)return Y.indexOf(H);for(var me=0;me<Y.length;me++)if(re(H,Y[me]))return me;return-1}function k(H,Y){E(H,0,H.children.length,Y,H)}function E(H,Y,re,me,ae){ae||(ae=et(null)),ae.minX=1/0,ae.minY=1/0,ae.maxX=-1/0,ae.maxY=-1/0;for(var de=Y;de<re;de++){var M=H.children[de];B(ae,H.leaf?me(M):M)}return ae}function B(H,Y){return H.minX=Math.min(H.minX,Y.minX),H.minY=Math.min(H.minY,Y.minY),H.maxX=Math.max(H.maxX,Y.maxX),H.maxY=Math.max(H.maxY,Y.maxY),H}function Z(H,Y){return H.minX-Y.minX}function G(H,Y){return H.minY-Y.minY}function ce(H){return(H.maxX-H.minX)*(H.maxY-H.minY)}function _e(H){return H.maxX-H.minX+(H.maxY-H.minY)}function Oe(H,Y){return H.minX<=Y.minX&&H.minY<=Y.minY&&Y.maxX<=H.maxX&&Y.maxY<=H.maxY}function Je(H,Y){return Y.minX<=H.maxX&&Y.minY<=H.maxY&&Y.maxX>=H.minX&&Y.maxY>=H.minY}function et(H){return{children:H,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function At(H,Y,re,me,ae){for(var de=[Y,re];de.length;)if(!((re=de.pop())-(Y=de.pop())<=me)){var M=Y+Math.ceil((re-Y)/me/2)*me;h(H,M,Y,re,ae),de.push(Y,M,M,re)}}return g.prototype.all=function(){return this._all(this.data,[])},g.prototype.search=function(H){var Y=this.data,re=[];if(!Je(H,Y))return re;for(var me=this.toBBox,ae=[];Y;){for(var de=0;de<Y.children.length;de++){var M=Y.children[de],A=Y.leaf?me(M):M;Je(H,A)&&(Y.leaf?re.push(M):Oe(H,A)?this._all(M,re):ae.push(M))}Y=ae.pop()}return re},g.prototype.collides=function(H){var Y=this.data;if(!Je(H,Y))return!1;for(var re=[];Y;){for(var me=0;me<Y.children.length;me++){var ae=Y.children[me],de=Y.leaf?this.toBBox(ae):ae;if(Je(H,de)){if(Y.leaf||Oe(H,de))return!0;re.push(ae)}}Y=re.pop()}return!1},g.prototype.load=function(H){if(!H||!H.length)return this;if(H.length<this._minEntries){for(var Y=0;Y<H.length;Y++)this.insert(H[Y]);return this}var re=this._build(H.slice(),0,H.length-1,0);if(this.data.children.length)if(this.data.height===re.height)this._splitRoot(this.data,re);else{if(this.data.height<re.height){var me=this.data;this.data=re,re=me}this._insert(re,this.data.height-re.height-1,!0)}else this.data=re;return this},g.prototype.insert=function(H){return H&&this._insert(H,this.data.height-1),this},g.prototype.clear=function(){return this.data=et([]),this},g.prototype.remove=function(H,Y){if(!H)return this;for(var re,me,ae,de=this.data,M=this.toBBox(H),A=[],I=[];de||A.length;){if(de||(de=A.pop(),me=A[A.length-1],re=I.pop(),ae=!0),de.leaf){var D=x(H,de.children,Y);if(D!==-1)return de.children.splice(D,1),A.push(de),this._condense(A),this}ae||de.leaf||!Oe(de,M)?me?(re++,de=me.children[re],ae=!1):de=null:(A.push(de),I.push(re),re=0,me=de,de=de.children[0])}return this},g.prototype.toBBox=function(H){return H},g.prototype.compareMinX=function(H,Y){return H.minX-Y.minX},g.prototype.compareMinY=function(H,Y){return H.minY-Y.minY},g.prototype.toJSON=function(){return this.data},g.prototype.fromJSON=function(H){return this.data=H,this},g.prototype._all=function(H,Y){for(var re=[];H;)H.leaf?Y.push.apply(Y,H.children):re.push.apply(re,H.children),H=re.pop();return Y},g.prototype._build=function(H,Y,re,me){var ae,de=re-Y+1,M=this._maxEntries;if(de<=M)return k(ae=et(H.slice(Y,re+1)),this.toBBox),ae;me||(me=Math.ceil(Math.log(de)/Math.log(M)),M=Math.ceil(de/Math.pow(M,me-1))),(ae=et([])).leaf=!1,ae.height=me;var A=Math.ceil(de/M),I=A*Math.ceil(Math.sqrt(M));At(H,Y,re,I,this.compareMinX);for(var D=Y;D<=re;D+=I){var F=Math.min(D+I-1,re);At(H,D,F,A,this.compareMinY);for(var j=D;j<=F;j+=A){var Q=Math.min(j+A-1,F);ae.children.push(this._build(H,j,Q,me-1))}}return k(ae,this.toBBox),ae},g.prototype._chooseSubtree=function(H,Y,re,me){for(;me.push(Y),!Y.leaf&&me.length-1!==re;){for(var ae=1/0,de=1/0,M=void 0,A=0;A<Y.children.length;A++){var I=Y.children[A],D=ce(I),F=(j=H,Q=I,(Math.max(Q.maxX,j.maxX)-Math.min(Q.minX,j.minX))*(Math.max(Q.maxY,j.maxY)-Math.min(Q.minY,j.minY))-D);F<de?(de=F,ae=D<ae?D:ae,M=I):F===de&&D<ae&&(ae=D,M=I)}Y=M||Y.children[0]}var j,Q;return Y},g.prototype._insert=function(H,Y,re){var me=re?H:this.toBBox(H),ae=[],de=this._chooseSubtree(me,this.data,Y,ae);for(de.children.push(H),B(de,me);Y>=0&&ae[Y].children.length>this._maxEntries;)this._split(ae,Y),Y--;this._adjustParentBBoxes(me,ae,Y)},g.prototype._split=function(H,Y){var re=H[Y],me=re.children.length,ae=this._minEntries;this._chooseSplitAxis(re,ae,me);var de=this._chooseSplitIndex(re,ae,me),M=et(re.children.splice(de,re.children.length-de));M.height=re.height,M.leaf=re.leaf,k(re,this.toBBox),k(M,this.toBBox),Y?H[Y-1].children.push(M):this._splitRoot(re,M)},g.prototype._splitRoot=function(H,Y){this.data=et([H,Y]),this.data.height=H.height+1,this.data.leaf=!1,k(this.data,this.toBBox)},g.prototype._chooseSplitIndex=function(H,Y,re){for(var me,ae,de,M,A,I,D,F=1/0,j=1/0,Q=Y;Q<=re-Y;Q++){var X=E(H,0,Q,this.toBBox),ie=E(H,Q,re,this.toBBox),ue=(ae=X,de=ie,M=void 0,A=void 0,I=void 0,D=void 0,M=Math.max(ae.minX,de.minX),A=Math.max(ae.minY,de.minY),I=Math.min(ae.maxX,de.maxX),D=Math.min(ae.maxY,de.maxY),Math.max(0,I-M)*Math.max(0,D-A)),le=ce(X)+ce(ie);ue<F?(F=ue,me=Q,j=le<j?le:j):ue===F&&le<j&&(j=le,me=Q)}return me||re-Y},g.prototype._chooseSplitAxis=function(H,Y,re){var me=H.leaf?this.compareMinX:Z,ae=H.leaf?this.compareMinY:G;this._allDistMargin(H,Y,re,me)<this._allDistMargin(H,Y,re,ae)&&H.children.sort(me)},g.prototype._allDistMargin=function(H,Y,re,me){H.children.sort(me);for(var ae=this.toBBox,de=E(H,0,Y,ae),M=E(H,re-Y,re,ae),A=_e(de)+_e(M),I=Y;I<re-Y;I++){var D=H.children[I];B(de,H.leaf?ae(D):D),A+=_e(de)}for(var F=re-Y-1;F>=Y;F--){var j=H.children[F];B(M,H.leaf?ae(j):j),A+=_e(M)}return A},g.prototype._adjustParentBBoxes=function(H,Y,re){for(var me=re;me>=0;me--)B(Y[me],H)},g.prototype._condense=function(H){for(var Y=H.length-1,re=void 0;Y>=0;Y--)H[Y].children.length===0?Y>0?(re=H[Y-1].children).splice(re.indexOf(H[Y]),1):this.clear():k(H[Y],this.toBBox)},g})}),Yt=u(r=>{Object.defineProperty(r,"__esModule",{value:!0}),r.earthRadius=63710088e-1,r.factors={centimeters:r.earthRadius*100,centimetres:r.earthRadius*100,degrees:r.earthRadius/111325,feet:r.earthRadius*3.28084,inches:r.earthRadius*39.37,kilometers:r.earthRadius/1e3,kilometres:r.earthRadius/1e3,meters:r.earthRadius,metres:r.earthRadius,miles:r.earthRadius/1609.344,millimeters:r.earthRadius*1e3,millimetres:r.earthRadius*1e3,nauticalmiles:r.earthRadius/1852,radians:1,yards:r.earthRadius*1.0936},r.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r.earthRadius,yards:1.0936133},r.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function a(D,F,j){j===void 0&&(j={});var Q={type:"Feature"};return(j.id===0||j.id)&&(Q.id=j.id),j.bbox&&(Q.bbox=j.bbox),Q.properties=F||{},Q.geometry=D,Q}r.feature=a;function h(D,F,j){switch(D){case"Point":return d(F).geometry;case"LineString":return k(F).geometry;case"Polygon":return g(F).geometry;case"MultiPoint":return G(F).geometry;case"MultiLineString":return Z(F).geometry;case"MultiPolygon":return ce(F).geometry;default:throw new Error(D+" is invalid")}}r.geometry=h;function d(D,F,j){if(j===void 0&&(j={}),!D)throw new Error("coordinates is required");if(!Array.isArray(D))throw new Error("coordinates must be an Array");if(D.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!de(D[0])||!de(D[1]))throw new Error("coordinates must contain numbers");var Q={type:"Point",coordinates:D};return a(Q,F,j)}r.point=d;function m(D,F,j){return j===void 0&&(j={}),B(D.map(function(Q){return d(Q,F)}),j)}r.points=m;function g(D,F,j){j===void 0&&(j={});for(var Q=0,X=D;Q<X.length;Q++){var ie=X[Q];if(ie.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ue=0;ue<ie[ie.length-1].length;ue++)if(ie[ie.length-1][ue]!==ie[0][ue])throw new Error("First and last Position are not equivalent.")}var le={type:"Polygon",coordinates:D};return a(le,F,j)}r.polygon=g;function x(D,F,j){return j===void 0&&(j={}),B(D.map(function(Q){return g(Q,F)}),j)}r.polygons=x;function k(D,F,j){if(j===void 0&&(j={}),D.length<2)throw new Error("coordinates must be an array of two or more positions");var Q={type:"LineString",coordinates:D};return a(Q,F,j)}r.lineString=k;function E(D,F,j){return j===void 0&&(j={}),B(D.map(function(Q){return k(Q,F)}),j)}r.lineStrings=E;function B(D,F){F===void 0&&(F={});var j={type:"FeatureCollection"};return F.id&&(j.id=F.id),F.bbox&&(j.bbox=F.bbox),j.features=D,j}r.featureCollection=B;function Z(D,F,j){j===void 0&&(j={});var Q={type:"MultiLineString",coordinates:D};return a(Q,F,j)}r.multiLineString=Z;function G(D,F,j){j===void 0&&(j={});var Q={type:"MultiPoint",coordinates:D};return a(Q,F,j)}r.multiPoint=G;function ce(D,F,j){j===void 0&&(j={});var Q={type:"MultiPolygon",coordinates:D};return a(Q,F,j)}r.multiPolygon=ce;function _e(D,F,j){j===void 0&&(j={});var Q={type:"GeometryCollection",geometries:D};return a(Q,F,j)}r.geometryCollection=_e;function Oe(D,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var j=Math.pow(10,F||0);return Math.round(D*j)/j}r.round=Oe;function Je(D,F){F===void 0&&(F="kilometers");var j=r.factors[F];if(!j)throw new Error(F+" units is invalid");return D*j}r.radiansToLength=Je;function et(D,F){F===void 0&&(F="kilometers");var j=r.factors[F];if(!j)throw new Error(F+" units is invalid");return D/j}r.lengthToRadians=et;function At(D,F){return Y(et(D,F))}r.lengthToDegrees=At;function H(D){var F=D%360;return F<0&&(F+=360),F}r.bearingToAzimuth=H;function Y(D){var F=D%(2*Math.PI);return F*180/Math.PI}r.radiansToDegrees=Y;function re(D){var F=D%360;return F*Math.PI/180}r.degreesToRadians=re;function me(D,F,j){if(F===void 0&&(F="kilometers"),j===void 0&&(j="kilometers"),!(D>=0))throw new Error("length must be a positive number");return Je(et(D,F),j)}r.convertLength=me;function ae(D,F,j){if(F===void 0&&(F="meters"),j===void 0&&(j="kilometers"),!(D>=0))throw new Error("area must be a positive number");var Q=r.areaFactors[F];if(!Q)throw new Error("invalid original units");var X=r.areaFactors[j];if(!X)throw new Error("invalid final units");return D/Q*X}r.convertArea=ae;function de(D){return!isNaN(D)&&D!==null&&!Array.isArray(D)}r.isNumber=de;function M(D){return!!D&&D.constructor===Object}r.isObject=M;function A(D){if(!D)throw new Error("bbox is required");if(!Array.isArray(D))throw new Error("bbox must be an Array");if(D.length!==4&&D.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");D.forEach(function(F){if(!de(F))throw new Error("bbox must only contain numbers")})}r.validateBBox=A;function I(D){if(!D)throw new Error("id is required");if(["string","number"].indexOf(typeof D)===-1)throw new Error("id must be a number or a string")}r.validateId=I}),Wr=u(r=>{Object.defineProperty(r,"__esModule",{value:!0});var a=Yt();function h(Y,re,me){if(Y!==null)for(var ae,de,M,A,I,D,F,j=0,Q=0,X,ie=Y.type,ue=ie==="FeatureCollection",le=ie==="Feature",ke=ue?Y.features.length:1,Qe=0;Qe<ke;Qe++){F=ue?Y.features[Qe].geometry:le?Y.geometry:Y,X=F?F.type==="GeometryCollection":!1,I=X?F.geometries.length:1;for(var nt=0;nt<I;nt++){var ct=0,Vt=0;if(A=X?F.geometries[nt]:F,A!==null){D=A.coordinates;var qt=A.type;switch(j=me&&(qt==="Polygon"||qt==="MultiPolygon")?1:0,qt){case null:break;case"Point":if(re(D,Q,Qe,ct,Vt)===!1)return!1;Q++,ct++;break;case"LineString":case"MultiPoint":for(ae=0;ae<D.length;ae++){if(re(D[ae],Q,Qe,ct,Vt)===!1)return!1;Q++,qt==="MultiPoint"&&ct++}qt==="LineString"&&ct++;break;case"Polygon":case"MultiLineString":for(ae=0;ae<D.length;ae++){for(de=0;de<D[ae].length-j;de++){if(re(D[ae][de],Q,Qe,ct,Vt)===!1)return!1;Q++}qt==="MultiLineString"&&ct++,qt==="Polygon"&&Vt++}qt==="Polygon"&&ct++;break;case"MultiPolygon":for(ae=0;ae<D.length;ae++){for(Vt=0,de=0;de<D[ae].length;de++){for(M=0;M<D[ae][de].length-j;M++){if(re(D[ae][de][M],Q,Qe,ct,Vt)===!1)return!1;Q++}Vt++}ct++}break;case"GeometryCollection":for(ae=0;ae<A.geometries.length;ae++)if(h(A.geometries[ae],re,me)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(Y,re,me,ae){var de=me;return h(Y,function(M,A,I,D,F){A===0&&me===void 0?de=M:de=re(de,M,A,I,D,F)},ae),de}function m(Y,re){var me;switch(Y.type){case"FeatureCollection":for(me=0;me<Y.features.length&&re(Y.features[me].properties,me)!==!1;me++);break;case"Feature":re(Y.properties,0);break}}function g(Y,re,me){var ae=me;return m(Y,function(de,M){M===0&&me===void 0?ae=de:ae=re(ae,de,M)}),ae}function x(Y,re){if(Y.type==="Feature")re(Y,0);else if(Y.type==="FeatureCollection")for(var me=0;me<Y.features.length&&re(Y.features[me],me)!==!1;me++);}function k(Y,re,me){var ae=me;return x(Y,function(de,M){M===0&&me===void 0?ae=de:ae=re(ae,de,M)}),ae}function E(Y){var re=[];return h(Y,function(me){re.push(me)}),re}function B(Y,re){var me,ae,de,M,A,I,D,F,j,Q,X=0,ie=Y.type==="FeatureCollection",ue=Y.type==="Feature",le=ie?Y.features.length:1;for(me=0;me<le;me++){for(I=ie?Y.features[me].geometry:ue?Y.geometry:Y,F=ie?Y.features[me].properties:ue?Y.properties:{},j=ie?Y.features[me].bbox:ue?Y.bbox:void 0,Q=ie?Y.features[me].id:ue?Y.id:void 0,D=I?I.type==="GeometryCollection":!1,A=D?I.geometries.length:1,de=0;de<A;de++){if(M=D?I.geometries[de]:I,M===null){if(re(null,X,F,j,Q)===!1)return!1;continue}switch(M.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(re(M,X,F,j,Q)===!1)return!1;break}case"GeometryCollection":{for(ae=0;ae<M.geometries.length;ae++)if(re(M.geometries[ae],X,F,j,Q)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}X++}}function Z(Y,re,me){var ae=me;return B(Y,function(de,M,A,I,D){M===0&&me===void 0?ae=de:ae=re(ae,de,M,A,I,D)}),ae}function G(Y,re){B(Y,function(me,ae,de,M,A){var I=me===null?null:me.type;switch(I){case null:case"Point":case"LineString":case"Polygon":return re(a.feature(me,de,{bbox:M,id:A}),ae,0)===!1?!1:void 0}var D;switch(I){case"MultiPoint":D="Point";break;case"MultiLineString":D="LineString";break;case"MultiPolygon":D="Polygon";break}for(var F=0;F<me.coordinates.length;F++){var j=me.coordinates[F],Q={type:D,coordinates:j};if(re(a.feature(Q,de),ae,F)===!1)return!1}})}function ce(Y,re,me){var ae=me;return G(Y,function(de,M,A){M===0&&A===0&&me===void 0?ae=de:ae=re(ae,de,M,A)}),ae}function _e(Y,re){G(Y,function(me,ae,de){var M=0;if(me.geometry){var A=me.geometry.type;if(!(A==="Point"||A==="MultiPoint")){var I,D=0,F=0,j=0;if(h(me,function(Q,X,ie,ue,le){if(I===void 0||ae>D||ue>F||le>j){I=Q,D=ae,F=ue,j=le,M=0;return}var ke=a.lineString([I,Q],me.properties);if(re(ke,ae,de,le,M)===!1)return!1;M++,I=Q})===!1)return!1}}})}function Oe(Y,re,me){var ae=me,de=!1;return _e(Y,function(M,A,I,D,F){de===!1&&me===void 0?ae=M:ae=re(ae,M,A,I,D,F),de=!0}),ae}function Je(Y,re){if(!Y)throw new Error("geojson is required");G(Y,function(me,ae,de){if(me.geometry!==null){var M=me.geometry.type,A=me.geometry.coordinates;switch(M){case"LineString":if(re(me,ae,de,0,0)===!1)return!1;break;case"Polygon":for(var I=0;I<A.length;I++)if(re(a.lineString(A[I],me.properties),ae,de,I)===!1)return!1;break}}})}function et(Y,re,me){var ae=me;return Je(Y,function(de,M,A,I){M===0&&me===void 0?ae=de:ae=re(ae,de,M,A,I)}),ae}function At(Y,re){if(re=re||{},!a.isObject(re))throw new Error("options is invalid");var me=re.featureIndex||0,ae=re.multiFeatureIndex||0,de=re.geometryIndex||0,M=re.segmentIndex||0,A=re.properties,I;switch(Y.type){case"FeatureCollection":me<0&&(me=Y.features.length+me),A=A||Y.features[me].properties,I=Y.features[me].geometry;break;case"Feature":A=A||Y.properties,I=Y.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":I=Y;break;default:throw new Error("geojson is invalid")}if(I===null)return null;var D=I.coordinates;switch(I.type){case"Point":case"MultiPoint":return null;case"LineString":return M<0&&(M=D.length+M-1),a.lineString([D[M],D[M+1]],A,re);case"Polygon":return de<0&&(de=D.length+de),M<0&&(M=D[de].length+M-1),a.lineString([D[de][M],D[de][M+1]],A,re);case"MultiLineString":return ae<0&&(ae=D.length+ae),M<0&&(M=D[ae].length+M-1),a.lineString([D[ae][M],D[ae][M+1]],A,re);case"MultiPolygon":return ae<0&&(ae=D.length+ae),de<0&&(de=D[ae].length+de),M<0&&(M=D[ae][de].length-M-1),a.lineString([D[ae][de][M],D[ae][de][M+1]],A,re)}throw new Error("geojson is invalid")}function H(Y,re){if(re=re||{},!a.isObject(re))throw new Error("options is invalid");var me=re.featureIndex||0,ae=re.multiFeatureIndex||0,de=re.geometryIndex||0,M=re.coordIndex||0,A=re.properties,I;switch(Y.type){case"FeatureCollection":me<0&&(me=Y.features.length+me),A=A||Y.features[me].properties,I=Y.features[me].geometry;break;case"Feature":A=A||Y.properties,I=Y.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":I=Y;break;default:throw new Error("geojson is invalid")}if(I===null)return null;var D=I.coordinates;switch(I.type){case"Point":return a.point(D,A,re);case"MultiPoint":return ae<0&&(ae=D.length+ae),a.point(D[ae],A,re);case"LineString":return M<0&&(M=D.length+M),a.point(D[M],A,re);case"Polygon":return de<0&&(de=D.length+de),M<0&&(M=D[de].length+M),a.point(D[de][M],A,re);case"MultiLineString":return ae<0&&(ae=D.length+ae),M<0&&(M=D[ae].length+M),a.point(D[ae][M],A,re);case"MultiPolygon":return ae<0&&(ae=D.length+ae),de<0&&(de=D[ae].length+de),M<0&&(M=D[ae][de].length-M),a.point(D[ae][de][M],A,re)}throw new Error("geojson is invalid")}r.coordAll=E,r.coordEach=h,r.coordReduce=d,r.featureEach=x,r.featureReduce=k,r.findPoint=H,r.findSegment=At,r.flattenEach=G,r.flattenReduce=ce,r.geomEach=B,r.geomReduce=Z,r.lineEach=Je,r.lineReduce=et,r.propEach=m,r.propReduce=g,r.segmentEach=_e,r.segmentReduce=Oe}),wr=u(r=>{Object.defineProperty(r,"__esModule",{value:!0});var a=Wr();function h(d){var m=[1/0,1/0,-1/0,-1/0];return a.coordEach(d,function(g){m[0]>g[0]&&(m[0]=g[0]),m[1]>g[1]&&(m[1]=g[1]),m[2]<g[0]&&(m[2]=g[0]),m[3]<g[1]&&(m[3]=g[1])}),m}h.default=h,r.default=h}),Xi=u((r,a)=>{var h=Dt(),d=Yt(),m=Wr(),g=wr().default,x=m.featureEach;m.coordEach,d.polygon;var k=d.featureCollection;function E(B){var Z=new h(B);return Z.insert=function(G){if(G.type!=="Feature")throw new Error("invalid feature");return G.bbox=G.bbox?G.bbox:g(G),h.prototype.insert.call(this,G)},Z.load=function(G){var ce=[];return Array.isArray(G)?G.forEach(function(_e){if(_e.type!=="Feature")throw new Error("invalid features");_e.bbox=_e.bbox?_e.bbox:g(_e),ce.push(_e)}):x(G,function(_e){if(_e.type!=="Feature")throw new Error("invalid features");_e.bbox=_e.bbox?_e.bbox:g(_e),ce.push(_e)}),h.prototype.load.call(this,ce)},Z.remove=function(G,ce){if(G.type!=="Feature")throw new Error("invalid feature");return G.bbox=G.bbox?G.bbox:g(G),h.prototype.remove.call(this,G,ce)},Z.clear=function(){return h.prototype.clear.call(this)},Z.search=function(G){var ce=h.prototype.search.call(this,this.toBBox(G));return k(ce)},Z.collides=function(G){return h.prototype.collides.call(this,this.toBBox(G))},Z.all=function(){var G=h.prototype.all.call(this);return k(G)},Z.toJSON=function(){return h.prototype.toJSON.call(this)},Z.fromJSON=function(G){return h.prototype.fromJSON.call(this,G)},Z.toBBox=function(G){var ce;if(G.bbox)ce=G.bbox;else if(Array.isArray(G)&&G.length===4)ce=G;else if(Array.isArray(G)&&G.length===6)ce=[G[0],G[1],G[3],G[4]];else if(G.type==="Feature")ce=g(G);else if(G.type==="FeatureCollection")ce=g(G);else throw new Error("invalid geojson");return{minX:ce[0],minY:ce[1],maxX:ce[2],maxY:ce[3]}},Z}a.exports=E,a.exports.default=E});Array.prototype.findIndex=Array.prototype.findIndex||function(r){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var a=Object(this),h=a.length>>>0,d=arguments[1],m=0;m<h;m++)if(r.call(d,a[m],m,a))return m;return-1},Array.prototype.find=Array.prototype.find||function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var a=Object(this),h=a.length>>>0,d=arguments[1],m=0;m<h;m++){var g=a[m];if(r.call(d,g,m,a))return g}},typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");r=Object(r);for(var a=1;a<arguments.length;a++){var h=arguments[a];if(h!=null)for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(r[d]=h[d])}return r}),function(r){r.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,a){if(this==null)throw new TypeError('"this" is null or not defined');var h=Object(this),d=h.length>>>0;if(d===0)return!1;var m=a|0,g=Math.max(m>=0?m:d-Math.abs(m),0);function x(k,E){return k===E||typeof k=="number"&&typeof E=="number"&&isNaN(k)&&isNaN(E)}for(;g<d;){if(x(h[g],r))return!0;g++}return!1}});var Os={name:"@geoman-io/leaflet-geoman-free",version:"2.17.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.7.9","cross-env":"^7.0.3",cypress:"6.9.1","cypress-wait-until":"1.7.1",esbuild:"^0.20.0",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.7",leaflet:"1.9.3","lint-staged":"^15.2.1",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,cypress,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,cypress,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,cypress,demo}/**/*.{js,css}"'}},bt=_(Ao()),on={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Rs={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex löschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer löschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknüpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Länge",segmentLength:"Segment Länge",area:"Fläche",radius:"Radius",perimeter:"Umfang",height:"Höhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Ro={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Xn={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},mc={tooltips:{placeMarker:"Adaugă un punct",firstVertex:"Apasă aici pentru a adăuga primul Vertex",continueLine:"Apasă aici pentru a continua desenul",finishLine:"Apasă pe orice obiect pentru a finisa desenul",finishPoly:"Apasă pe primul obiect pentru a finisa",finishRect:"Apasă pentru a finisa",startCircle:"Apasă pentru a desena un cerc",finishCircle:"Apasă pentru a finisa un cerc",placeCircleMarker:"Adaugă un punct"},actions:{finish:"Termină",cancel:"Anulează",removeLastVertex:"Șterge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaugă o bulină",drawPolyButton:"Desenează un poligon",drawLineButton:"Desenează o linie",drawCircleButton:"Desenează un cerc",drawRectButton:"Desenează un dreptunghi",editButton:"Editează straturile",dragButton:"Mută straturile",cutButton:"Taie straturile",deleteButton:"Șterge straturile",drawCircleMarkerButton:"Desenează marcatorul cercului",snappingButton:"Fixați marcatorul glisat pe alte straturi și vârfuri",pinningButton:"Fixați vârfurile partajate împreună",rotateButton:"Rotiți stratul"}},Do={tooltips:{placeMarker:"Нажмите, чтобы нанести маркер",firstVertex:"Нажмите, чтобы нанести первый объект",continueLine:"Нажмите, чтобы продолжить рисование",finishLine:"Нажмите любой существующий маркер для завершения",finishPoly:"Выберите первую точку, чтобы закончить",finishRect:"Нажмите, чтобы закончить",startCircle:"Нажмите, чтобы добавить центр круга",finishCircle:"Нажмите, чтобы задать радиус",placeCircleMarker:"Нажмите, чтобы нанести круговой маркер"},actions:{finish:"Завершить",cancel:"Отменить",removeLastVertex:"Отменить последнее действие"},buttonTitles:{drawMarkerButton:"Добавить маркер",drawPolyButton:"Рисовать полигон",drawLineButton:"Рисовать кривую",drawCircleButton:"Рисовать круг",drawRectButton:"Рисовать прямоугольник",editButton:"Редактировать слой",dragButton:"Перенести слой",cutButton:"Вырезать слой",deleteButton:"Удалить слой",drawCircleMarkerButton:"Добавить круговой маркер",snappingButton:"Привязать перетаскиваемый маркер к другим слоям и вершинам",pinningButton:"Связать общие точки вместе",rotateButton:"Поворот слоя"}},Qi={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vértice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del círculo",finishCircle:"Presiona para finalizar el círculo",placeCircleMarker:"Presiona para colocar un marcador de círculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar último vértice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polígono",drawLineButton:"Dibujar Línea",drawCircleButton:"Dibujar Círculo",drawRectButton:"Dibujar Rectángulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Círculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vértices",pinningButton:"Fijar juntos los vértices compartidos",rotateButton:"Rotar capa"}},hn={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beëindigen",finishPoly:"Klik op het eerst punt om te beëindigen",finishRect:"Klik om te beëindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beëindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},er={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer à dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"Éditer des calques",dragButton:"Déplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"Épingler ensemble les sommets partagés",rotateButton:"Tourner des calques"}},Jr={tooltips:{placeMarker:"单击放置标记",firstVertex:"单击放置首个顶点",continueLine:"单击继续绘制",finishLine:"单击任何存在的标记以完成",finishPoly:"单击第一个标记以完成",finishRect:"单击完成",startCircle:"单击放置圆心",finishCircle:"单击完成圆形",placeCircleMarker:"点击放置圆形标记"},actions:{finish:"完成",cancel:"取消",removeLastVertex:"移除最后的顶点"},buttonTitles:{drawMarkerButton:"绘制标记",drawPolyButton:"绘制多边形",drawLineButton:"绘制线段",drawCircleButton:"绘制圆形",drawRectButton:"绘制长方形",editButton:"编辑图层",dragButton:"拖拽图层",cutButton:"剪切图层",deleteButton:"删除图层",drawCircleMarkerButton:"画圆圈标记",snappingButton:"将拖动的标记捕捉到其他图层和顶点",pinningButton:"将共享顶点固定在一起",rotateButton:"旋转图层"}},Yr={tooltips:{placeMarker:"單擊放置標記",firstVertex:"單擊放置第一個頂點",continueLine:"單擊繼續繪製",finishLine:"單擊任何存在的標記以完成",finishPoly:"單擊第一個標記以完成",finishRect:"單擊完成",startCircle:"單擊放置圓心",finishCircle:"單擊完成圓形",placeCircleMarker:"點擊放置圓形標記"},actions:{finish:"完成",cancel:"取消",removeLastVertex:"移除最後一個頂點"},buttonTitles:{drawMarkerButton:"放置標記",drawPolyButton:"繪製多邊形",drawLineButton:"繪製線段",drawCircleButton:"繪製圓形",drawRectButton:"繪製方形",editButton:"編輯圖形",dragButton:"移動圖形",cutButton:"裁切圖形",deleteButton:"刪除圖形",drawCircleMarkerButton:"畫圓圈標記",snappingButton:"將拖動的標記對齊到其他圖層和頂點",pinningButton:"將共享頂點固定在一起",rotateButton:"旋轉圖形"}},Ds={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vértice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do círculo",finishCircle:"Clique para finalizar o círculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover último vértice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polígonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Círculo",drawRectButton:"Desenhar Retângulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Círculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vértices",pinningButton:"Unir vértices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traçado Automático de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"Área",radius:"Raio",perimeter:"Perímetro",height:"Altura",width:"Largura",coordinates:"Posição",coordinatesMarker:"Marcador de Posição"}},Xr={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vértice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do círculo",finishCircle:"Clique para terminar o círculo",placeCircleMarker:"Clique para colocar marcador de círculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover Último Vértice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polígonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Círculo",drawRectButton:"Desenhar Retângulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Círculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vértices",pinningButton:"Unir vértices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traçado Automático de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"Área",radius:"Raio",perimeter:"Perímetro",height:"Altura",width:"Largura",coordinates:"Posição",coordinatesMarker:"Marcador de Posição"}},Is={tooltips:{placeMarker:"Kliknij, aby umieścić znacznik",firstVertex:"Kliknij, aby umieścić pierwszy wierzchołek",continueLine:"Kliknij, aby kontynuować rysowanie",finishLine:"Kliknij dowolny istniejący znacznik, aby zakończyć",finishPoly:"Kliknij pierwszy znacznik, aby zakończyć",finishRect:"Kliknij, aby zakończyć",startCircle:"Kliknij, aby umieścić środek okręgu",finishCircle:"Kliknij, aby zakończyć okrąg",placeCircleMarker:"Kliknij, aby umieścić znacznik okręgu",placeText:"Kliknij, aby umieścić tekst"},actions:{finish:"Zakończ",cancel:"Anuluj",removeLastVertex:"Usuń ostatni wierzchołek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokąt",drawLineButton:"Rysuj linię",drawCircleButton:"Rysuj okrąg",drawRectButton:"Rysuj prostokąt",editButton:"Edytuj warstwy",dragButton:"Przeciągnij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usuń warstwy",drawCircleMarkerButton:"Rysuj znacznik okrągły",snappingButton:"Przyciągnij przenoszony znacznik do innych warstw i wierzchołków",pinningButton:"Przypnij wspólne wierzchołki razem",rotateButton:"Obróć warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne śledzenie linii"},measurements:{totalLength:"Długość",segmentLength:"Długość odcinka",area:"Obszar",radius:"Promień",perimeter:"Obwód",height:"Wysokość",width:"Szerokość",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},Fs={tooltips:{placeMarker:"Klicka för att placera markör",firstVertex:"Klicka för att placera första hörnet",continueLine:"Klicka för att fortsätta rita",finishLine:"Klicka på en existerande punkt för att slutföra",finishPoly:"Klicka på den första punkten för att slutföra",finishRect:"Klicka för att slutföra",startCircle:"Klicka för att placera cirkelns centrum",finishCircle:"Klicka för att slutföra cirkeln",placeCircleMarker:"Klicka för att placera cirkelmarkör"},actions:{finish:"Slutför",cancel:"Avbryt",removeLastVertex:"Ta bort sista hörnet"},buttonTitles:{drawMarkerButton:"Rita Markör",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkör",snappingButton:"Snäpp dra markören till andra lager och hörn",pinningButton:"Fäst delade hörn tillsammans",rotateButton:"Rotera lagret"}},Io={tooltips:{placeMarker:"Κάντε κλικ για να τοποθετήσετε Δείκτη",firstVertex:"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο",continueLine:"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε",finishLine:"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί",finishPoly:"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε",finishRect:"Κάντε κλικ για να τελειώσετε",startCircle:"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου",finishCircle:"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο",placeCircleMarker:"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},actions:{finish:"Τέλος",cancel:"Ακύρωση",removeLastVertex:"Κατάργηση τελευταίου σημείου"},buttonTitles:{drawMarkerButton:"Σχεδίαση Δείκτη",drawPolyButton:"Σχεδίαση Πολυγώνου",drawLineButton:"Σχεδίαση Γραμμής",drawCircleButton:"Σχεδίαση Κύκλου",drawRectButton:"Σχεδίαση Ορθογωνίου",editButton:"Επεξεργασία Επιπέδων",dragButton:"Μεταφορά Επιπέδων",cutButton:"Αποκοπή Επιπέδων",deleteButton:"Κατάργηση Επιπέδων",drawCircleMarkerButton:"Σχεδίαση Κυκλικού Δείκτη",snappingButton:"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές",pinningButton:"Περικοπή κοινών κορυφών μαζί",rotateButton:"Περιστρέψτε το στρώμα"}},js={tooltips:{placeMarker:"Kattintson a jelölő elhelyezéséhez",firstVertex:"Kattintson az első pont elhelyezéséhez",continueLine:"Kattintson a következő pont elhelyezéséhez",finishLine:"A befejezéshez kattintson egy meglévő pontra",finishPoly:"A befejezéshez kattintson az első pontra",finishRect:"Kattintson a befejezéshez",startCircle:"Kattintson a kör középpontjának elhelyezéséhez",finishCircle:"Kattintson a kör befejezéséhez",placeCircleMarker:"Kattintson a körjelölő elhelyezéséhez"},actions:{finish:"Befejezés",cancel:"Mégse",removeLastVertex:"Utolsó pont eltávolítása"},buttonTitles:{drawMarkerButton:"Jelölő rajzolása",drawPolyButton:"Poligon rajzolása",drawLineButton:"Vonal rajzolása",drawCircleButton:"Kör rajzolása",drawRectButton:"Négyzet rajzolása",editButton:"Elemek szerkesztése",dragButton:"Elemek mozgatása",cutButton:"Elemek vágása",deleteButton:"Elemek törlése",drawCircleMarkerButton:"Kör jelölő rajzolása",snappingButton:"Kapcsolja a jelöltőt másik elemhez vagy ponthoz",pinningButton:"Közös pontok összekötése",rotateButton:"Fólia elforgatása"}},Ns={tooltips:{placeMarker:"Tryk for at placere en markør",firstVertex:"Tryk for at placere det første punkt",continueLine:"Tryk for at fortsætte linjen",finishLine:"Tryk på et eksisterende punkt for at afslutte",finishPoly:"Tryk på det første punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkør"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markør",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Træk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkør",snappingButton:"Fastgør trukket markør til andre elementer",pinningButton:"Sammenlæg delte elementer",rotateButton:"Roter laget"}},Fo={tooltips:{placeMarker:"Klikk for å plassere punkt",firstVertex:"Klikk for å plassere første punkt",continueLine:"Klikk for å tegne videre",finishLine:"Klikk på et eksisterende punkt for å fullføre",finishPoly:"Klikk første punkt for å fullføre",finishRect:"Klikk for å fullføre",startCircle:"Klikk for å sette sirkel midtpunkt",finishCircle:"Klikk for å fullføre sirkel",placeCircleMarker:"Klikk for å plassere sirkel",placeText:"Klikk for å plassere tekst"},actions:{finish:"Fullfør",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotér objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalér objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Område",radius:"Radius",perimeter:"Omriss",height:"Høyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkør"}},ml={tooltips:{placeMarker:"کلیک برای جانمایی نشان",firstVertex:"کلیک برای رسم اولین رأس",continueLine:"کلیک برای ادامه رسم",finishLine:"کلیک روی هر نشان موجود برای پایان",finishPoly:"کلیک روی اولین نشان برای پایان",finishRect:"کلیک برای پایان",startCircle:"کلیک برای رسم مرکز دایره",finishCircle:"کلیک برای پایان رسم دایره",placeCircleMarker:"کلیک برای رسم نشان دایره",placeText:"کلیک برای نوشتن متن"},actions:{finish:"پایان",cancel:"لفو",removeLastVertex:"حذف آخرین رأس"},buttonTitles:{drawMarkerButton:"درج نشان",drawPolyButton:"رسم چندضلعی",drawLineButton:"رسم خط",drawCircleButton:"رسم دایره",drawRectButton:"رسم چهارضلعی",editButton:"ویرایش لایه‌ها",dragButton:"جابجایی لایه‌ها",cutButton:"برش لایه‌ها",deleteButton:"حذف لایه‌ها",drawCircleMarkerButton:"رسم نشان دایره",snappingButton:"نشانگر را به لایه‌ها و رئوس دیگر بکشید",pinningButton:"رئوس مشترک را با هم پین کنید",rotateButton:"چرخش لایه",drawTextButton:"رسم متن",scaleButton:"مقیاس‌گذاری",autoTracingButton:"ردیاب خودکار"},measurements:{totalLength:"طول",segmentLength:"طول بخش",area:"ناحیه",radius:"شعاع",perimeter:"محیط",height:"ارتفاع",width:"عرض",coordinates:"موقعیت",coordinatesMarker:"موقعیت نشان"}},zs={tooltips:{placeMarker:"Натисніть, щоб нанести маркер",firstVertex:"Натисніть, щоб нанести першу вершину",continueLine:"Натисніть, щоб продовжити малювати",finishLine:"Натисніть будь-який існуючий маркер для завершення",finishPoly:"Виберіть перший маркер, щоб завершити",finishRect:"Натисніть, щоб завершити",startCircle:"Натисніть, щоб додати центр кола",finishCircle:"Натисніть, щоб завершити коло",placeCircleMarker:"Натисніть, щоб нанести круговий маркер"},actions:{finish:"Завершити",cancel:"Відмінити",removeLastVertex:"Видалити попередню вершину"},buttonTitles:{drawMarkerButton:"Малювати маркер",drawPolyButton:"Малювати полігон",drawLineButton:"Малювати криву",drawCircleButton:"Малювати коло",drawRectButton:"Малювати прямокутник",editButton:"Редагувати шари",dragButton:"Перенести шари",cutButton:"Вирізати шари",deleteButton:"Видалити шари",drawCircleMarkerButton:"Малювати круговий маркер",snappingButton:"Прив’язати перетягнутий маркер до інших шарів та вершин",pinningButton:"Зв'язати спільні вершини разом",rotateButton:"Повернути шар"}},_c={tooltips:{placeMarker:"İşaretçi yerleştirmek için tıklayın",firstVertex:"İlk tepe noktasını yerleştirmek için tıklayın",continueLine:"Çizime devam etmek için tıklayın",finishLine:"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın",finishPoly:"Bitirmek için ilk işaretçiyi tıklayın",finishRect:"Bitirmek için tıklayın",startCircle:"Daire merkezine yerleştirmek için tıklayın",finishCircle:"Daireyi bitirmek için tıklayın",placeCircleMarker:"Daire işaretçisi yerleştirmek için tıklayın"},actions:{finish:"Bitir",cancel:"İptal",removeLastVertex:"Son köşeyi kaldır"},buttonTitles:{drawMarkerButton:"Çizim İşaretçisi",drawPolyButton:"Çokgenler çiz",drawLineButton:"Çoklu çizgi çiz",drawCircleButton:"Çember çiz",drawRectButton:"Dikdörtgen çiz",editButton:"Katmanları düzenle",dragButton:"Katmanları sürükle",cutButton:"Katmanları kes",deleteButton:"Katmanları kaldır",drawCircleMarkerButton:"Daire işaretçisi çiz",snappingButton:"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır",pinningButton:"Paylaşılan köşeleri birbirine sabitle",rotateButton:"Katmanı döndür"}},yt={tooltips:{placeMarker:"Kliknutím vytvoříte značku",firstVertex:"Kliknutím vytvoříte první objekt",continueLine:"Kliknutím pokračujte v kreslení",finishLine:"Kliknutí na libovolnou existující značku pro dokončení",finishPoly:"Vyberte první bod pro dokončení",finishRect:"Klikněte pro dokončení",startCircle:"Kliknutím přidejte střed kruhu",finishCircle:"Нажмите, чтобы задать радиус",placeCircleMarker:"Kliknutím nastavte poloměr"},actions:{finish:"Dokončit",cancel:"Zrušit",removeLastVertex:"Zrušit poslední akci"},buttonTitles:{drawMarkerButton:"Přidat značku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit křivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdélník",editButton:"Upravit vrstvu",dragButton:"Přeneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Přidat kruhovou značku",snappingButton:"Navázat tažnou značku k dalším vrstvám a vrcholům",pinningButton:"Spojit společné body dohromady",rotateButton:"Otočte vrstvu"}},gi={tooltips:{placeMarker:"クリックしてマーカーを配置",firstVertex:"クリックして最初の頂点を配置",continueLine:"クリックして描画を続ける",finishLine:"任意のマーカーをクリックして終了",finishPoly:"最初のマーカーをクリックして終了",finishRect:"クリックして終了",startCircle:"クリックして円の中心を配置",finishCircle:"クリックして円の描画を終了",placeCircleMarker:"クリックして円マーカーを配置",placeText:"クリックしてテキストを配置"},actions:{finish:"終了",cancel:"キャンセル",removeLastVertex:"最後の頂点を削除"},buttonTitles:{drawMarkerButton:"マーカーを描画",drawPolyButton:"ポリゴンを描画",drawLineButton:"折れ線を描画",drawCircleButton:"円を描画",drawRectButton:"矩形を描画",editButton:"レイヤーを編集",dragButton:"レイヤーをドラッグ",cutButton:"レイヤーを切り取り",deleteButton:"レイヤーを削除",drawCircleMarkerButton:"円マーカーを描画",snappingButton:"ドラッグしたマーカーを他のレイヤーや頂点にスナップする",pinningButton:"共有する頂点を同時に動かす",rotateButton:"レイヤーを回転",drawTextButton:"テキストを描画"}},Zt={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmäisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtämistä",finishLine:"Klikkaa olemassa olevaa merkkiä lopettaaksesi",finishPoly:"Klikkaa ensimmäistä merkkiä lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrän keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrän",placeCircleMarker:"Klikkaa asettaaksesi ympyrämerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirrä merkkejä",drawPolyButton:"Piirrä monikulmioita",drawLineButton:"Piirrä viivoja",drawCircleButton:"Piirrä ympyrä",drawRectButton:"Piirrä neliskulmioita",editButton:"Muokkaa",dragButton:"Siirrä",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirrä ympyrämerkki",snappingButton:"Kiinnitä siirrettävä merkki toisiin muotoihin",pinningButton:"Kiinnitä jaetut muodot yhteen",rotateButton:"Käännä",drawTextButton:"Piirrä tekstiä"}},_l={tooltips:{placeMarker:"마커 위치를 클릭하세요",firstVertex:"첫번째 꼭지점 위치을 클릭하세요",continueLine:"계속 그리려면 클릭하세요",finishLine:"끝내려면 기존 마커를 클릭하세요",finishPoly:"끝내려면 처음 마커를 클릭하세요",finishRect:"끝내려면 클릭하세요",startCircle:"원의 중심이 될 위치를 클릭하세요",finishCircle:"원을 끝내려면 클릭하세요",placeCircleMarker:"원 마커 위치를 클릭하세요",placeText:"텍스트 위치를 클릭하세요"},actions:{finish:"끝내기",cancel:"취소",removeLastVertex:"마지막 꼭지점 제거"},buttonTitles:{drawMarkerButton:"마커 그리기",drawPolyButton:"다각형 그리기",drawLineButton:"다각선 그리기",drawCircleButton:"원 그리기",drawRectButton:"직사각형 그리기",editButton:"레이어 편집하기",dragButton:"레이어 끌기",cutButton:"레이어 자르기",deleteButton:"레이어 제거하기",drawCircleMarkerButton:"원 마커 그리기",snappingButton:"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기",pinningButton:"공유 꼭지점을 함께 찍기",rotateButton:"레이어 회전하기",drawTextButton:"텍스트 그리기"}},Vs={tooltips:{placeMarker:"Маркерди жайгаштыруу үчүн басыңыз",firstVertex:"Биринчи чокуну жайгаштырууну үчүн басыңыз",continueLine:"Сүрөт тартууну улантуу үчүн басыңыз",finishLine:"Аяктоо үчүн учурдагы маркерди басыңыз",finishPoly:"Бүтүрүү үчүн биринчи маркерди басыңыз",finishRect:"Бүтүрүү үчүн басыңыз",startCircle:"Айлананын борборун жайгаштырууну үчүн басыңыз",finishCircle:"Айлананы бүтүрүү үчүн басыңыз",placeCircleMarker:"Тегерек маркерди жайгаштыруу үчүн басыңыз",placeText:"Текстти жайгаштыруу үчүн басыңыз"},actions:{finish:"Аягы",cancel:"Жок кылуу",removeLastVertex:"Акыркы чокуну өчүрүү"},buttonTitles:{drawMarkerButton:"Маркерди чизуу",drawPolyButton:"Полигон чизуу",drawLineButton:"Полилиния чизуу",drawCircleButton:"Дайынды чизуу",drawRectButton:"Прямоугольник чизуу",editButton:"Слоопту түзөтүү",dragButton:"Слоопту карап сүйлөү",cutButton:"Слооптун башын кесүү",deleteButton:"Слооптун өчүрүү",drawCircleMarkerButton:"Дайынды маркерди чизуу",snappingButton:"Башка слооптордун жана вертекстердин арасына чекилдөө",pinningButton:"Бөлүшкөн вертекстерди бирге тутуштуруу",rotateButton:"Слооптун өзгөртүү",drawTextButton:"Текст чизуу",scaleButton:"Слооптун өлчөмүн өзгөртүү",autoTracingButton:"Автоматтык тизмеги чизуу"},measurements:{totalLength:"Узундук",segmentLength:"Сегмент узундугу",area:"Аймак",radius:"Радиус",perimeter:"Периметр",height:"Диаметр",width:"Кенчилик",coordinates:"Координаттар",coordinatesMarker:"Маркердин координаттары"}},tr={en:on,de:Rs,it:Ro,id:Xn,ro:mc,ru:Do,es:Qi,nl:hn,fr:er,pt_br:Ds,pt_pt:Xr,zh:Jr,zh_tw:Yr,pl:Is,sv:Fs,el:Io,hu:js,da:Ns,no:Fo,fa:ml,ua:zs,tr:_c,cz:yt,ja:gi,fi:Zt,ko:_l,ky:Vs},Gs={_globalEditModeEnabled:!1,enableGlobalEditMode(r){let a={...r};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(h=>{this._isRelevantForEdit(h)&&h.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(r=>{r.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(r=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode(){let r=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let a in r){let h=r[a];this._isRelevantForEdit(h)&&h.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:r}){this._addedLayersEdit[L.stamp(r)]=r},_isRelevantForEdit(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},nr=Gs,$s={_globalDragModeEnabled:!1,enableGlobalDragMode(){let r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(a=>{this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(a=>{a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let r=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let a in r){let h=r[a];this._isRelevantForDrag(h)&&h.pm.enableLayerDrag()}},_layerAddedDrag({layer:r}){this._addedLayersDrag[L.stamp(r)]=r},_isRelevantForDrag(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},Qr=$s,kn={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(r=>{this._isRelevantForRemoval(r)&&(r.pm.enabled()&&r.pm.disable(),r.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(r=>{r.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(r){let a=r.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let r=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let a in r){let h=r[a];this._isRelevantForRemoval(h)&&(h.pm.enabled()&&h.pm.disable(),h.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:r}){this._addedLayersRemoval[L.stamp(r)]=r}},ir=kn,gl={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(r=>r instanceof L.Polyline).forEach(r=>{this._isRelevantForRotate(r)&&r.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(r=>r instanceof L.Polyline).forEach(r=>{r.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(r){return r.pm&&r instanceof L.Polyline&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let r=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let a in r){let h=r[a];this._isRelevantForRemoval(h)&&h.pm.enableRotate()}},_layerAddedRotate({layer:r}){this._addedLayersRotate[L.stamp(r)]=r}},yl=gl,gc=_(Ao()),vl={_fireDrawStart(r="Draw",a={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,a)},_fireDrawEnd(r="Draw",a={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},r,a)},_fireCreate(r,a="Draw",h={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},a,h)},_fireCenterPlaced(r="Draw",a={}){let h=r==="Draw"?this._layer:void 0,d=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:h,layer:d,latlng:this._layer.getLatLng()},r,a)},_fireCut(r,a,h,d="Draw",m={}){this.__fire(r,"pm:cut",{shape:this._shape,layer:a,originalLayer:h},d,m)},_fireEdit(r=this._layer,a="Edit",h={}){this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},a,h)},_fireEnable(r="Edit",a={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDisable(r="Edit",a={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,a)},_fireUpdate(r="Edit",a={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,a)},_fireMarkerDragStart(r,a=void 0,h="Edit",d={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},h,d)},_fireMarkerDrag(r,a=void 0,h="Edit",d={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},h,d)},_fireMarkerDragEnd(r,a=void 0,h=void 0,d="Edit",m={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a,intersectionReset:h},d,m)},_fireDragStart(r="Edit",a={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,a)},_fireDrag(r,a="Edit",h={}){this.__fire(this._layer,"pm:drag",{...r,shape:this.getShape()},a,h)},_fireDragEnd(r="Edit",a={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragEnable(r="Edit",a={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragDisable(r="Edit",a={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,a)},_fireRemove(r,a=r,h="Edit",d={}){this.__fire(r,"pm:remove",{layer:a,shape:this.getShape()},h,d)},_fireVertexAdded(r,a,h,d="Edit",m={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:a,latlng:h,shape:this.getShape()},d,m)},_fireVertexRemoved(r,a,h="Edit",d={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:a,shape:this.getShape()},h,d)},_fireVertexClick(r,a,h="Edit",d={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},h,d)},_fireIntersect(r,a=this._layer,h="Edit",d={}){this.__fire(a,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},h,d)},_fireLayerReset(r,a,h="Edit",d={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},h,d)},_fireChange(r,a="Edit",h={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},a,h)},_fireTextChange(r,a="Edit",h={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},a,h)},_fireTextFocus(r="Edit",a={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,a)},_fireTextBlur(r="Edit",a={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,a)},_fireSnapDrag(r,a,h="Snapping",d={}){this.__fire(r,"pm:snapdrag",a,h,d)},_fireSnap(r,a,h="Snapping",d={}){this.__fire(r,"pm:snap",a,h,d)},_fireUnsnap(r,a,h="Snapping",d={}){this.__fire(r,"pm:unsnap",a,h,d)},_fireRotationEnable(r,a,h="Rotation",d={}){this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},h,d)},_fireRotationDisable(r,a="Rotation",h={}){this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,h)},_fireRotationStart(r,a,h="Rotation",d={}){this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},h,d)},_fireRotation(r,a,h,d=this._rotationLayer,m="Rotation",g={}){this.__fire(r,"pm:rotate",{layer:d,helpLayer:this._layer,startAngle:this._startAngle,angle:d.pm.getAngle(),angleDiff:a,oldLatLngs:h,newLatLngs:d.getLatLngs()},m,g)},_fireRotationEnd(r,a,h,d="Rotation",m={}){this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:h,newLatLngs:this._rotationLayer.getLatLngs()},d,m)},_fireActionClick(r,a,h,d="Toolbar",m={}){this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:a,button:h},d,m)},_fireButtonClick(r,a,h="Toolbar",d={}){this.__fire(this._map,"pm:buttonclick",{btnName:r,button:a},h,d)},_fireLangChange(r,a,h,d,m="Global",g={}){this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:a,fallback:h,translations:d},m,g)},_fireGlobalDragModeToggled(r,a="Global",h={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},a,h)},_fireGlobalEditModeToggled(r,a="Global",h={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},a,h)},_fireGlobalRemovalModeToggled(r,a="Global",h={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},a,h)},_fireGlobalCutModeToggled(r="Global",a={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,a)},_fireGlobalDrawModeToggled(r="Global",a={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,a)},_fireGlobalRotateModeToggled(r="Global",a={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,a)},_fireRemoveLayerGroup(r,a=r,h="Edit",d={}){this.__fire(r,"pm:remove",{layer:a,shape:void 0},h,d)},_fireKeyeventEvent(r,a,h,d="Global",m={}){this.__fire(this.map,"pm:keyevent",{event:r,eventType:a,focusOn:h},d,m)},__fire(r,a,h,d,m={}){h=(0,gc.default)(h,m,{source:d}),L.PM.Utils._fireEvent(r,a,h)}},Lr=vl,yc=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),r.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(r){let a="document";this.map.getContainer().contains(r.target)&&(a="map");let h={event:r,eventType:r.type,focusOn:a};this._lastEvents[r.type]=h,this._lastEvents.current=h,this.map.pm._fireKeyeventEvent(r,r.type,a)},_onBlur(r){r.altKey=!1;let a={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=a,this._lastEvents.current=a},getLastKeyEvent(r="current"){return this._lastEvents[r]},isShiftKeyPressed(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.shiftKey},isAltKeyPressed(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.altKey},isCtrlKeyPressed(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.ctrlKey},isMetaKeyPressed(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.metaKey},getPressedKey(){var r;return(r=this._lastEvents.current)==null?void 0:r.event.key}}),bl=yc,Mt=_(zi());function Tt(r){let a=L.PM.activeLang;return(0,Mt.default)(tr[a],r)||(0,Mt.default)(tr.en,r)||r}function Hn(r){for(let a=0;a<r.length;a+=1){let h=r[a];if(Array.isArray(h)){if(Hn(h))return!0}else if(h!=null&&h!=="")return!0}return!1}function Vi(r){return r.reduce((a,h)=>{if(h.length!==0){let d=Array.isArray(h)?Vi(h):h;Array.isArray(d)?d.length!==0&&a.push(d):a.push(d)}return a},[])}function xl(r,a,h){let d={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:m,b:g,f:x}=d,k=r.lng,E=r.lat,B=h,Z=Math.PI,G=a*Z/180,ce=Math.sin(G),_e=Math.cos(G),Oe=(1-x)*Math.tan(E*Z/180),Je=1/Math.sqrt(1+Oe*Oe),et=Oe*Je,At=Math.atan2(Oe,_e),H=Je*ce,Y=1-H*H,re=Y*(m*m-g*g)/(g*g),me=1+re/16384*(4096+re*(-768+re*(320-175*re))),ae=re/1024*(256+re*(-128+re*(74-47*re))),de=B/(g*me),M=2*Math.PI,A,I,D;for(;Math.abs(de-M)>1e-12;){A=Math.cos(2*At+de),I=Math.sin(de),D=Math.cos(de);let ke=ae*I*(A+ae/4*(D*(-1+2*A*A)-ae/6*A*(-3+4*I*I)*(-3+4*A*A)));M=de,de=B/(g*me)+ke}let F=et*I-Je*D*_e,j=Math.atan2(et*D+Je*I*_e,(1-x)*Math.sqrt(H*H+F*F)),Q=Math.atan2(I*ce,Je*D-et*I*_e),X=x/16*Y*(4+x*(4-3*Y)),ie=Q-(1-X)*x*H*(de+X*I*(A+X*D*(-1+2*A*A))),ue=k+ie*180/Z,le=j*180/Z;return L.latLng(ue,le)}function wl(r,a,h,d,m=!0){let g,x,k,E=[];for(let B=0;B<h;B+=1){if(m)g=B*360/h+d,x=xl(r,g,a),k=L.latLng(x.lng,x.lat);else{let Z=r.lat+Math.cos(2*B*Math.PI/h)*a,G=r.lng+Math.sin(2*B*Math.PI/h)*a;k=L.latLng(Z,G)}E.push(k)}return E}function Us(r,a,h){a=(a+360)%360;let d=Math.PI/180,m=180/Math.PI,{R:g}=L.CRS.Earth,x=r.lng*d,k=r.lat*d,E=a*d,B=Math.sin(k),Z=Math.cos(k),G=Math.cos(h/g),ce=Math.sin(h/g),_e=Math.asin(B*G+Z*ce*Math.cos(E)),Oe=x+Math.atan2(Math.sin(E)*ce*Z,G-B*Math.sin(_e));Oe*=m;let Je=Oe-360,et=Oe<-180?Oe+360:Oe;return Oe=Oe>180?Je:et,L.latLng([_e*m,Oe])}function Hs(r,a,h){let d=r.latLngToContainerPoint(a),m=r.latLngToContainerPoint(h),g=Math.atan2(m.y-d.y,m.x-d.x)*180/Math.PI+90;return g+=g<0?360:0,g}function eo(r,a,h,d){let m=Hs(r,a,h);return Us(a,m,d)}function vc(r,a,h="asc"){if(!a||Object.keys(a).length===0)return(E,B)=>E-B;let d=Object.keys(a),m,g=d.length-1,x={};for(;g>=0;)m=d[g],x[m.toLowerCase()]=a[m],g-=1;function k(E){if(E instanceof L.Marker)return"Marker";if(E instanceof L.Circle)return"Circle";if(E instanceof L.CircleMarker)return"CircleMarker";if(E instanceof L.Rectangle)return"Rectangle";if(E instanceof L.Polygon)return"Polygon";if(E instanceof L.Polyline)return"Line"}return(E,B)=>{let Z,G;if(Z=k(E.layer).toLowerCase(),G=k(B.layer).toLowerCase(),!Z||!G)return 0;let ce=Z in x?x[Z]:Number.MAX_SAFE_INTEGER,_e=G in x?x[G]:Number.MAX_SAFE_INTEGER,Oe=0;return ce<_e?Oe=-1:ce>_e&&(Oe=1),h==="desc"?Oe*-1:Oe}}function Gi(r,a=r.getLatLngs()){return r instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function jo(r,a){var h,d,m,g;if((d=(h=a.options.crs)==null?void 0:h.projection)!=null&&d.MAX_LATITUDE){let x=(g=(m=a.options.crs)==null?void 0:m.projection)==null?void 0:g.MAX_LATITUDE;r.lat=Math.max(Math.min(x,r.lat),-x)}return r}function Cr(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}var yi=L.Class.extend({includes:[nr,Qr,ir,yl,Lr],initialize(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=bl(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(r)},setLang(r="en",a,h="en"){let d=L.PM.activeLang;a&&(tr[r]=(0,bt.default)(tr[h],a)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(d,r,h,tr[r])},addControls(r){this.Toolbar.addControls(r)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(r="Polygon",a){r==="Poly"&&(r="Polygon"),this.Draw.enable(r,a)},disableDraw(r="Polygon"){r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions(r,a={}){let h=a.ignoreShapes||[],d=a.merge||!1;this.map.pm.Draw.shapes.forEach(m=>{h.indexOf(m)===-1&&this.map.pm.Draw[m].setPathOptions(r,d)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(r){let a=(0,bt.default)(this.globalOptions,r);a.editable&&(a.resizeableCircleMarker=a.editable,delete a.editable);let h=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!a.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),h=!0);let d=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!a.resizableCircle&&(this.map.pm.Draw.Circle.disable(),d=!0),this.map.pm.Draw.shapes.forEach(m=>{this.map.pm.Draw[m].setOptions(a)}),h&&this.map.pm.Draw.CircleMarker.enable(),d&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(m=>{m.pm.setOptions(a)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=a,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(r=>{r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(r=!1){let a=L.PM.Utils.findLayers(this.map);if(!r)return a;let h=L.featureGroup();return h._pmTempLayer=!0,a.forEach(d=>{h.addLayer(d)}),h},getGeomanDrawLayers(r=!1){let a=L.PM.Utils.findLayers(this.map).filter(d=>d._drawnByGeoman===!0);if(!r)return a;let h=L.featureGroup();return h._pmTempLayer=!0,a.forEach(d=>{h.addLayer(d)}),h},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(r){Cr(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick(r){let a="";r.type==="touchstart"||r.type==="pointerdown"?a="mousedown":(r.type==="touchend"||r.type==="pointerup"||r.type==="touchcancel"||r.type==="pointercancel")&&(a="mouseup"),a&&Cr(this.map)._onClick(this._createMouseEvent(a,r))},_createMouseEvent(r,a){let h,d=a.touches[0]||a.changedTouches[0];try{h=new MouseEvent(r,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:d.detail,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{h=document.createEvent("MouseEvents"),h.initMouseEvent(r,a.bubbles,a.cancelable,a.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return h}}),bc=yi,Ll=L.Control.extend({includes:[Lr],options:{position:"topleft",disableByOtherButtons:!0},initialize(r){this._button=L.Util.extend({},this.options,r)},onAdd(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let r=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),r?r.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(r){return typeof r=="boolean"?this._button.toggleStatus=r:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled()},_triggerClick(r){r&&r.preventDefault(),!this._button.disabled&&(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton(r){let a=this.options.position.indexOf("right")>-1?"pos-right":"",h=L.DomUtil.create("div",`button-container  ${a}`,this._container);r.title&&h.setAttribute("title",r.title);let d=L.DomUtil.create("a","leaflet-buttons-control-button",h);d.setAttribute("role","button"),d.setAttribute("tabindex","0"),d.href="#";let m=L.DomUtil.create("div",`leaflet-pm-actions-container ${a}`,h),g=r.actions,x={cancel:{text:Tt("actions.cancel"),title:Tt("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Tt("actions.finish"),title:Tt("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Tt("actions.removeLastVertex"),title:Tt("actions.removeLastVertex"),onClick(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:Tt("actions.finish"),title:Tt("actions.finish"),onClick(E){this._map.pm.Draw[r.jsClass]._finishShape(E)}}};g.forEach(E=>{let B=typeof E=="string"?E:E.name,Z;if(x[B])Z=x[B];else if(E.text)Z=E;else return;let G=L.DomUtil.create("a",`leaflet-pm-action ${a} action-${B}`,m);if(G.setAttribute("role","button"),G.setAttribute("tabindex","0"),G.href="#",Z.title&&(G.title=Z.title),G.innerHTML=Z.text,L.DomEvent.disableClickPropagation(G),L.DomEvent.on(G,"click",L.DomEvent.stop),!r.disabled&&Z.onClick){let ce=_e=>{_e.preventDefault();let Oe="",{buttons:Je}=this._map.pm.Toolbar;for(let et in Je)if(Je[et]._button===r){Oe=et;break}this._fireActionClick(Z,Oe,r)};L.DomEvent.addListener(G,"click",ce,this),L.DomEvent.addListener(G,"click",Z.onClick,this)}}),r.toggleStatus&&L.DomUtil.addClass(h,"active");let k=L.DomUtil.create("div","control-icon",d);return r.iconUrl&&k.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass(k,r.className),L.DomEvent.disableClickPropagation(d),L.DomEvent.on(d,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(d,"click",this._onBtnClick,this),L.DomEvent.addListener(d,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(d,"pm-disabled"),d.setAttribute("aria-disabled","true")),h},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let r="",{buttons:a}=this._map.pm.Toolbar;for(let h in a)if(a[h]._button===this._button){r=h;break}this._fireButtonClick(r,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let r="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,r),a.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(a,r),a.setAttribute("aria-disabled","false"))}}),$i=Ll;L.Control.PMButton=$i;var Cl=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(r){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(r)},reinit(){let r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(r){let a=`${r}Container`;return this[a]||(this[a]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${r} leaflet-bar leaflet-control`)),this[a]},getButtons(){return this.buttons},addControls(r=this.options){typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let r=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let h in r){let d=r[h];L.Util.setOptions(d,{className:a.geomanIcons[h]})}},removeControls(){let r=this.getButtons();for(let a in r)r[a].remove();this.isVisible=!1},toggleControls(r=this.options){this.isVisible?this.removeControls():this.addControls(r)},_addButton(r,a){return this.buttons[r]=a,this.options[r]=!!this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons(r){for(let a in this.buttons){let h=this.buttons[a];h._button.disableByOtherButtons&&h!==r&&h.toggled()&&h._triggerClick()}},toggleButton(r,a,h=!0){return r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode"),h&&this.triggerClickOnToggledButtons(this.buttons[r]),this.buttons[r]?this.buttons[r].toggle(a):!1},_defineButtons(){let r={className:"control-icon leaflet-pm-icon-marker",title:Tt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:Tt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},h={className:"control-icon leaflet-pm-icon-polyline",title:Tt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},d={title:Tt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},m={title:Tt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},g={title:Tt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},x={title:Tt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},k={title:Tt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},E={title:Tt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},B={title:Tt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Z={title:Tt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},G={className:"control-icon leaflet-pm-icon-text",title:Tt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ce,_e)=>{this.map.pm.Draw[_e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(r)),this._addButton("drawPolyline",new L.Control.PMButton(h)),this._addButton("drawRectangle",new L.Control.PMButton(g)),this._addButton("drawPolygon",new L.Control.PMButton(a)),this._addButton("drawCircle",new L.Control.PMButton(d)),this._addButton("drawCircleMarker",new L.Control.PMButton(m)),this._addButton("drawText",new L.Control.PMButton(G)),this._addButton("editMode",new L.Control.PMButton(x)),this._addButton("dragMode",new L.Control.PMButton(k)),this._addButton("cutPolygon",new L.Control.PMButton(E)),this._addButton("removalMode",new L.Control.PMButton(B)),this._addButton("rotateMode",new L.Control.PMButton(Z))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let r=this.getButtons(),a=[];this.options.drawControls===!1&&(a=a.concat(Object.keys(r).filter(h=>!r[h]._button.tool))),this.options.editControls===!1&&(a=a.concat(Object.keys(r).filter(h=>r[h]._button.tool==="edit"))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(r).filter(h=>r[h]._button.tool==="options"))),this.options.customControls===!1&&(a=a.concat(Object.keys(r).filter(h=>r[h]._button.tool==="custom")));for(let h in r)if(this.options[h]&&a.indexOf(h)===-1){let d=r[h]._button.tool;d||(d="draw"),r[h].setPosition(this._getBtnPosition(d)),r[h].addTo(this.map)}},_getBtnPosition(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition(r,a){this.options.positions[r]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(r,a){if(a)typeof a!="object"&&(a={name:a});else throw new TypeError("Button has no name");let h=this._btnNameMapping(r);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");let d=this.map.pm.Draw.createNewDrawInstance(a.name,h);a={...this.buttons[h]._button,...a};let m=this.createCustomControl(a);return{drawInstance:d,control:m}},createCustomControl(r){if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=()=>{}),r.afterClick||(r.afterClick=()=>{}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),(!r.block||r.block==="draw")&&(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className=`control-icon ${r.className}`):r.className="control-icon";let a={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:r.disableOtherButtons??!0,disableByOtherButtons:r.disableByOtherButtons??!0,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);let h=this._addButton(r.name,new L.Control.PMButton(a));return this.changeControlOrder(),h},controlExists(r){return!!this.getButton(r)},getButton(r){return this.getButtons()[r]},getButtonsInBlock(r){let a={};if(r)for(let h in this.getButtons()){let d=this.getButtons()[h];(d._button.tool===r||r==="draw"&&!d._button.tool)&&(a[h]=d)}return a},changeControlOrder(r=[]){let a=this._shapeMapping(),h=[];r.forEach(g=>{a[g]?h.push(a[g]):h.push(g)});let d=this.getButtons(),m={};h.forEach(g=>{d[g]&&(m[g]=d[g])}),Object.keys(d).filter(g=>!d[g]._button.tool).forEach(g=>{h.indexOf(g)===-1&&(m[g]=d[g])}),Object.keys(d).filter(g=>d[g]._button.tool==="edit").forEach(g=>{h.indexOf(g)===-1&&(m[g]=d[g])}),Object.keys(d).filter(g=>d[g]._button.tool==="options").forEach(g=>{h.indexOf(g)===-1&&(m[g]=d[g])}),Object.keys(d).filter(g=>d[g]._button.tool==="custom").forEach(g=>{h.indexOf(g)===-1&&(m[g]=d[g])}),Object.keys(d).forEach(g=>{h.indexOf(g)===-1&&(m[g]=d[g])}),this.map.pm.Toolbar.buttons=m,this._showHideButtons()},getControlOrder(){let r=this.getButtons(),a=[];for(let h in r)a.push(h);return a},changeActionsOfControl(r,a){let h=this._btnNameMapping(r);if(!h)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[h])throw new TypeError("Button with this name not exists");this.buttons[h]._button.actions=a,this.changeControlOrder()},setButtonDisabled(r,a){let h=this._btnNameMapping(r);a?this.buttons[h].disable():this.buttons[h].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(r){let a=this._shapeMapping();return a[r]?a[r]:r}}),kl=Cl,Zs=_(Ao()),xc={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(r){r.forEach(a=>{if(Array.isArray(a)){this._assignEvents(a);return}a.off("drag",this._handleSnapping,this),a.on("drag",this._handleSnapping,this),a.off("dragend",this._cleanupSnapping,this),a.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(r){if(r){let a=r.target;a._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(a=>{a.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(r){var k,E,B;let a=r.target;if(a._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((k=r==null?void 0:r.originalEvent)==null?void 0:k.altKey)||((B=(E=this._map)==null?void 0:E.pm)==null?void 0:B.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let h=this._calcClosestLayer(a.getLatLng(),this._snapList);if(Object.keys(h).length===0)return!1;let d=h.layer instanceof L.Marker||h.layer instanceof L.CircleMarker||!this.options.snapSegment,m;d?m=h.latlng:m=this._checkPrioritiySnapping(h);let g=this.options.snapDistance,x={marker:a,shape:this._shape,snapLatLng:m,segment:h.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:h.layer,distance:h.distance};if(this._fireSnapDrag(x.marker,x),this._fireSnapDrag(this._layer,x),h.distance<g){a._orgLatLng=a.getLatLng(),a.setLatLng(m),a._snapped=!0,a._snapInfo=x;let Z=()=>{this._snapLatLng=m,this._fireSnap(a,x),this._fireSnap(this._layer,x)},G=this._snapLatLng||{},ce=m||{};(G.lat!==ce.lat||G.lng!==ce.lng)&&Z()}else this._snapLatLng&&(this._unsnap(x),a._snapped=!1,a._snapInfo=void 0,this._fireUnsnap(x.marker,x),this._fireUnsnap(this._layer,x));return!0},_createSnapList(){let r=[],a=[],h=this._map;h.off("layerremove",this._handleSnapLayerRemoval,this),h.on("layerremove",this._handleSnapLayerRemoval,this),h.eachLayer(d=>{if((d instanceof L.Polyline||d instanceof L.Marker||d instanceof L.CircleMarker||d instanceof L.ImageOverlay)&&d.options.snapIgnore!==!0){if(d.options.snapIgnore===void 0&&(!L.PM.optIn&&d.options.pmIgnore===!0||L.PM.optIn&&d.options.pmIgnore!==!1))return;(d instanceof L.Circle||d instanceof L.CircleMarker)&&d.pm&&d.pm._hiddenPolyCircle?r.push(d.pm._hiddenPolyCircle):d instanceof L.ImageOverlay&&(d=L.rectangle(d.getBounds())),r.push(d);let m=L.polyline([],{color:"red",pmIgnore:!0});m._pmTempLayer=!0,a.push(m),(d instanceof L.Circle||d instanceof L.CircleMarker)&&a.push(m)}}),r=r.filter(d=>this._layer!==d),r=r.filter(d=>d._latlng||d._latlngs&&Hn(d._latlngs)),r=r.filter(d=>!d._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let d=L.polyline([],{color:"red",pmIgnore:!0});d._pmTempLayer=!0,a.push(d)}),this._snapList=r.concat(this._otherSnapLayers)):this._snapList=r,this.debugIndicatorLines=a},_handleSnapLayerRemoval({layer:r}){if(!r._leaflet_id)return;let a=this._snapList.findIndex(h=>h._leaflet_id===r._leaflet_id);a>-1&&this._snapList.splice(a,1)},_calcClosestLayer(r,a){return this._calcClosestLayers(r,a,1)[0]},_calcClosestLayers(r,a,h=1){let d=[],m={};a.forEach((x,k)=>{if(x._parentCopy&&x._parentCopy===this._layer)return;let E=this._calcLayerDistances(r,x);if(E.distance=Math.floor(E.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[k]){let B=L.polyline([],{color:"red",pmIgnore:!0});B._pmTempLayer=!0,this.debugIndicatorLines[k]=B}this.debugIndicatorLines[k].setLatLngs([r,E.latlng])}h===1&&(m.distance===void 0||E.distance-5<=m.distance)?(E.distance+5<m.distance&&(d=[]),m=E,m.layer=x,d.push(m)):h!==1&&(m={},m=E,m.layer=x,d.push(m))}),h!==1&&(d=d.sort((x,k)=>x.distance-k.distance)),h===-1&&(h=d.length);let g=this._getClosestLayerByPriority(d,h);return L.Util.isArray(g)?g:[g]},_calcLayerDistances(r,a){let h=this._map,d=a instanceof L.Marker||a instanceof L.CircleMarker,m=a instanceof L.Polygon,g=r;if(d){let x=a.getLatLng();return{latlng:{...x},distance:this._getDistance(h,x,g)}}return this._calcLatLngDistances(g,a.getLatLngs(),h,m)},_calcLatLngDistances(r,a,h,d=!1){let m,g,x,k=E=>{E.forEach((B,Z)=>{if(Array.isArray(B)){k(B);return}if(this.options.snapSegment){let G=B,ce;d?ce=Z+1===E.length?0:Z+1:ce=Z+1===E.length?void 0:Z+1;let _e=E[ce];if(_e){let Oe=this._getDistanceToSegment(h,r,G,_e);(g===void 0||Oe<g)&&(g=Oe,x=[G,_e])}}else{let G=this._getDistance(h,r,B);(g===void 0||G<g)&&(g=G,m=B)}})};return k(a),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(h,r,x[0],x[1])},segment:x,distance:g}:{latlng:m,distance:g}},_getClosestLayerByPriority(r,a=1){r=r.sort((x,k)=>x._leaflet_id-k._leaflet_id);let h=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],d=this._map.pm.globalOptions.snappingOrder||[],m=0,g={};return d.concat(h).forEach(x=>{g[x]||(m+=1,g[x]=m)}),r.sort(vc("instanceofShape",g)),a===1?r[0]||{}:r.slice(0,a)},_checkPrioritiySnapping(r){let a=this._map,h=r.segment[0],d=r.segment[1],m=r.latlng,g=this._getDistance(a,h,m),x=this._getDistance(a,d,m),k=g<x?h:d,E=g<x?g:x;if(this.options.snapMiddle){let G=L.PM.Utils.calcMiddleLatLng(a,h,d),ce=this._getDistance(a,G,m);ce<g&&ce<x&&(k=G,E=ce)}let B=this.options.snapDistance,Z;return E<B?Z=k:Z=m,{...Z}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(r,a,h,d){let m=r.getMaxZoom();m===1/0&&(m=r.getZoom());let g=r.project(a,m),x=r.project(h,m),k=r.project(d,m),E=L.LineUtil.closestPointOnSegment(g,x,k);return r.unproject(E,m)},_getDistanceToSegment(r,a,h,d){let m=r.latLngToLayerPoint(a),g=r.latLngToLayerPoint(h),x=r.latLngToLayerPoint(d);return L.LineUtil.pointToSegmentDistance(m,g,x)},_getDistance(r,a,h){return r.latLngToLayerPoint(a).distanceTo(r.latLngToLayerPoint(h))}},qs=xc,El=L.Class.extend({includes:[qs,Lr],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(r){let a=new L.Icon.Default;a.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=a,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(h=>{this[h]=new L.PM.Draw[h](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(r,a=!1){a?this.options.pathOptions=(0,Zs.default)(this.options.pathOptions,r):this.options.pathOptions=r},getShapes(){return this.shapes},getShape(){return this._shape},enable(r,a){if(!r)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[r].enable(a)},disable(){this.shapes.forEach(r=>{this[r].disable()})},addControls(){this.shapes.forEach(r=>{this[r].addButton()})},getActiveShape(){let r;return this.shapes.forEach(a=>{this[a]._enabled&&(r=a)}),r},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let r=[];this._map.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&(a._pmTempLayer||r.push(a))}),this._enabled?r.forEach(a=>{L.PM.Utils.disablePopup(a)}):r.forEach(a=>{L.PM.Utils.enablePopup(a)})},createNewDrawInstance(r,a){let h=this._getShapeFromBtnName(a);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[h])throw new TypeError(`There is no class L.PM.Draw.${h}`);return this[r]=new L.PM.Draw[h](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[a]&&this[r].setOptions(this[a].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName(r){let a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[r]?a[r]:this[r]?this[r]._shape:r},_finishLayer(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp(r){r._drawnByGeoman=!0},_setPane(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),En=El;En.Marker=En.extend({initialize(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(a=>{this.isRelevantMarker(a)&&a.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(r){if(!r.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng(),h=new L.Marker(a,this.options.markerStyle);this._setPane(h,"markerPane"),this._finishLayer(h),h.pm||(h.options.draggable=!1),h.addTo(this._map.pm._getContainingLayer()),h.pm&&this.options.markerEditable?h.pm.enable():h.dragging&&h.dragging.disable(),this._fireCreate(h),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var r,a;(r=this.options.markerStyle)!=null&&r.icon&&((a=this._hintMarker)==null||a.setIcon(this.options.markerStyle.icon))}});var jn=63710088e-1,No={centimeters:jn*100,centimetres:jn*100,degrees:jn/111325,feet:jn*3.28084,inches:jn*39.37,kilometers:jn/1e3,kilometres:jn/1e3,meters:jn,metres:jn,miles:jn/1609.344,millimeters:jn*1e3,millimetres:jn*1e3,nauticalmiles:jn/1852,radians:1,yards:jn*1.0936};function kr(r,a,h){h===void 0&&(h={});var d={type:"Feature"};return(h.id===0||h.id)&&(d.id=h.id),h.bbox&&(d.bbox=h.bbox),d.properties=a||{},d.geometry=r,d}function rr(r,a,h){if(h===void 0&&(h={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ks(r[0])||!Ks(r[1]))throw new Error("coordinates must contain numbers");var d={type:"Point",coordinates:r};return kr(d,a,h)}function Er(r,a,h){if(h===void 0&&(h={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var d={type:"LineString",coordinates:r};return kr(d,a,h)}function ui(r,a){a===void 0&&(a={});var h={type:"FeatureCollection"};return a.id&&(h.id=a.id),a.bbox&&(h.bbox=a.bbox),h.features=r,h}function or(r,a){a===void 0&&(a="kilometers");var h=No[a];if(!h)throw new Error(a+" units is invalid");return r*h}function wc(r,a){a===void 0&&(a="kilometers");var h=No[a];if(!h)throw new Error(a+" units is invalid");return r/h}function sr(r){var a=r%(2*Math.PI);return a*180/Math.PI}function nn(r){var a=r%360;return a*Math.PI/180}function Ks(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function to(r){var a,h,d={type:"FeatureCollection",features:[]};if(r.type==="Feature"?h=r.geometry:h=r,h.type==="LineString")a=[h.coordinates];else if(h.type==="MultiLineString")a=h.coordinates;else if(h.type==="MultiPolygon")a=[].concat.apply([],h.coordinates);else if(h.type==="Polygon")a=h.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return a.forEach(function(m){a.forEach(function(g){for(var x=0;x<m.length-1;x++)for(var k=x;k<g.length-1;k++)if(!(m===g&&(Math.abs(x-k)===1||x===0&&k===m.length-2&&m[x][0]===m[m.length-1][0]&&m[x][1]===m[m.length-1][1]))){var E=Lc(m[x][0],m[x][1],m[x+1][0],m[x+1][1],g[k][0],g[k][1],g[k+1][0],g[k+1][1]);E&&d.features.push(rr([E[0],E[1]]))}})}),d}function Lc(r,a,h,d,m,g,x,k){var E,B,Z,G,ce,_e={x:null,y:null,onLine1:!1,onLine2:!1};return E=(k-g)*(h-r)-(x-m)*(d-a),E===0?_e.x!==null&&_e.y!==null?_e:!1:(B=a-g,Z=r-m,G=(x-m)*B-(k-g)*Z,ce=(h-r)*B-(d-a)*Z,B=G/E,Z=ce/E,_e.x=r+B*(h-r),_e.y=a+B*(d-a),B>=0&&B<=1&&(_e.onLine1=!0),Z>=0&&Z<=1&&(_e.onLine2=!0),_e.onLine1&&_e.onLine2?[_e.x,_e.y]:!1)}En.Line=En.extend({initialize(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine(){let r=this._layer.getLatLngs();if(r.length>0){let a=r[r.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let h=r;h.target=this._hintMarker,this._handleSnapping(h)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let a=this._layer._defaultShape().slice();a.push(this._hintMarker.getLatLng()),this._change(a)},hasSelfIntersection(){return to(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(r,a){let h=L.polyline(this._layer.getLatLngs());r&&(a||(a=this._hintMarker.getLatLng()),h.addLatLng(a));let d=to(h.toGeoJSON(15));this._doesSelfIntersect=d.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(d,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(r){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,r.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng(),h=this._layer.getLatLngs(),d=h[h.length-1];if(a.equals(h[0])||h.length>0&&a.equals(d)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);let m=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(m,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)},_setHintLineAfterNewVertex(r){this._hintline.setLatLngs([r,r])},_removeLastVertex(){let r=this._markers;if(r.length<=1){this.disable();return}let a=this._layer.getLatLngs(),h=r[r.length-1],{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(r,h);r.pop(),this._layerGroup.removeLayer(h);let m=r[r.length-1],g=a.indexOf(m.getLatLng());a=a.slice(0,g+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(h,d,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=1)return;let a=L.polyline(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createMarker(r){let a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText(){let{length:r}=this._layer.getLatLngs().flat(),a="";r<=1?a=Tt("tooltips.continueLine"):a=Tt("tooltips.finishLine"),this._hintMarker.setTooltipContent(a)},_change(r){this._fireChange(r,"Draw")},setStyle(){var r,a;(r=this._layer)==null||r.setStyle(this.options.templineStyle),(a=this._hintline)==null||a.setStyle(this.options.hintlineStyle)}}),En.Polygon=En.Line.extend({initialize(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker(r){let a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",()=>1),a},_setTooltipText(){let{length:r}=this._layer.getLatLngs().flat(),a="";r<=2?a=Tt("tooltips.continueLine"):a=Tt("tooltips.finishPoly"),this._hintMarker.setTooltipContent(a)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=2)return;let a=L.polygon(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}),En.Rectangle=En.extend({initialize(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let a=0;a<2;a+=1){let h=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._styleMarkers.push(h)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(h=>{L.DomUtil.addClass(h._icon,"visible"),h.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Tt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let h=r;h.target=this._hintMarker,this._handleSnapping(h)}let a=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(a,"Draw")},_syncRectangleSize(){let r=jo(this._startMarker.getLatLng(),this._map),a=jo(this._hintMarker.getLatLng(),this._map),h=L.PM.Utils._getRotatedRectangle(r,a,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(h),this.options.cursorMarker&&this._styleMarkers){let d=[];h.forEach(m=>{!m.equals(r,1e-8)&&!m.equals(a,1e-8)&&d.push(m)}),d.forEach((m,g)=>{try{this._styleMarkers[g].setLatLng(m)}catch{}})}},_findCorners(){let r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this.options.rectangleAngle||0,this._map)},_finishShape(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng(),h=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||h.equals(a))return;let d=L.rectangle([h,a],this.options.pathOptions);if(this.options.rectangleAngle){let m=L.PM.Utils._getRotatedRectangle(h,a,this.options.rectangleAngle||0,this._map);d.setLatLngs(m),d.pm&&d.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._fireCreate(d),this.disable(),this.options.continueDrawing&&this.enable()},setStyle(){var r;(r=this._layer)==null||r.setStyle(this.options.pathOptions)}}),En.CircleMarker=En.extend({initialize(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(r){if(L.Util.setOptions(this,r),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let a={};L.extend(a,this.options.templineStyle),a.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),a),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.disable()})},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_placeCenterMarker(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Tt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let r=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,a])},_syncCircleRadius(){let r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),h=this._distanceCalculation(r,a);this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(h)},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let h=r;h.target=this._hintMarker,this._handleSnapping(h)}this._handleHintMarkerSnapping();let a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},isRelevantMarker(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker(r){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!r.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng(),h=new this._BaseCircleClass(a,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(h),this._fireCreate(h),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(r){r.pm&&this.options.markerEditable&&r.pm.enable()},_finishShape(r){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._centerMarker.getLatLng(),h=this._defaultRadius;if(this.options[this._editableOption]){let g=this._hintMarker.getLatLng();h=this._distanceCalculation(a,g),this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?h=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&(h=this.options[this._maxRadiusOption])}let d={...this.options.pathOptions,radius:h},m=new this._BaseCircleClass(a,d);this._setPane(m,"layerPane"),this._finishLayer(m),m.addTo(this._map.pm._getContainingLayer()),m.pm&&m.pm._updateHiddenPolyCircle(),this._fireCreate(m),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker(){let r=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return r;let a=this._centerMarker.getLatLng(),h=this._distanceCalculation(a,r);this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?r=eo(this._map,a,r,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&(r=eo(this._map,a,r,this._getMaxDistanceInMeter()))}return r},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),h=this._distanceCalculation(r,a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var a,h;let r={};L.extend(r,this.options.templineStyle),this.options[this._editableOption]&&(r.radius=0),(a=this._layer)==null||a.setStyle(r),(h=this._hintline)==null||h.setStyle(this.options.hintlineStyle)},_distanceCalculation(r,a){return this._map.project(r).distanceTo(this._map.project(a))}}),En.Circle=En.CircleMarker.extend({initialize(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(r,a){return this._map.distance(r,a)}});function Qn(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ei(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function zo(r){return r.type==="Feature"?r.geometry:r}function Ml(r,a){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function Vo(r,a,h){if(r!==null)for(var d,m,g,x,k,E,B,Z=0,G=0,ce,_e=r.type,Oe=_e==="FeatureCollection",Je=_e==="Feature",et=Oe?r.features.length:1,At=0;At<et;At++){B=Oe?r.features[At].geometry:Je?r.geometry:r,ce=B?B.type==="GeometryCollection":!1,k=ce?B.geometries.length:1;for(var H=0;H<k;H++){var Y=0,re=0;if(x=ce?B.geometries[H]:B,x!==null){E=x.coordinates;var me=x.type;switch(Z=0,me){case null:break;case"Point":if(a(E,G,At,Y,re)===!1)return!1;G++,Y++;break;case"LineString":case"MultiPoint":for(d=0;d<E.length;d++){if(a(E[d],G,At,Y,re)===!1)return!1;G++,me==="MultiPoint"&&Y++}me==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(d=0;d<E.length;d++){for(m=0;m<E[d].length-Z;m++){if(a(E[d][m],G,At,Y,re)===!1)return!1;G++}me==="MultiLineString"&&Y++,me==="Polygon"&&re++}me==="Polygon"&&Y++;break;case"MultiPolygon":for(d=0;d<E.length;d++){for(re=0,m=0;m<E[d].length;m++){for(g=0;g<E[d][m].length-Z;g++){if(a(E[d][m][g],G,At,Y,re)===!1)return!1;G++}re++}Y++}break;case"GeometryCollection":for(d=0;d<x.geometries.length;d++)if(Vo(x.geometries[d],a)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function no(r,a){if(r.type==="Feature")a(r,0);else if(r.type==="FeatureCollection")for(var h=0;h<r.features.length&&a(r.features[h],h)!==!1;h++);}function ci(r,a,h){var d=h;return no(r,function(m,g){g===0&&h===void 0?d=m:d=a(d,m,g)}),d}function Mr(r,a){var h,d,m,g,x,k,E,B,Z,G,ce=0,_e=r.type==="FeatureCollection",Oe=r.type==="Feature",Je=_e?r.features.length:1;for(h=0;h<Je;h++){for(k=_e?r.features[h].geometry:Oe?r.geometry:r,B=_e?r.features[h].properties:Oe?r.properties:{},Z=_e?r.features[h].bbox:Oe?r.bbox:void 0,G=_e?r.features[h].id:Oe?r.id:void 0,E=k?k.type==="GeometryCollection":!1,x=E?k.geometries.length:1,m=0;m<x;m++){if(g=E?k.geometries[m]:k,g===null){if(a(null,ce,B,Z,G)===!1)return!1;continue}switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(a(g,ce,B,Z,G)===!1)return!1;break}case"GeometryCollection":{for(d=0;d<g.geometries.length;d++)if(a(g.geometries[d],ce,B,Z,G)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ce++}}function Ws(r,a){Mr(r,function(h,d,m,g,x){var k=h===null?null:h.type;switch(k){case null:case"Point":case"LineString":case"Polygon":return a(kr(h,m,{bbox:g,id:x}),d,0)===!1?!1:void 0}var E;switch(k){case"MultiPoint":E="Point";break;case"MultiLineString":E="LineString";break;case"MultiPolygon":E="Polygon";break}for(var B=0;B<h.coordinates.length;B++){var Z=h.coordinates[B],G={type:E,coordinates:Z};if(a(kr(G,m),d,B)===!1)return!1}})}function Bi(r){if(!r)throw new Error("geojson is required");var a=[];return Ws(r,function(h){Cc(h,a)}),ui(a)}function Cc(r,a){var h=[],d=r.geometry;if(d!==null){switch(d.type){case"Polygon":h=ei(d);break;case"LineString":h=[ei(d)]}h.forEach(function(m){var g=Sr(m,r.properties);g.forEach(function(x){x.id=a.length,a.push(x)})})}}function Sr(r,a){var h=[];return r.reduce(function(d,m){var g=Er([d,m],a);return g.bbox=kc(d,m),h.push(g),m}),h}function kc(r,a){var h=r[0],d=r[1],m=a[0],g=a[1],x=h<m?h:m,k=d<g?d:g,E=h>m?h:m,B=d>g?d:g;return[x,k,E,B]}var ar=Bi,Sl=_(Xi(),1);function Go(r,a){var h={},d=[];if(r.type==="LineString"&&(r=kr(r)),a.type==="LineString"&&(a=kr(a)),r.type==="Feature"&&a.type==="Feature"&&r.geometry!==null&&a.geometry!==null&&r.geometry.type==="LineString"&&a.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var m=Pl(r,a);return m&&d.push(m),ui(d)}var g=(0,Sl.default)();return g.load(ar(a)),no(ar(r),function(x){no(g.search(x),function(k){var E=Pl(x,k);if(E){var B=ei(E).join(",");h[B]||(h[B]=!0,d.push(E))}})}),ui(d)}function Pl(r,a){var h=ei(r),d=ei(a);if(h.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(d.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var m=h[0][0],g=h[0][1],x=h[1][0],k=h[1][1],E=d[0][0],B=d[0][1],Z=d[1][0],G=d[1][1],ce=(G-B)*(x-m)-(Z-E)*(k-g),_e=(Z-E)*(g-B)-(G-B)*(m-E),Oe=(x-m)*(g-B)-(k-g)*(m-E);if(ce===0)return null;var Je=_e/ce,et=Oe/ce;if(Je>=0&&Je<=1&&et>=0&&et<=1){var At=m+Je*(x-m),H=g+Je*(k-g);return rr([At,H])}return null}var Nn=Go,io=_(Xi(),1);function Ec(r,a,h){h===void 0&&(h={});var d=Qn(r),m=Qn(a),g=nn(m[1]-d[1]),x=nn(m[0]-d[0]),k=nn(d[1]),E=nn(m[1]),B=Math.pow(Math.sin(g/2),2)+Math.pow(Math.sin(x/2),2)*Math.cos(k)*Math.cos(E);return or(2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B)),h.units)}var Ti=Ec;function Mc(r){var a=r[0],h=r[1],d=r[2],m=r[3],g=Ti(r.slice(0,2),[d,h]),x=Ti(r.slice(0,2),[a,m]);if(g>=x){var k=(h+m)/2;return[a,k-(d-a)/2,d,k+(d-a)/2]}else{var E=(a+d)/2;return[E-(m-h)/2,h,E+(m-h)/2,m]}}var Ai=Mc;function Js(r){var a=[1/0,1/0,-1/0,-1/0];return Vo(r,function(h){a[0]>h[0]&&(a[0]=h[0]),a[1]>h[1]&&(a[1]=h[1]),a[2]<h[0]&&(a[2]=h[0]),a[3]<h[1]&&(a[3]=h[1])}),a}Js.default=Js;var vi=Js;function Sc(r,a){a===void 0&&(a={});var h=a.precision,d=a.coordinates,m=a.mutate;if(h=h==null||isNaN(h)?6:h,d=d==null||isNaN(d)?3:d,!r)throw new Error("<geojson> is required");if(typeof h!="number")throw new Error("<precision> must be a number");if(typeof d!="number")throw new Error("<coordinates> must be a number");(m===!1||m===void 0)&&(r=JSON.parse(JSON.stringify(r)));var g=Math.pow(10,h);return Vo(r,function(x){Oi(x,g,d)}),r}function Oi(r,a,h){r.length>h&&r.splice(h,r.length);for(var d=0;d<r.length;d++)r[d]=Math.round(r[d]*a)/a;return r}var $o=Sc;function Ys(r,a,h){if(h===void 0&&(h={}),h.final===!0)return Xs(r,a);var d=Qn(r),m=Qn(a),g=nn(d[0]),x=nn(m[0]),k=nn(d[1]),E=nn(m[1]),B=Math.sin(x-g)*Math.cos(E),Z=Math.cos(k)*Math.sin(E)-Math.sin(k)*Math.cos(E)*Math.cos(x-g);return sr(Math.atan2(B,Z))}function Xs(r,a){var h=Ys(a,r);return h=(h+180)%360,h}function ro(r,a,h,d){d===void 0&&(d={});var m=Qn(r),g=nn(m[0]),x=nn(m[1]),k=nn(h),E=wc(a,d.units),B=Math.asin(Math.sin(x)*Math.cos(E)+Math.cos(x)*Math.sin(E)*Math.cos(k)),Z=g+Math.atan2(Math.sin(k)*Math.sin(E)*Math.cos(x),Math.cos(E)-Math.sin(x)*Math.sin(B)),G=sr(Z),ce=sr(B);return rr([G,ce],d.properties)}function Qs(r,a,h){h===void 0&&(h={});var d=rr([1/0,1/0],{dist:1/0}),m=0;return Ws(r,function(g){for(var x=ei(g),k=0;k<x.length-1;k++){var E=rr(x[k]);E.properties.dist=Ti(a,E,h);var B=rr(x[k+1]);B.properties.dist=Ti(a,B,h);var Z=Ti(E,B,h),G=Math.max(E.properties.dist,B.properties.dist),ce=Ys(E,B),_e=ro(a,G,ce+90,h),Oe=ro(a,G,ce-90,h),Je=Nn(Er([_e.geometry.coordinates,Oe.geometry.coordinates]),Er([E.geometry.coordinates,B.geometry.coordinates])),et=null;Je.features.length>0&&(et=Je.features[0],et.properties.dist=Ti(a,et,h),et.properties.location=m+Ti(E,et,h)),E.properties.dist<d.properties.dist&&(d=E,d.properties.index=k,d.properties.location=m),B.properties.dist<d.properties.dist&&(d=B,d.properties.index=k+1,d.properties.location=m+Z),et&&et.properties.dist<d.properties.dist&&(d=et,d.properties.index=k),m+=Z}}),d}var Uo=Qs;function Pr(r,a){if(!r)throw new Error("line is required");if(!a)throw new Error("splitter is required");var h=Ml(r),d=Ml(a);if(h!=="LineString")throw new Error("line must be LineString");if(d==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(d==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var m=$o(a,{precision:7});switch(d){case"Point":return so(r,m);case"MultiPoint":return oo(r,m);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return oo(r,Nn(r,m))}}function oo(r,a){var h=[],d=(0,io.default)();return Ws(a,function(m){if(h.forEach(function(k,E){k.id=E}),!h.length)h=so(r,m).features,h.forEach(function(k){k.bbox||(k.bbox=Ai(vi(k)))}),d.load(ui(h));else{var g=d.search(m);if(g.features.length){var x=ea(m,g);h=h.filter(function(k){return k.id!==x.id}),d.remove(x),no(so(x,m),function(k){h.push(k),d.insert(k)})}}}),ui(h)}function so(r,a){var h=[],d=ei(r)[0],m=ei(r)[r.geometry.coordinates.length-1];if(ta(d,Qn(a))||ta(m,Qn(a)))return ui([r]);var g=(0,io.default)(),x=ar(r);g.load(x);var k=g.search(a);if(!k.features.length)return ui([r]);var E=ea(a,k),B=[d],Z=ci(x,function(G,ce,_e){var Oe=ei(ce)[1],Je=Qn(a);return _e===E.id?(G.push(Je),h.push(Er(G)),ta(Je,Oe)?[Je]:[Je,Oe]):(G.push(Oe),G)},B);return Z.length>1&&h.push(Er(Z)),ui(h)}function ea(r,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var h,d=1/0;return no(a,function(m){var g=Uo(m,r),x=g.properties.dist;x<d&&(h=m,d=x)}),h}function ta(r,a){return r[0]===a[0]&&r[1]===a[1]}var Ho=Pr;function Zo(r,a,h){if(h===void 0&&(h={}),!r)throw new Error("point is required");if(!a)throw new Error("polygon is required");var d=Qn(r),m=zo(a),g=m.type,x=a.bbox,k=m.coordinates;if(x&&Pc(d,x)===!1)return!1;g==="Polygon"&&(k=[k]);for(var E=!1,B=0;B<k.length&&!E;B++)if(na(d,k[B][0],h.ignoreBoundary)){for(var Z=!1,G=1;G<k[B].length&&!Z;)na(d,k[B][G],!h.ignoreBoundary)&&(Z=!0),G++;Z||(E=!0)}return E}function na(r,a,h){var d=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var m=0,g=a.length-1;m<a.length;g=m++){var x=a[m][0],k=a[m][1],E=a[g][0],B=a[g][1],Z=r[1]*(x-E)+k*(E-r[0])+B*(r[0]-x)===0&&(x-r[0])*(E-r[0])<=0&&(k-r[1])*(B-r[1])<=0;if(Z)return!h;var G=k>r[1]!=B>r[1]&&r[0]<(E-x)*(r[1]-k)/(B-k)+x;G&&(d=!d)}return d}function Pc(r,a){return a[0]<=r[0]&&a[1]<=r[1]&&a[2]>=r[0]&&a[3]>=r[1]}function Bl(r,a,h){h===void 0&&(h={});for(var d=Qn(r),m=ei(a),g=0;g<m.length-1;g++){var x=!1;if(h.ignoreEndVertices&&(g===0&&(x="start"),g===m.length-2&&(x="end"),g===0&&g+1===m.length-1&&(x="both")),Bc(m[g],m[g+1],d,x,typeof h.epsilon>"u"?null:h.epsilon))return!0}return!1}function Bc(r,a,h,d,m){var g=h[0],x=h[1],k=r[0],E=r[1],B=a[0],Z=a[1],G=h[0]-k,ce=h[1]-E,_e=B-k,Oe=Z-E,Je=G*Oe-ce*_e;if(m!==null){if(Math.abs(Je)>m)return!1}else if(Je!==0)return!1;if(d){if(d==="start")return Math.abs(_e)>=Math.abs(Oe)?_e>0?k<g&&g<=B:B<=g&&g<k:Oe>0?E<x&&x<=Z:Z<=x&&x<E;if(d==="end")return Math.abs(_e)>=Math.abs(Oe)?_e>0?k<=g&&g<B:B<g&&g<=k:Oe>0?E<=x&&x<Z:Z<x&&x<=E;if(d==="both")return Math.abs(_e)>=Math.abs(Oe)?_e>0?k<g&&g<B:B<g&&g<k:Oe>0?E<x&&x<Z:Z<x&&x<E}else return Math.abs(_e)>=Math.abs(Oe)?_e>0?k<=g&&g<=B:B<=g&&g<=k:Oe>0?E<=x&&x<=Z:Z<=x&&x<=E;return!1}var zn=Bl;function qo(r,a){var h=zo(r),d=zo(a),m=h.type,g=d.type,x=h.coordinates,k=d.coordinates;switch(m){case"Point":switch(g){case"Point":return Wo(x,k);default:throw new Error("feature2 "+g+" geometry not supported")}case"MultiPoint":switch(g){case"Point":return Tc(h,d);case"MultiPoint":return Ko(h,d);default:throw new Error("feature2 "+g+" geometry not supported")}case"LineString":switch(g){case"Point":return zn(d,h,{ignoreEndVertices:!0});case"LineString":return Oc(h,d);case"MultiPoint":return Ac(h,d);default:throw new Error("feature2 "+g+" geometry not supported")}case"Polygon":switch(g){case"Point":return Zo(d,h,{ignoreBoundary:!0});case"LineString":return ao(h,d);case"Polygon":return Rc(h,d);case"MultiPoint":return Tl(h,d);default:throw new Error("feature2 "+g+" geometry not supported")}default:throw new Error("feature1 "+m+" geometry not supported")}}function Tc(r,a){var h,d=!1;for(h=0;h<r.coordinates.length;h++)if(Wo(r.coordinates[h],a.coordinates)){d=!0;break}return d}function Ko(r,a){for(var h=0,d=a.coordinates;h<d.length;h++){for(var m=d[h],g=!1,x=0,k=r.coordinates;x<k.length;x++){var E=k[x];if(Wo(m,E)){g=!0;break}}if(!g)return!1}return!0}function Ac(r,a){for(var h=!1,d=0,m=a.coordinates;d<m.length;d++){var g=m[d];if(zn(g,r,{ignoreEndVertices:!0})&&(h=!0),!zn(g,r))return!1}return!!h}function Tl(r,a){for(var h=0,d=a.coordinates;h<d.length;h++){var m=d[h];if(!Zo(m,r,{ignoreBoundary:!0}))return!1}return!0}function Oc(r,a){for(var h=!1,d=0,m=a.coordinates;d<m.length;d++){var g=m[d];if(zn({type:"Point",coordinates:g},r,{ignoreEndVertices:!0})&&(h=!0),!zn({type:"Point",coordinates:g},r,{ignoreEndVertices:!1}))return!1}return h}function ao(r,a){var h=!1,d=0,m=vi(r),g=vi(a);if(!lr(m,g))return!1;for(d;d<a.coordinates.length-1;d++){var x=Al(a.coordinates[d],a.coordinates[d+1]);if(Zo({type:"Point",coordinates:x},r,{ignoreBoundary:!0})){h=!0;break}}return h}function Rc(r,a){if(r.type==="Feature"&&r.geometry===null||a.type==="Feature"&&a.geometry===null)return!1;var h=vi(r),d=vi(a);if(!lr(h,d))return!1;for(var m=zo(a).coordinates,g=0,x=m;g<x.length;g++)for(var k=x[g],E=0,B=k;E<B.length;E++){var Z=B[E];if(!Zo(Z,r))return!1}return!0}function lr(r,a){return!(r[0]>a[0]||r[2]<a[2]||r[1]>a[1]||r[3]<a[3])}function Wo(r,a){return r[0]===a[0]&&r[1]===a[1]}function Al(r,a){return[(r[0]+a[0])/2,(r[1]+a[1])/2]}var Dc=_(zi()),bi=r=>()=>r,Jo=r=>{let a=r?(h,d)=>d.minus(h).abs().isLessThanOrEqualTo(r):bi(!1);return(h,d)=>a(h,d)?0:h.comparedTo(d)};function Ol(r){let a=r?(h,d,m,g,x)=>h.exponentiatedBy(2).isLessThanOrEqualTo(g.minus(d).exponentiatedBy(2).plus(x.minus(m).exponentiatedBy(2)).times(r)):bi(!1);return(h,d,m)=>{let g=h.x,x=h.y,k=m.x,E=m.y,B=x.minus(E).times(d.x.minus(k)).minus(g.minus(k).times(d.y.minus(E)));return a(B,g,x,k,E)?0:B.comparedTo(0)}}var lo=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ia=Math.ceil,Dn=Math.floor,xn="[BigNumber Error] ",ra=xn+"Number primitive has more than 15 significant digits: ",ti=1e14,_t=14,Yo=9007199254740991,Xo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ri=1e7,_n=1e9;function oa(r){var a,h,d,m=H.prototype={constructor:H,toString:null,valueOf:null},g=new H(1),x=20,k=4,E=-7,B=21,Z=-1e7,G=1e7,ce=!1,_e=1,Oe=0,Je={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},et="0123456789abcdefghijklmnopqrstuvwxyz",At=!0;function H(M,A){var I,D,F,j,Q,X,ie,ue,le=this;if(!(le instanceof H))return new H(M,A);if(A==null){if(M&&M._isBigNumber===!0){le.s=M.s,!M.c||M.e>G?le.c=le.e=null:M.e<Z?le.c=[le.e=0]:(le.e=M.e,le.c=M.c.slice());return}if((X=typeof M=="number")&&M*0==0){if(le.s=1/M<0?(M=-M,-1):1,M===~~M){for(j=0,Q=M;Q>=10;Q/=10,j++);j>G?le.c=le.e=null:(le.e=j,le.c=[M]);return}ue=String(M)}else{if(!lo.test(ue=String(M)))return d(le,ue,X);le.s=ue.charCodeAt(0)==45?(ue=ue.slice(1),-1):1}(j=ue.indexOf("."))>-1&&(ue=ue.replace(".","")),(Q=ue.search(/e/i))>0?(j<0&&(j=Q),j+=+ue.slice(Q+1),ue=ue.substring(0,Q)):j<0&&(j=ue.length)}else{if(en(A,2,et.length,"Base"),A==10&&At)return le=new H(M),ae(le,x+le.e+1,k);if(ue=String(M),X=typeof M=="number"){if(M*0!=0)return d(le,ue,X,A);if(le.s=1/M<0?(ue=ue.slice(1),-1):1,H.DEBUG&&ue.replace(/^0\.0*|\./,"").length>15)throw Error(ra+M)}else le.s=ue.charCodeAt(0)===45?(ue=ue.slice(1),-1):1;for(I=et.slice(0,A),j=Q=0,ie=ue.length;Q<ie;Q++)if(I.indexOf(D=ue.charAt(Q))<0){if(D=="."){if(Q>j){j=ie;continue}}else if(!F&&(ue==ue.toUpperCase()&&(ue=ue.toLowerCase())||ue==ue.toLowerCase()&&(ue=ue.toUpperCase()))){F=!0,Q=-1,j=0;continue}return d(le,String(M),X,A)}X=!1,ue=h(ue,A,10,le.s),(j=ue.indexOf("."))>-1?ue=ue.replace(".",""):j=ue.length}for(Q=0;ue.charCodeAt(Q)===48;Q++);for(ie=ue.length;ue.charCodeAt(--ie)===48;);if(ue=ue.slice(Q,++ie)){if(ie-=Q,X&&H.DEBUG&&ie>15&&(M>Yo||M!==Dn(M)))throw Error(ra+le.s*M);if((j=j-Q-1)>G)le.c=le.e=null;else if(j<Z)le.c=[le.e=0];else{if(le.e=j,le.c=[],Q=(j+1)%_t,j<0&&(Q+=_t),Q<ie){for(Q&&le.c.push(+ue.slice(0,Q)),ie-=_t;Q<ie;)le.c.push(+ue.slice(Q,Q+=_t));Q=_t-(ue=ue.slice(Q)).length}else Q-=ie;for(;Q--;ue+="0");le.c.push(+ue)}}else le.c=[le.e=0]}H.clone=oa,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(M){var A,I;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(A="DECIMAL_PLACES")&&(I=M[A],en(I,0,_n,A),x=I),M.hasOwnProperty(A="ROUNDING_MODE")&&(I=M[A],en(I,0,8,A),k=I),M.hasOwnProperty(A="EXPONENTIAL_AT")&&(I=M[A],I&&I.pop?(en(I[0],-_n,0,A),en(I[1],0,_n,A),E=I[0],B=I[1]):(en(I,-_n,_n,A),E=-(B=I<0?-I:I))),M.hasOwnProperty(A="RANGE"))if(I=M[A],I&&I.pop)en(I[0],-_n,-1,A),en(I[1],1,_n,A),Z=I[0],G=I[1];else if(en(I,-_n,_n,A),I)Z=-(G=I<0?-I:I);else throw Error(xn+A+" cannot be zero: "+I);if(M.hasOwnProperty(A="CRYPTO"))if(I=M[A],I===!!I)if(I)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ce=I;else throw ce=!I,Error(xn+"crypto unavailable");else ce=I;else throw Error(xn+A+" not true or false: "+I);if(M.hasOwnProperty(A="MODULO_MODE")&&(I=M[A],en(I,0,9,A),_e=I),M.hasOwnProperty(A="POW_PRECISION")&&(I=M[A],en(I,0,_n,A),Oe=I),M.hasOwnProperty(A="FORMAT"))if(I=M[A],typeof I=="object")Je=I;else throw Error(xn+A+" not an object: "+I);if(M.hasOwnProperty(A="ALPHABET"))if(I=M[A],typeof I=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(I))At=I.slice(0,10)=="0123456789",et=I;else throw Error(xn+A+" invalid: "+I)}else throw Error(xn+"Object expected: "+M);return{DECIMAL_PLACES:x,ROUNDING_MODE:k,EXPONENTIAL_AT:[E,B],RANGE:[Z,G],CRYPTO:ce,MODULO_MODE:_e,POW_PRECISION:Oe,FORMAT:Je,ALPHABET:et}},H.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!H.DEBUG)return!0;var A,I,D=M.c,F=M.e,j=M.s;e:if({}.toString.call(D)=="[object Array]"){if((j===1||j===-1)&&F>=-_n&&F<=_n&&F===Dn(F)){if(D[0]===0){if(F===0&&D.length===1)return!0;break e}if(A=(F+1)%_t,A<1&&(A+=_t),String(D[0]).length==A){for(A=0;A<D.length;A++)if(I=D[A],I<0||I>=ti||I!==Dn(I))break e;if(I!==0)return!0}}}else if(D===null&&F===null&&(j===null||j===1||j===-1))return!0;throw Error(xn+"Invalid BigNumber: "+M)},H.maximum=H.max=function(){return re(arguments,-1)},H.minimum=H.min=function(){return re(arguments,1)},H.random=function(){var M=9007199254740992,A=Math.random()*M&2097151?function(){return Dn(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(I){var D,F,j,Q,X,ie=0,ue=[],le=new H(g);if(I==null?I=x:en(I,0,_n),Q=ia(I/_t),ce)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(Q*=2));ie<Q;)X=D[ie]*131072+(D[ie+1]>>>11),X>=9e15?(F=crypto.getRandomValues(new Uint32Array(2)),D[ie]=F[0],D[ie+1]=F[1]):(ue.push(X%1e14),ie+=2);ie=Q/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(Q*=7);ie<Q;)X=(D[ie]&31)*281474976710656+D[ie+1]*1099511627776+D[ie+2]*4294967296+D[ie+3]*16777216+(D[ie+4]<<16)+(D[ie+5]<<8)+D[ie+6],X>=9e15?crypto.randomBytes(7).copy(D,ie):(ue.push(X%1e14),ie+=7);ie=Q/7}else throw ce=!1,Error(xn+"crypto unavailable");if(!ce)for(;ie<Q;)X=A(),X<9e15&&(ue[ie++]=X%1e14);for(Q=ue[--ie],I%=_t,Q&&I&&(X=Xo[_t-I],ue[ie]=Dn(Q/X)*X);ue[ie]===0;ue.pop(),ie--);if(ie<0)ue=[j=0];else{for(j=-1;ue[0]===0;ue.splice(0,1),j-=_t);for(ie=1,X=ue[0];X>=10;X/=10,ie++);ie<_t&&(j-=_t-ie)}return le.e=j,le.c=ue,le}}(),H.sum=function(){for(var M=1,A=arguments,I=new H(A[0]);M<A.length;)I=I.plus(A[M++]);return I},h=function(){var M="0123456789";function A(I,D,F,j){for(var Q,X=[0],ie,ue=0,le=I.length;ue<le;){for(ie=X.length;ie--;X[ie]*=D);for(X[0]+=j.indexOf(I.charAt(ue++)),Q=0;Q<X.length;Q++)X[Q]>F-1&&(X[Q+1]==null&&(X[Q+1]=0),X[Q+1]+=X[Q]/F|0,X[Q]%=F)}return X.reverse()}return function(I,D,F,j,Q){var X,ie,ue,le,ke,Qe,nt,ct,Vt=I.indexOf("."),qt=x,It=k;for(Vt>=0&&(le=Oe,Oe=0,I=I.replace(".",""),ct=new H(D),Qe=ct.pow(I.length-Vt),Oe=le,ct.c=A(p(Zn(Qe.c),Qe.e,"0"),10,F,M),ct.e=ct.c.length),nt=A(I,D,F,Q?(X=et,M):(X=M,et)),ue=le=nt.length;nt[--le]==0;nt.pop());if(!nt[0])return X.charAt(0);if(Vt<0?--ue:(Qe.c=nt,Qe.e=ue,Qe.s=j,Qe=a(Qe,ct,qt,It,F),nt=Qe.c,ke=Qe.r,ue=Qe.e),ie=ue+qt+1,Vt=nt[ie],le=F/2,ke=ke||ie<0||nt[ie+1]!=null,ke=It<4?(Vt!=null||ke)&&(It==0||It==(Qe.s<0?3:2)):Vt>le||Vt==le&&(It==4||ke||It==6&&nt[ie-1]&1||It==(Qe.s<0?8:7)),ie<1||!nt[0])I=ke?p(X.charAt(1),-qt,X.charAt(0)):X.charAt(0);else{if(nt.length=ie,ke)for(--F;++nt[--ie]>F;)nt[ie]=0,ie||(++ue,nt=[1].concat(nt));for(le=nt.length;!nt[--le];);for(Vt=0,I="";Vt<=le;I+=X.charAt(nt[Vt++]));I=p(I,ue,X.charAt(0))}return I}}(),a=function(){function M(D,F,j){var Q,X,ie,ue,le=0,ke=D.length,Qe=F%Ri,nt=F/Ri|0;for(D=D.slice();ke--;)ie=D[ke]%Ri,ue=D[ke]/Ri|0,Q=nt*ie+ue*Qe,X=Qe*ie+Q%Ri*Ri+le,le=(X/j|0)+(Q/Ri|0)+nt*ue,D[ke]=X%j;return le&&(D=[le].concat(D)),D}function A(D,F,j,Q){var X,ie;if(j!=Q)ie=j>Q?1:-1;else for(X=ie=0;X<j;X++)if(D[X]!=F[X]){ie=D[X]>F[X]?1:-1;break}return ie}function I(D,F,j,Q){for(var X=0;j--;)D[j]-=X,X=D[j]<F[j]?1:0,D[j]=X*Q+D[j]-F[j];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,F,j,Q,X){var ie,ue,le,ke,Qe,nt,ct,Vt,qt,It,Kt,Vn,Gl,Nc,zc,Zi,la,wi=D.s==F.s?1:-1,qn=D.c,fn=F.c;if(!qn||!qn[0]||!fn||!fn[0])return new H(!D.s||!F.s||(qn?fn&&qn[0]==fn[0]:!fn)?NaN:qn&&qn[0]==0||!fn?wi*0:wi/0);for(Vt=new H(wi),qt=Vt.c=[],ue=D.e-F.e,wi=j+ue+1,X||(X=ti,ue=ni(D.e/_t)-ni(F.e/_t),wi=wi/_t|0),le=0;fn[le]==(qn[le]||0);le++);if(fn[le]>(qn[le]||0)&&ue--,wi<0)qt.push(1),ke=!0;else{for(Nc=qn.length,Zi=fn.length,le=0,wi+=2,Qe=Dn(X/(fn[0]+1)),Qe>1&&(fn=M(fn,Qe,X),qn=M(qn,Qe,X),Zi=fn.length,Nc=qn.length),Gl=Zi,It=qn.slice(0,Zi),Kt=It.length;Kt<Zi;It[Kt++]=0);la=fn.slice(),la=[0].concat(la),zc=fn[0],fn[1]>=X/2&&zc++;do{if(Qe=0,ie=A(fn,It,Zi,Kt),ie<0){if(Vn=It[0],Zi!=Kt&&(Vn=Vn*X+(It[1]||0)),Qe=Dn(Vn/zc),Qe>1)for(Qe>=X&&(Qe=X-1),nt=M(fn,Qe,X),ct=nt.length,Kt=It.length;A(nt,It,ct,Kt)==1;)Qe--,I(nt,Zi<ct?la:fn,ct,X),ct=nt.length,ie=1;else Qe==0&&(ie=Qe=1),nt=fn.slice(),ct=nt.length;if(ct<Kt&&(nt=[0].concat(nt)),I(It,nt,Kt,X),Kt=It.length,ie==-1)for(;A(fn,It,Zi,Kt)<1;)Qe++,I(It,Zi<Kt?la:fn,Kt,X),Kt=It.length}else ie===0&&(Qe++,It=[0]);qt[le++]=Qe,It[0]?It[Kt++]=qn[Gl]||0:(It=[qn[Gl]],Kt=1)}while((Gl++<Nc||It[0]!=null)&&wi--);ke=It[0]!=null,qt[0]||qt.splice(0,1)}if(X==ti){for(le=1,wi=qt[0];wi>=10;wi/=10,le++);ae(Vt,j+(Vt.e=le+ue*_t-1)+1,Q,ke)}else Vt.e=ue,Vt.r=+ke;return Vt}}();function Y(M,A,I,D){var F,j,Q,X,ie;if(I==null?I=k:en(I,0,8),!M.c)return M.toString();if(F=M.c[0],Q=M.e,A==null)ie=Zn(M.c),ie=D==1||D==2&&(Q<=E||Q>=B)?l(ie,Q):p(ie,Q,"0");else if(M=ae(new H(M),A,I),j=M.e,ie=Zn(M.c),X=ie.length,D==1||D==2&&(A<=j||j<=E)){for(;X<A;ie+="0",X++);ie=l(ie,j)}else if(A-=Q,ie=p(ie,j,"0"),j+1>X){if(--A>0)for(ie+=".";A--;ie+="0");}else if(A+=j-X,A>0)for(j+1==X&&(ie+=".");A--;ie+="0");return M.s<0&&F?"-"+ie:ie}function re(M,A){for(var I,D,F=1,j=new H(M[0]);F<M.length;F++)D=new H(M[F]),(!D.s||(I=Ui(j,D))===A||I===0&&j.s===A)&&(j=D);return j}function me(M,A,I){for(var D=1,F=A.length;!A[--F];A.pop());for(F=A[0];F>=10;F/=10,D++);return(I=D+I*_t-1)>G?M.c=M.e=null:I<Z?M.c=[M.e=0]:(M.e=I,M.c=A),M}d=function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,I=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,F=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(j,Q,X,ie){var ue,le=X?Q:Q.replace(F,"");if(D.test(le))j.s=isNaN(le)?null:le<0?-1:1;else{if(!X&&(le=le.replace(M,function(ke,Qe,nt){return ue=(nt=nt.toLowerCase())=="x"?16:nt=="b"?2:8,!ie||ie==ue?Qe:ke}),ie&&(ue=ie,le=le.replace(A,"$1").replace(I,"0.$1")),Q!=le))return new H(le,ue);if(H.DEBUG)throw Error(xn+"Not a"+(ie?" base "+ie:"")+" number: "+Q);j.s=null}j.c=j.e=null}}();function ae(M,A,I,D){var F,j,Q,X,ie,ue,le,ke=M.c,Qe=Xo;if(ke){e:{for(F=1,X=ke[0];X>=10;X/=10,F++);if(j=A-F,j<0)j+=_t,Q=A,ie=ke[ue=0],le=Dn(ie/Qe[F-Q-1]%10);else if(ue=ia((j+1)/_t),ue>=ke.length)if(D){for(;ke.length<=ue;ke.push(0));ie=le=0,F=1,j%=_t,Q=j-_t+1}else break e;else{for(ie=X=ke[ue],F=1;X>=10;X/=10,F++);j%=_t,Q=j-_t+F,le=Q<0?0:Dn(ie/Qe[F-Q-1]%10)}if(D=D||A<0||ke[ue+1]!=null||(Q<0?ie:ie%Qe[F-Q-1]),D=I<4?(le||D)&&(I==0||I==(M.s<0?3:2)):le>5||le==5&&(I==4||D||I==6&&(j>0?Q>0?ie/Qe[F-Q]:0:ke[ue-1])%10&1||I==(M.s<0?8:7)),A<1||!ke[0])return ke.length=0,D?(A-=M.e+1,ke[0]=Qe[(_t-A%_t)%_t],M.e=-A||0):ke[0]=M.e=0,M;if(j==0?(ke.length=ue,X=1,ue--):(ke.length=ue+1,X=Qe[_t-j],ke[ue]=Q>0?Dn(ie/Qe[F-Q]%Qe[Q])*X:0),D)for(;;)if(ue==0){for(j=1,Q=ke[0];Q>=10;Q/=10,j++);for(Q=ke[0]+=X,X=1;Q>=10;Q/=10,X++);j!=X&&(M.e++,ke[0]==ti&&(ke[0]=1));break}else{if(ke[ue]+=X,ke[ue]!=ti)break;ke[ue--]=0,X=1}for(j=ke.length;ke[--j]===0;ke.pop());}M.e>G?M.c=M.e=null:M.e<Z&&(M.c=[M.e=0])}return M}function de(M){var A,I=M.e;return I===null?M.toString():(A=Zn(M.c),A=I<=E||I>=B?l(A,I):p(A,I,"0"),M.s<0?"-"+A:A)}return m.absoluteValue=m.abs=function(){var M=new H(this);return M.s<0&&(M.s=1),M},m.comparedTo=function(M,A){return Ui(this,new H(M,A))},m.decimalPlaces=m.dp=function(M,A){var I,D,F,j=this;if(M!=null)return en(M,0,_n),A==null?A=k:en(A,0,8),ae(new H(j),M+j.e+1,A);if(!(I=j.c))return null;if(D=((F=I.length-1)-ni(this.e/_t))*_t,F=I[F])for(;F%10==0;F/=10,D--);return D<0&&(D=0),D},m.dividedBy=m.div=function(M,A){return a(this,new H(M,A),x,k)},m.dividedToIntegerBy=m.idiv=function(M,A){return a(this,new H(M,A),0,1)},m.exponentiatedBy=m.pow=function(M,A){var I,D,F,j,Q,X,ie,ue,le,ke=this;if(M=new H(M),M.c&&!M.isInteger())throw Error(xn+"Exponent not an integer: "+de(M));if(A!=null&&(A=new H(A)),X=M.e>14,!ke.c||!ke.c[0]||ke.c[0]==1&&!ke.e&&ke.c.length==1||!M.c||!M.c[0])return le=new H(Math.pow(+de(ke),X?M.s*(2-n(M)):+de(M))),A?le.mod(A):le;if(ie=M.s<0,A){if(A.c?!A.c[0]:!A.s)return new H(NaN);D=!ie&&ke.isInteger()&&A.isInteger(),D&&(ke=ke.mod(A))}else{if(M.e>9&&(ke.e>0||ke.e<-1||(ke.e==0?ke.c[0]>1||X&&ke.c[1]>=24e7:ke.c[0]<8e13||X&&ke.c[0]<=9999975e7)))return j=ke.s<0&&n(M)?-0:0,ke.e>-1&&(j=1/j),new H(ie?1/j:j);Oe&&(j=ia(Oe/_t+2))}for(X?(I=new H(.5),ie&&(M.s=1),ue=n(M)):(F=Math.abs(+de(M)),ue=F%2),le=new H(g);;){if(ue){if(le=le.times(ke),!le.c)break;j?le.c.length>j&&(le.c.length=j):D&&(le=le.mod(A))}if(F){if(F=Dn(F/2),F===0)break;ue=F%2}else if(M=M.times(I),ae(M,M.e+1,1),M.e>14)ue=n(M);else{if(F=+de(M),F===0)break;ue=F%2}ke=ke.times(ke),j?ke.c&&ke.c.length>j&&(ke.c.length=j):D&&(ke=ke.mod(A))}return D?le:(ie&&(le=g.div(le)),A?le.mod(A):j?ae(le,Oe,k,Q):le)},m.integerValue=function(M){var A=new H(this);return M==null?M=k:en(M,0,8),ae(A,A.e+1,M)},m.isEqualTo=m.eq=function(M,A){return Ui(this,new H(M,A))===0},m.isFinite=function(){return!!this.c},m.isGreaterThan=m.gt=function(M,A){return Ui(this,new H(M,A))>0},m.isGreaterThanOrEqualTo=m.gte=function(M,A){return(A=Ui(this,new H(M,A)))===1||A===0},m.isInteger=function(){return!!this.c&&ni(this.e/_t)>this.c.length-2},m.isLessThan=m.lt=function(M,A){return Ui(this,new H(M,A))<0},m.isLessThanOrEqualTo=m.lte=function(M,A){return(A=Ui(this,new H(M,A)))===-1||A===0},m.isNaN=function(){return!this.s},m.isNegative=function(){return this.s<0},m.isPositive=function(){return this.s>0},m.isZero=function(){return!!this.c&&this.c[0]==0},m.minus=function(M,A){var I,D,F,j,Q=this,X=Q.s;if(M=new H(M,A),A=M.s,!X||!A)return new H(NaN);if(X!=A)return M.s=-A,Q.plus(M);var ie=Q.e/_t,ue=M.e/_t,le=Q.c,ke=M.c;if(!ie||!ue){if(!le||!ke)return le?(M.s=-A,M):new H(ke?Q:NaN);if(!le[0]||!ke[0])return ke[0]?(M.s=-A,M):new H(le[0]?Q:k==3?-0:0)}if(ie=ni(ie),ue=ni(ue),le=le.slice(),X=ie-ue){for((j=X<0)?(X=-X,F=le):(ue=ie,F=ke),F.reverse(),A=X;A--;F.push(0));F.reverse()}else for(D=(j=(X=le.length)<(A=ke.length))?X:A,X=A=0;A<D;A++)if(le[A]!=ke[A]){j=le[A]<ke[A];break}if(j&&(F=le,le=ke,ke=F,M.s=-M.s),A=(D=ke.length)-(I=le.length),A>0)for(;A--;le[I++]=0);for(A=ti-1;D>X;){if(le[--D]<ke[D]){for(I=D;I&&!le[--I];le[I]=A);--le[I],le[D]+=ti}le[D]-=ke[D]}for(;le[0]==0;le.splice(0,1),--ue);return le[0]?me(M,le,ue):(M.s=k==3?-1:1,M.c=[M.e=0],M)},m.modulo=m.mod=function(M,A){var I,D,F=this;return M=new H(M,A),!F.c||!M.s||M.c&&!M.c[0]?new H(NaN):!M.c||F.c&&!F.c[0]?new H(F):(_e==9?(D=M.s,M.s=1,I=a(F,M,0,3),M.s=D,I.s*=D):I=a(F,M,0,_e),M=F.minus(I.times(M)),!M.c[0]&&_e==1&&(M.s=F.s),M)},m.multipliedBy=m.times=function(M,A){var I,D,F,j,Q,X,ie,ue,le,ke,Qe,nt,ct,Vt,qt,It=this,Kt=It.c,Vn=(M=new H(M,A)).c;if(!Kt||!Vn||!Kt[0]||!Vn[0])return!It.s||!M.s||Kt&&!Kt[0]&&!Vn||Vn&&!Vn[0]&&!Kt?M.c=M.e=M.s=null:(M.s*=It.s,!Kt||!Vn?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(D=ni(It.e/_t)+ni(M.e/_t),M.s*=It.s,ie=Kt.length,ke=Vn.length,ie<ke&&(ct=Kt,Kt=Vn,Vn=ct,F=ie,ie=ke,ke=F),F=ie+ke,ct=[];F--;ct.push(0));for(Vt=ti,qt=Ri,F=ke;--F>=0;){for(I=0,Qe=Vn[F]%qt,nt=Vn[F]/qt|0,Q=ie,j=F+Q;j>F;)ue=Kt[--Q]%qt,le=Kt[Q]/qt|0,X=nt*ue+le*Qe,ue=Qe*ue+X%qt*qt+ct[j]+I,I=(ue/Vt|0)+(X/qt|0)+nt*le,ct[j--]=ue%Vt;ct[j]=I}return I?++D:ct.splice(0,1),me(M,ct,D)},m.negated=function(){var M=new H(this);return M.s=-M.s||null,M},m.plus=function(M,A){var I,D=this,F=D.s;if(M=new H(M,A),A=M.s,!F||!A)return new H(NaN);if(F!=A)return M.s=-A,D.minus(M);var j=D.e/_t,Q=M.e/_t,X=D.c,ie=M.c;if(!j||!Q){if(!X||!ie)return new H(F/0);if(!X[0]||!ie[0])return ie[0]?M:new H(X[0]?D:F*0)}if(j=ni(j),Q=ni(Q),X=X.slice(),F=j-Q){for(F>0?(Q=j,I=ie):(F=-F,I=X),I.reverse();F--;I.push(0));I.reverse()}for(F=X.length,A=ie.length,F-A<0&&(I=ie,ie=X,X=I,A=F),F=0;A;)F=(X[--A]=X[A]+ie[A]+F)/ti|0,X[A]=ti===X[A]?0:X[A]%ti;return F&&(X=[F].concat(X),++Q),me(M,X,Q)},m.precision=m.sd=function(M,A){var I,D,F,j=this;if(M!=null&&M!==!!M)return en(M,1,_n),A==null?A=k:en(A,0,8),ae(new H(j),M,A);if(!(I=j.c))return null;if(F=I.length-1,D=F*_t+1,F=I[F]){for(;F%10==0;F/=10,D--);for(F=I[0];F>=10;F/=10,D++);}return M&&j.e+1>D&&(D=j.e+1),D},m.shiftedBy=function(M){return en(M,-Yo,Yo),this.times("1e"+M)},m.squareRoot=m.sqrt=function(){var M,A,I,D,F,j=this,Q=j.c,X=j.s,ie=j.e,ue=x+4,le=new H("0.5");if(X!==1||!Q||!Q[0])return new H(!X||X<0&&(!Q||Q[0])?NaN:Q?j:1/0);if(X=Math.sqrt(+de(j)),X==0||X==1/0?(A=Zn(Q),(A.length+ie)%2==0&&(A+="0"),X=Math.sqrt(+A),ie=ni((ie+1)/2)-(ie<0||ie%2),X==1/0?A="5e"+ie:(A=X.toExponential(),A=A.slice(0,A.indexOf("e")+1)+ie),I=new H(A)):I=new H(X+""),I.c[0]){for(ie=I.e,X=ie+ue,X<3&&(X=0);;)if(F=I,I=le.times(F.plus(a(j,F,ue,1))),Zn(F.c).slice(0,X)===(A=Zn(I.c)).slice(0,X))if(I.e<ie&&--X,A=A.slice(X-3,X+1),A=="9999"||!D&&A=="4999"){if(!D&&(ae(F,F.e+x+2,0),F.times(F).eq(j))){I=F;break}ue+=4,X+=4,D=1}else{(!+A||!+A.slice(1)&&A.charAt(0)=="5")&&(ae(I,I.e+x+2,1),M=!I.times(I).eq(j));break}}return ae(I,I.e+x+1,k,M)},m.toExponential=function(M,A){return M!=null&&(en(M,0,_n),M++),Y(this,M,A,1)},m.toFixed=function(M,A){return M!=null&&(en(M,0,_n),M=M+this.e+1),Y(this,M,A)},m.toFormat=function(M,A,I){var D,F=this;if(I==null)M!=null&&A&&typeof A=="object"?(I=A,A=null):M&&typeof M=="object"?(I=M,M=A=null):I=Je;else if(typeof I!="object")throw Error(xn+"Argument not an object: "+I);if(D=F.toFixed(M,A),F.c){var j,Q=D.split("."),X=+I.groupSize,ie=+I.secondaryGroupSize,ue=I.groupSeparator||"",le=Q[0],ke=Q[1],Qe=F.s<0,nt=Qe?le.slice(1):le,ct=nt.length;if(ie&&(j=X,X=ie,ie=j,ct-=j),X>0&&ct>0){for(j=ct%X||X,le=nt.substr(0,j);j<ct;j+=X)le+=ue+nt.substr(j,X);ie>0&&(le+=ue+nt.slice(j)),Qe&&(le="-"+le)}D=ke?le+(I.decimalSeparator||"")+((ie=+I.fractionGroupSize)?ke.replace(new RegExp("\\d{"+ie+"}\\B","g"),"$&"+(I.fractionGroupSeparator||"")):ke):le}return(I.prefix||"")+D+(I.suffix||"")},m.toFraction=function(M){var A,I,D,F,j,Q,X,ie,ue,le,ke,Qe,nt=this,ct=nt.c;if(M!=null&&(X=new H(M),!X.isInteger()&&(X.c||X.s!==1)||X.lt(g)))throw Error(xn+"Argument "+(X.isInteger()?"out of range: ":"not an integer: ")+de(X));if(!ct)return new H(nt);for(A=new H(g),ue=I=new H(g),D=ie=new H(g),Qe=Zn(ct),j=A.e=Qe.length-nt.e-1,A.c[0]=Xo[(Q=j%_t)<0?_t+Q:Q],M=!M||X.comparedTo(A)>0?j>0?A:ue:X,Q=G,G=1/0,X=new H(Qe),ie.c[0]=0;le=a(X,A,0,1),F=I.plus(le.times(D)),F.comparedTo(M)!=1;)I=D,D=F,ue=ie.plus(le.times(F=ue)),ie=F,A=X.minus(le.times(F=A)),X=F;return F=a(M.minus(I),D,0,1),ie=ie.plus(F.times(ue)),I=I.plus(F.times(D)),ie.s=ue.s=nt.s,j=j*2,ke=a(ue,D,j,k).minus(nt).abs().comparedTo(a(ie,I,j,k).minus(nt).abs())<1?[ue,D]:[ie,I],G=Q,ke},m.toNumber=function(){return+de(this)},m.toPrecision=function(M,A){return M!=null&&en(M,1,_n),Y(this,M,A,2)},m.toString=function(M){var A,I=this,D=I.s,F=I.e;return F===null?D?(A="Infinity",D<0&&(A="-"+A)):A="NaN":(M==null?A=F<=E||F>=B?l(Zn(I.c),F):p(Zn(I.c),F,"0"):M===10&&At?(I=ae(new H(I),x+F+1,k),A=p(Zn(I.c),I.e,"0")):(en(M,2,et.length,"Base"),A=h(p(Zn(I.c),F,"0"),10,M,D,!0)),D<0&&I.c[0]&&(A="-"+A)),A},m.valueOf=m.toJSON=function(){return de(this)},m._isBigNumber=!0,m[Symbol.toStringTag]="BigNumber",m[Symbol.for("nodejs.util.inspect.custom")]=m.valueOf,r!=null&&H.set(r),H}function ni(r){var a=r|0;return r>0||r===a?a:a-1}function Zn(r){for(var a,h,d=1,m=r.length,g=r[0]+"";d<m;){for(a=r[d++]+"",h=_t-a.length;h--;a="0"+a);g+=a}for(m=g.length;g.charCodeAt(--m)===48;);return g.slice(0,m+1||1)}function Ui(r,a){var h,d,m=r.c,g=a.c,x=r.s,k=a.s,E=r.e,B=a.e;if(!x||!k)return null;if(h=m&&!m[0],d=g&&!g[0],h||d)return h?d?0:-k:x;if(x!=k)return x;if(h=x<0,d=E==B,!m||!g)return d?0:!m^h?1:-1;if(!d)return E>B^h?1:-1;for(k=(E=m.length)<(B=g.length)?E:B,x=0;x<k;x++)if(m[x]!=g[x])return m[x]>g[x]^h?1:-1;return E==B?0:E>B^h?1:-1}function en(r,a,h,d){if(r<a||r>h||r!==Dn(r))throw Error(xn+(d||"Argument")+(typeof r=="number"?r<a||r>h?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function n(r){var a=r.c.length-1;return ni(r.e/_t)==a&&r.c[a]%2!=0}function l(r,a){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(a<0?"e":"e+")+a}function p(r,a,h){var d,m;if(a<0){for(m=h+".";++a;m+=h);r=m+r}else if(d=r.length,++a>d){for(m=h,a-=d;--a;m+=h);r+=m}else a<d&&(r=r.slice(0,a)+"."+r.slice(a));return r}var y=oa(),C=y,T=class{constructor(r){lt(this,"key");lt(this,"left",null);lt(this,"right",null);this.key=r}},W=class extends T{constructor(r){super(r)}},he=class{constructor(){lt(this,"size",0);lt(this,"modificationCount",0);lt(this,"splayCount",0)}splay(r){let a=this.root;if(a==null)return this.compare(r,r),-1;let h=null,d=null,m=null,g=null,x=a,k=this.compare,E;for(;;)if(E=k(x.key,r),E>0){let B=x.left;if(B==null||(E=k(B.key,r),E>0&&(x.left=B.right,B.right=x,x=B,B=x.left,B==null)))break;h==null?d=x:h.left=x,h=x,x=B}else if(E<0){let B=x.right;if(B==null||(E=k(B.key,r),E<0&&(x.right=B.left,B.left=x,x=B,B=x.right,B==null)))break;m==null?g=x:m.right=x,m=x,x=B}else break;return m!=null&&(m.right=x.left,x.left=g),h!=null&&(h.left=x.right,x.right=d),this.root!==x&&(this.root=x,this.splayCount++),E}splayMin(r){let a=r,h=a.left;for(;h!=null;){let d=h;a.left=d.right,d.right=a,a=d,h=a.left}return a}splayMax(r){let a=r,h=a.right;for(;h!=null;){let d=h;a.right=d.left,d.left=a,a=d,h=a.right}return a}_delete(r){if(this.root==null||this.splay(r)!=0)return null;let a=this.root,h=a,d=a.left;if(this.size--,d==null)this.root=a.right;else{let m=a.right;a=this.splayMax(d),a.right=m,this.root=a}return this.modificationCount++,h}addNewRoot(r,a){this.size++,this.modificationCount++;let h=this.root;if(h==null){this.root=r;return}a<0?(r.left=h,r.right=h.right,h.right=null):(r.right=h,r.left=h.left,h.left=null),this.root=r}_first(){let r=this.root;return r==null?null:(this.root=this.splayMin(r),this.root)}_last(){let r=this.root;return r==null?null:(this.root=this.splayMax(r),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(r){return this.validKey(r)&&this.splay(r)==0}defaultCompare(){return(r,a)=>r<a?-1:r>a?1:0}wrap(){return{getRoot:()=>this.root,setRoot:r=>{this.root=r},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:r=>{this.splayCount=r},splay:r=>this.splay(r),has:r=>this.has(r)}}},ge=class ga extends he{constructor(h,d){super();lt(this,"root",null);lt(this,"compare");lt(this,"validKey");lt(this,Nd,"[object Set]");this.compare=h??this.defaultCompare(),this.validKey=d??(m=>m!=null&&m!=null)}delete(h){return this.validKey(h)?this._delete(h)!=null:!1}deleteAll(h){for(let d of h)this.delete(d)}forEach(h){let d=this[Symbol.iterator](),m;for(;m=d.next(),!m.done;)h(m.value,m.value,this)}add(h){let d=this.splay(h);return d!=0&&this.addNewRoot(new W(h),d),this}addAndReturn(h){let d=this.splay(h);return d!=0&&this.addNewRoot(new W(h),d),this.root.key}addAll(h){for(let d of h)this.add(d)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)<0)return this.root.key;let d=this.root.left;if(d==null)return null;let m=d.right;for(;m!=null;)d=m,m=d.right;return d.key}firstAfter(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)>0)return this.root.key;let d=this.root.right;if(d==null)return null;let m=d.left;for(;m!=null;)d=m,m=d.left;return d.key}retainAll(h){let d=new ga(this.compare,this.validKey),m=this.modificationCount;for(let g of h){if(m!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(g)&&this.splay(g)==0&&d.add(this.root.key)}d.size!=this.size&&(this.root=d.root,this.size=d.size,this.modificationCount++)}lookup(h){return!this.validKey(h)||this.splay(h)!=0?null:this.root.key}intersection(h){let d=new ga(this.compare,this.validKey);for(let m of this)h.has(m)&&d.add(m);return d}difference(h){let d=new ga(this.compare,this.validKey);for(let m of this)h.has(m)||d.add(m);return d}union(h){let d=this.clone();return d.addAll(h),d}clone(){let h=new ga(this.compare,this.validKey);return h.size=this.size,h.root=this.copyNode(this.root),h}copyNode(h){if(h==null)return null;function d(g,x){let k,E;do{if(k=g.left,E=g.right,k!=null){let B=new W(k.key);x.left=B,d(k,B)}if(E!=null){let B=new W(E.key);x.right=B,g=E,x=B}}while(E!=null)}let m=new W(h.key);return d(h,m),m}toSet(){return this.clone()}entries(){return new ft(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(zd=Symbol.iterator,Nd=Symbol.toStringTag,zd)](){return new Xe(this.wrap())}},Me=class{constructor(r){lt(this,"tree");lt(this,"path",new Array);lt(this,"modificationCount",null);lt(this,"splayCount");this.tree=r,this.splayCount=r.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let r=this.path[this.path.length-1];return this.getValue(r)}rebuildPath(r){this.path.splice(0,this.path.length),this.tree.splay(r),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(r){for(;r!=null;)this.path.push(r),r=r.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let h=this.tree.getRoot();for(;h!=null;)this.path.push(h),h=h.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let r=this.path[this.path.length-1],a=r.right;if(a!=null){for(;a!=null;)this.path.push(a),a=a.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===r;)r=this.path.pop();return this.path.length>0}},Xe=class extends Me{getValue(r){return r.key}},ft=class extends Me{getValue(r){return[r.key,r.key]}},kt=r=>r,In=r=>{if(r){let a=new ge(Jo(r)),h=new ge(Jo(r)),d=(g,x)=>x.addAndReturn(g),m=g=>({x:d(g.x,a),y:d(g.y,h)});return m({x:new C(0),y:new C(0)}),m}return kt},dn=r=>({set:a=>{pn=dn(a)},reset:()=>dn(r),compare:Jo(r),snap:In(r),orient:Ol(r)}),pn=dn(),wn=(r,a)=>r.ll.x.isLessThanOrEqualTo(a.x)&&a.x.isLessThanOrEqualTo(r.ur.x)&&r.ll.y.isLessThanOrEqualTo(a.y)&&a.y.isLessThanOrEqualTo(r.ur.y),Hi=(r,a)=>{if(a.ur.x.isLessThan(r.ll.x)||r.ur.x.isLessThan(a.ll.x)||a.ur.y.isLessThan(r.ll.y)||r.ur.y.isLessThan(a.ll.y))return null;let h=r.ll.x.isLessThan(a.ll.x)?a.ll.x:r.ll.x,d=r.ur.x.isLessThan(a.ur.x)?r.ur.x:a.ur.x,m=r.ll.y.isLessThan(a.ll.y)?a.ll.y:r.ll.y,g=r.ur.y.isLessThan(a.ur.y)?r.ur.y:a.ur.y;return{ll:{x:h,y:m},ur:{x:d,y:g}}},Qo=(r,a)=>r.x.times(a.y).minus(r.y.times(a.x)),Rl=(r,a)=>r.x.times(a.x).plus(r.y.times(a.y)),es=r=>Rl(r,r).sqrt(),Dl=(r,a,h)=>{let d={x:a.x.minus(r.x),y:a.y.minus(r.y)},m={x:h.x.minus(r.x),y:h.y.minus(r.y)};return Qo(m,d).div(es(m)).div(es(d))},Ic=(r,a,h)=>{let d={x:a.x.minus(r.x),y:a.y.minus(r.y)},m={x:h.x.minus(r.x),y:h.y.minus(r.y)};return Rl(m,d).div(es(m)).div(es(d))},sa=(r,a,h)=>a.y.isZero()?null:{x:r.x.plus(a.x.div(a.y).times(h.minus(r.y))),y:h},sn=(r,a,h)=>a.x.isZero()?null:{x:h,y:r.y.plus(a.y.div(a.x).times(h.minus(r.x)))},ts=(r,a,h,d)=>{if(a.x.isZero())return sn(h,d,r.x);if(d.x.isZero())return sn(r,a,h.x);if(a.y.isZero())return sa(h,d,r.y);if(d.y.isZero())return sa(r,a,h.y);let m=Qo(a,d);if(m.isZero())return null;let g={x:h.x.minus(r.x),y:h.y.minus(r.y)},x=Qo(g,a).div(m),k=Qo(g,d).div(m),E=r.x.plus(k.times(a.x)),B=h.x.plus(x.times(d.x)),Z=r.y.plus(k.times(a.y)),G=h.y.plus(x.times(d.y)),ce=E.plus(B).div(2),_e=Z.plus(G).div(2);return{x:ce,y:_e}},xi=class zg{constructor(a,h){lt(this,"point");lt(this,"isLeft");lt(this,"segment");lt(this,"otherSE");lt(this,"consumedBy");a.events===void 0?a.events=[this]:a.events.push(this),this.point=a,this.isLeft=h}static compare(a,h){let d=zg.comparePoints(a.point,h.point);return d!==0?d:(a.point!==h.point&&a.link(h),a.isLeft!==h.isLeft?a.isLeft?1:-1:ns.compare(a.segment,h.segment))}static comparePoints(a,h){return a.x.isLessThan(h.x)?-1:a.x.isGreaterThan(h.x)?1:a.y.isLessThan(h.y)?-1:a.y.isGreaterThan(h.y)?1:0}link(a){if(a.point===this.point)throw new Error("Tried to link already linked events");let h=a.point.events;for(let d=0,m=h.length;d<m;d++){let g=h[d];this.point.events.push(g),g.point=this.point}this.checkForConsuming()}checkForConsuming(){let a=this.point.events.length;for(let h=0;h<a;h++){let d=this.point.events[h];if(d.segment.consumedBy===void 0)for(let m=h+1;m<a;m++){let g=this.point.events[m];g.consumedBy===void 0&&d.otherSE.point.events===g.otherSE.point.events&&d.segment.consume(g.segment)}}}getAvailableLinkedEvents(){let a=[];for(let h=0,d=this.point.events.length;h<d;h++){let m=this.point.events[h];m!==this&&!m.segment.ringOut&&m.segment.isInResult()&&a.push(m)}return a}getLeftmostComparator(a){let h=new Map,d=m=>{let g=m.otherSE;h.set(m,{sine:Dl(this.point,a.point,g.point),cosine:Ic(this.point,a.point,g.point)})};return(m,g)=>{h.has(m)||d(m),h.has(g)||d(g);let{sine:x,cosine:k}=h.get(m),{sine:E,cosine:B}=h.get(g);return x.isGreaterThanOrEqualTo(0)&&E.isGreaterThanOrEqualTo(0)?k.isLessThan(B)?1:k.isGreaterThan(B)?-1:0:x.isLessThan(0)&&E.isLessThan(0)?k.isLessThan(B)?-1:k.isGreaterThan(B)?1:0:E.isLessThan(x)?-1:E.isGreaterThan(x)?1:0}}},Fc=0,ns=class au{constructor(a,h,d,m){lt(this,"id");lt(this,"leftSE");lt(this,"rightSE");lt(this,"rings");lt(this,"windings");lt(this,"ringOut");lt(this,"consumedBy");lt(this,"prev");lt(this,"_prevInResult");lt(this,"_beforeState");lt(this,"_afterState");lt(this,"_isInResult");this.id=++Fc,this.leftSE=a,a.segment=this,a.otherSE=h,this.rightSE=h,h.segment=this,h.otherSE=a,this.rings=d,this.windings=m}static compare(a,h){let d=a.leftSE.point.x,m=h.leftSE.point.x,g=a.rightSE.point.x,x=h.rightSE.point.x;if(x.isLessThan(d))return 1;if(g.isLessThan(m))return-1;let k=a.leftSE.point.y,E=h.leftSE.point.y,B=a.rightSE.point.y,Z=h.rightSE.point.y;if(d.isLessThan(m)){if(E.isLessThan(k)&&E.isLessThan(B))return 1;if(E.isGreaterThan(k)&&E.isGreaterThan(B))return-1;let G=a.comparePoint(h.leftSE.point);if(G<0)return 1;if(G>0)return-1;let ce=h.comparePoint(a.rightSE.point);return ce!==0?ce:-1}if(d.isGreaterThan(m)){if(k.isLessThan(E)&&k.isLessThan(Z))return-1;if(k.isGreaterThan(E)&&k.isGreaterThan(Z))return 1;let G=h.comparePoint(a.leftSE.point);if(G!==0)return G;let ce=a.comparePoint(h.rightSE.point);return ce<0?1:ce>0?-1:1}if(k.isLessThan(E))return-1;if(k.isGreaterThan(E))return 1;if(g.isLessThan(x)){let G=h.comparePoint(a.rightSE.point);if(G!==0)return G}if(g.isGreaterThan(x)){let G=a.comparePoint(h.rightSE.point);if(G<0)return 1;if(G>0)return-1}if(!g.eq(x)){let G=B.minus(k),ce=g.minus(d),_e=Z.minus(E),Oe=x.minus(m);if(G.isGreaterThan(ce)&&_e.isLessThan(Oe))return 1;if(G.isLessThan(ce)&&_e.isGreaterThan(Oe))return-1}return g.isGreaterThan(x)?1:g.isLessThan(x)||B.isLessThan(Z)?-1:B.isGreaterThan(Z)?1:a.id<h.id?-1:a.id>h.id?1:0}static fromRing(a,h,d){let m,g,x,k=xi.comparePoints(a,h);if(k<0)m=a,g=h,x=1;else if(k>0)m=h,g=a,x=-1;else throw new Error(`Tried to create degenerate segment at [${a.x}, ${a.y}]`);let E=new xi(m,!0),B=new xi(g,!1);return new au(E,B,[d],[x])}replaceRightSE(a){this.rightSE=a,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let a=this.leftSE.point.y,h=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:a.isLessThan(h)?a:h},ur:{x:this.rightSE.point.x,y:a.isGreaterThan(h)?a:h}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(a){return a.x.eq(this.leftSE.point.x)&&a.y.eq(this.leftSE.point.y)||a.x.eq(this.rightSE.point.x)&&a.y.eq(this.rightSE.point.y)}comparePoint(a){return pn.orient(this.leftSE.point,a,this.rightSE.point)}getIntersection(a){let h=this.bbox(),d=a.bbox(),m=Hi(h,d);if(m===null)return null;let g=this.leftSE.point,x=this.rightSE.point,k=a.leftSE.point,E=a.rightSE.point,B=wn(h,k)&&this.comparePoint(k)===0,Z=wn(d,g)&&a.comparePoint(g)===0,G=wn(h,E)&&this.comparePoint(E)===0,ce=wn(d,x)&&a.comparePoint(x)===0;if(Z&&B)return ce&&!G?x:!ce&&G?E:null;if(Z)return G&&g.x.eq(E.x)&&g.y.eq(E.y)?null:g;if(B)return ce&&x.x.eq(k.x)&&x.y.eq(k.y)?null:k;if(ce&&G)return null;if(ce)return x;if(G)return E;let _e=ts(g,this.vector(),k,a.vector());return _e===null||!wn(m,_e)?null:pn.snap(_e)}split(a){let h=[],d=a.events!==void 0,m=new xi(a,!0),g=new xi(a,!1),x=this.rightSE;this.replaceRightSE(g),h.push(g),h.push(m);let k=new au(m,x,this.rings.slice(),this.windings.slice());return xi.comparePoints(k.leftSE.point,k.rightSE.point)>0&&k.swapEvents(),xi.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),d&&(m.checkForConsuming(),g.checkForConsuming()),h}swapEvents(){let a=this.rightSE;this.rightSE=this.leftSE,this.leftSE=a,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let h=0,d=this.windings.length;h<d;h++)this.windings[h]*=-1}consume(a){let h=this,d=a;for(;h.consumedBy;)h=h.consumedBy;for(;d.consumedBy;)d=d.consumedBy;let m=au.compare(h,d);if(m!==0){if(m>0){let g=h;h=d,d=g}if(h.prev===d){let g=h;h=d,d=g}for(let g=0,x=d.rings.length;g<x;g++){let k=d.rings[g],E=d.windings[g],B=h.rings.indexOf(k);B===-1?(h.rings.push(k),h.windings.push(E)):h.windings[B]+=E}d.rings=null,d.windings=null,d.consumedBy=h,d.leftSE.consumedBy=h.leftSE,d.rightSE.consumedBy=h.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let a=this.prev.consumedBy||this.prev;this._beforeState=a.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let a=this.beforeState();this._afterState={rings:a.rings.slice(0),windings:a.windings.slice(0),multiPolys:[]};let h=this._afterState.rings,d=this._afterState.windings,m=this._afterState.multiPolys;for(let k=0,E=this.rings.length;k<E;k++){let B=this.rings[k],Z=this.windings[k],G=h.indexOf(B);G===-1?(h.push(B),d.push(Z)):d[G]+=Z}let g=[],x=[];for(let k=0,E=h.length;k<E;k++){if(d[k]===0)continue;let B=h[k],Z=B.poly;if(x.indexOf(Z)===-1)if(B.isExterior)g.push(Z);else{x.indexOf(Z)===-1&&x.push(Z);let G=g.indexOf(B.poly);G!==-1&&g.splice(G,1)}}for(let k=0,E=g.length;k<E;k++){let B=g[k].multiPoly;m.indexOf(B)===-1&&m.push(B)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let a=this.beforeState().multiPolys,h=this.afterState().multiPolys;switch(jl.type){case"union":{let d=a.length===0,m=h.length===0;this._isInResult=d!==m;break}case"intersection":{let d,m;a.length<h.length?(d=a.length,m=h.length):(d=h.length,m=a.length),this._isInResult=m===jl.numMultiPolys&&d<m;break}case"xor":{let d=Math.abs(a.length-h.length);this._isInResult=d%2===1;break}case"difference":{let d=m=>m.length===1&&m[0].isSubject;this._isInResult=d(a)!==d(h);break}}return this._isInResult}},is=class{constructor(r,a,h){lt(this,"poly");lt(this,"isExterior");lt(this,"segments");lt(this,"bbox");if(!Array.isArray(r)||r.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=a,this.isExterior=h,this.segments=[],typeof r[0][0]!="number"||typeof r[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let d=pn.snap({x:new C(r[0][0]),y:new C(r[0][1])});this.bbox={ll:{x:d.x,y:d.y},ur:{x:d.x,y:d.y}};let m=d;for(let g=1,x=r.length;g<x;g++){if(typeof r[g][0]!="number"||typeof r[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let k=pn.snap({x:new C(r[g][0]),y:new C(r[g][1])});k.x.eq(m.x)&&k.y.eq(m.y)||(this.segments.push(ns.fromRing(m,k,this)),k.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=k.x),k.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=k.y),k.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=k.x),k.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=k.y),m=k)}(!d.x.eq(m.x)||!d.y.eq(m.y))&&this.segments.push(ns.fromRing(m,d,this))}getSweepEvents(){let r=[];for(let a=0,h=this.segments.length;a<h;a++){let d=this.segments[a];r.push(d.leftSE),r.push(d.rightSE)}return r}},Il=class{constructor(r,a){lt(this,"multiPoly");lt(this,"exteriorRing");lt(this,"interiorRings");lt(this,"bbox");if(!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new is(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let h=1,d=r.length;h<d;h++){let m=new is(r[h],this,!1);m.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=m.bbox.ll.x),m.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=m.bbox.ll.y),m.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=m.bbox.ur.x),m.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=m.bbox.ur.y),this.interiorRings.push(m)}this.multiPoly=a}getSweepEvents(){let r=this.exteriorRing.getSweepEvents();for(let a=0,h=this.interiorRings.length;a<h;a++){let d=this.interiorRings[a].getSweepEvents();for(let m=0,g=d.length;m<g;m++)r.push(d[m])}return r}},Fl=class{constructor(r,a){lt(this,"isSubject");lt(this,"polys");lt(this,"bbox");if(!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof r[0][0][0]=="number"&&(r=[r])}catch{}this.polys=[],this.bbox={ll:{x:new C(Number.POSITIVE_INFINITY),y:new C(Number.POSITIVE_INFINITY)},ur:{x:new C(Number.NEGATIVE_INFINITY),y:new C(Number.NEGATIVE_INFINITY)}};for(let h=0,d=r.length;h<d;h++){let m=new Il(r[h],this);m.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=m.bbox.ll.x),m.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=m.bbox.ll.y),m.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=m.bbox.ur.x),m.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=m.bbox.ur.y),this.polys.push(m)}this.isSubject=a}getSweepEvents(){let r=[];for(let a=0,h=this.polys.length;a<h;a++){let d=this.polys[a].getSweepEvents();for(let m=0,g=d.length;m<g;m++)r.push(d[m])}return r}},$g=class Zh{constructor(a){lt(this,"events");lt(this,"poly");lt(this,"_isExteriorRing");lt(this,"_enclosingRing");this.events=a;for(let h=0,d=a.length;h<d;h++)a[h].segment.ringOut=this;this.poly=null}static factory(a){let h=[];for(let d=0,m=a.length;d<m;d++){let g=a[d];if(!g.isInResult()||g.ringOut)continue;let x=null,k=g.leftSE,E=g.rightSE,B=[k],Z=k.point,G=[];for(;x=k,k=E,B.push(k),k.point!==Z;)for(;;){let ce=k.getAvailableLinkedEvents();if(ce.length===0){let Je=B[0].point,et=B[B.length-1].point;throw new Error(`Unable to complete output ring starting at [${Je.x}, ${Je.y}]. Last matching segment found ends at [${et.x}, ${et.y}].`)}if(ce.length===1){E=ce[0].otherSE;break}let _e=null;for(let Je=0,et=G.length;Je<et;Je++)if(G[Je].point===k.point){_e=Je;break}if(_e!==null){let Je=G.splice(_e)[0],et=B.splice(Je.index);et.unshift(et[0].otherSE),h.push(new Zh(et.reverse()));continue}G.push({index:B.length,point:k.point});let Oe=k.getLeftmostComparator(x);E=ce.sort(Oe)[0].otherSE;break}h.push(new Zh(B))}return h}getGeom(){let a=this.events[0].point,h=[a];for(let B=1,Z=this.events.length-1;B<Z;B++){let G=this.events[B].point,ce=this.events[B+1].point;pn.orient(G,a,ce)!==0&&(h.push(G),a=G)}if(h.length===1)return null;let d=h[0],m=h[1];pn.orient(d,a,m)===0&&h.shift(),h.push(h[0]);let g=this.isExteriorRing()?1:-1,x=this.isExteriorRing()?0:h.length-1,k=this.isExteriorRing()?h.length:-1,E=[];for(let B=x;B!=k;B+=g)E.push([h[B].x.toNumber(),h[B].y.toNumber()]);return E}isExteriorRing(){if(this._isExteriorRing===void 0){let a=this.enclosingRing();this._isExteriorRing=a?!a.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var m,g;let a=this.events[0];for(let x=1,k=this.events.length;x<k;x++){let E=this.events[x];xi.compare(a,E)>0&&(a=E)}let h=a.segment.prevInResult(),d=h?h.prevInResult():null;for(;;){if(!h)return null;if(!d)return h.ringOut;if(d.ringOut!==h.ringOut)return((m=d.ringOut)==null?void 0:m.enclosingRing())!==h.ringOut?h.ringOut:(g=h.ringOut)==null?void 0:g.enclosingRing();h=d.prevInResult(),d=h?h.prevInResult():null}}},Od=class{constructor(r){lt(this,"exteriorRing");lt(this,"interiorRings");this.exteriorRing=r,r.poly=this,this.interiorRings=[]}addInterior(r){this.interiorRings.push(r),r.poly=this}getGeom(){let r=this.exteriorRing.getGeom();if(r===null)return null;let a=[r];for(let h=0,d=this.interiorRings.length;h<d;h++){let m=this.interiorRings[h].getGeom();m!==null&&a.push(m)}return a}},Ug=class{constructor(r){lt(this,"rings");lt(this,"polys");this.rings=r,this.polys=this._composePolys(r)}getGeom(){let r=[];for(let a=0,h=this.polys.length;a<h;a++){let d=this.polys[a].getGeom();d!==null&&r.push(d)}return r}_composePolys(r){var h;let a=[];for(let d=0,m=r.length;d<m;d++){let g=r[d];if(!g.poly)if(g.isExteriorRing())a.push(new Od(g));else{let x=g.enclosingRing();x!=null&&x.poly||a.push(new Od(x)),(h=x==null?void 0:x.poly)==null||h.addInterior(g)}}return a}},Hg=class{constructor(r,a=ns.compare){lt(this,"queue");lt(this,"tree");lt(this,"segments");this.queue=r,this.tree=new ge(a),this.segments=[]}process(r){let a=r.segment,h=[];if(r.consumedBy)return r.isLeft?this.queue.delete(r.otherSE):this.tree.delete(a),h;r.isLeft&&this.tree.add(a);let d=a,m=a;do d=this.tree.lastBefore(d);while(d!=null&&d.consumedBy!=null);do m=this.tree.firstAfter(m);while(m!=null&&m.consumedBy!=null);if(r.isLeft){let g=null;if(d){let k=d.getIntersection(a);if(k!==null&&(a.isAnEndpoint(k)||(g=k),!d.isAnEndpoint(k))){let E=this._splitSafely(d,k);for(let B=0,Z=E.length;B<Z;B++)h.push(E[B])}}let x=null;if(m){let k=m.getIntersection(a);if(k!==null&&(a.isAnEndpoint(k)||(x=k),!m.isAnEndpoint(k))){let E=this._splitSafely(m,k);for(let B=0,Z=E.length;B<Z;B++)h.push(E[B])}}if(g!==null||x!==null){let k=null;g===null?k=x:x===null?k=g:k=xi.comparePoints(g,x)<=0?g:x,this.queue.delete(a.rightSE),h.push(a.rightSE);let E=a.split(k);for(let B=0,Z=E.length;B<Z;B++)h.push(E[B])}h.length>0?(this.tree.delete(a),h.push(r)):(this.segments.push(a),a.prev=d)}else{if(d&&m){let g=d.getIntersection(m);if(g!==null){if(!d.isAnEndpoint(g)){let x=this._splitSafely(d,g);for(let k=0,E=x.length;k<E;k++)h.push(x[k])}if(!m.isAnEndpoint(g)){let x=this._splitSafely(m,g);for(let k=0,E=x.length;k<E;k++)h.push(x[k])}}}this.tree.delete(a)}return h}_splitSafely(r,a){this.tree.delete(r);let h=r.rightSE;this.queue.delete(h);let d=r.split(a);return d.push(h),r.consumedBy===void 0&&this.tree.add(r),d}},Zg=class{constructor(){lt(this,"type");lt(this,"numMultiPolys")}run(r,a,h){aa.type=r;let d=[new Fl(a,!0)];for(let E=0,B=h.length;E<B;E++)d.push(new Fl(h[E],!1));if(aa.numMultiPolys=d.length,aa.type==="difference"){let E=d[0],B=1;for(;B<d.length;)Hi(d[B].bbox,E.bbox)!==null?B++:d.splice(B,1)}if(aa.type==="intersection")for(let E=0,B=d.length;E<B;E++){let Z=d[E];for(let G=E+1,ce=d.length;G<ce;G++)if(Hi(Z.bbox,d[G].bbox)===null)return[]}let m=new ge(xi.compare);for(let E=0,B=d.length;E<B;E++){let Z=d[E].getSweepEvents();for(let G=0,ce=Z.length;G<ce;G++)m.add(Z[G])}let g=new Hg(m),x=null;for(m.size!=0&&(x=m.first(),m.delete(x));x;){let E=g.process(x);for(let B=0,Z=E.length;B<Z;B++){let G=E[B];G.consumedBy===void 0&&m.add(G)}m.size!=0?(x=m.first(),m.delete(x)):x=null}pn.reset();let k=$g.factory(g.segments);return new Ug(k).getGeom()}},aa=new Zg,jl=aa,qg=(r,...a)=>jl.run("intersection",r,a),Kg=(r,...a)=>jl.run("difference",r,a);pn.set;function Nl(r){let a={type:"Feature"};return a.geometry=r,a}function zl(r){return r.type==="Feature"?r.geometry:r}function Rd(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function Wg(r){return Nl({type:"LineString",coordinates:r})}function Jg(r){return Nl({type:"MultiLineString",coordinates:r})}function Dd(r){return Nl({type:"Polygon",coordinates:r})}function Id(r){return Nl({type:"MultiPolygon",coordinates:r})}function Yg(r,a){let h=zl(r),d=zl(a),m=qg(h.coordinates,d.coordinates);return m.length===0?null:m.length===1?Dd(m[0]):Id(m)}function Xg(r,a){let h=zl(r),d=zl(a),m=Kg(h.coordinates,d.coordinates);return m.length===0?null:m.length===1?Dd(m[0]):Id(m)}function Fd(r){return Array.isArray(r)?1+Fd(r[0]):-1}function Qg(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));let a=Rd(r),h=Fd(a),d=[];return h>1?a.forEach(m=>{d.push(Wg(m))}):d.push(r),d}function e0(r){let a=[];return r.eachLayer(h=>{a.push(Rd(h.toGeoJSON(15)))}),Jg(a)}En.Cut=En.Polygon.extend({initialize(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=2)return;let a=L.polygon(r,this.options.pathOptions);a._latlngInfos=this._layer._latlngInfo,this.cut(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:h,originalLayer:d})=>{this._fireCut(d,h,d),this._fireCut(this._map,h,d),d.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()},cut(r){let a=this._map._layers,h=r._latlngInfos||[];Object.keys(a).map(d=>a[d]).filter(d=>d.pm).filter(d=>!d._pmTempLayer).filter(d=>!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1).filter(d=>d instanceof L.Polyline).filter(d=>d!==r).filter(d=>d.pm.options.allowCutting).filter(d=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(d)>-1:!0).filter(d=>!this._layerGroup.hasLayer(d)).filter(d=>{try{let m=!!Nn(r.toGeoJSON(15),d.toGeoJSON(15)).features.length>0;return m||d instanceof L.Polyline&&!(d instanceof L.Polygon)?m:!!Yg(r.toGeoJSON(15),d.toGeoJSON(15))}catch{return d instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(d=>{let m;if(d instanceof L.Polygon){m=L.polygon(d.getLatLngs());let E=m.getLatLngs();h.forEach(B=>{if(B&&B.snapInfo){let{latlng:Z}=B,G=this._calcClosestLayer(Z,[m]);if(G&&G.segment&&G.distance<this.options.snapDistance){let{segment:ce}=G;if(ce&&ce.length===2){let{indexPath:_e,parentPath:Oe,newIndex:Je}=L.PM.Utils._getIndexFromSegment(E,ce);(_e.length>1?(0,Dc.default)(E,Oe):E).splice(Je,0,Z)}}}})}else m=d;let g=this._cutLayer(r,m),x=L.geoJSON(g,d.options);x.getLayers().length===1&&([x]=x.getLayers()),this._setPane(x,"layerPane");let k=x.addTo(this._map.pm._getContainingLayer());if(k.pm.enable(d.pm.options),k.pm.disable(),d._pmTempLayer=!0,r._pmTempLayer=!0,d.remove(),d.removeFrom(this._map.pm._getContainingLayer()),r.remove(),r.removeFrom(this._map.pm._getContainingLayer()),k.getLayers&&k.getLayers().length===0&&this._map.pm.removeLayer({target:k}),k instanceof L.LayerGroup?(k.eachLayer(E=>{this._addDrawnLayerProp(E)}),this._addDrawnLayerProp(k)):this._addDrawnLayerProp(k),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let E=this.options.layersToCut.indexOf(d);E>-1&&this.options.layersToCut.splice(E,1)}this._editedLayers.push({layer:k,originalLayer:d})})},_cutLayer(r,a){let h=L.geoJSON(),d;if(a instanceof L.Polygon)d=Xg(a.toGeoJSON(15),r.toGeoJSON(15));else{let m=Qg(a);m.forEach(g=>{let x=Ho(g,r.toGeoJSON(15)),k;x&&x.features.length>0?k=L.geoJSON(x):k=L.geoJSON(g),k.getLayers().forEach(E=>{qo(r.toGeoJSON(15),E.toGeoJSON(15))||E.addTo(h)})}),m.length>1?d=e0(h):d=h.toGeoJSON(15)}return d},_change:L.Util.falseFn}),En.Text=En.extend({initialize(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var r;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(r=this._hintMarker)==null||r.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker(r){var m,g,x,k;if(!r.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let a=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(m=this.options.textOptions)==null?void 0:m.className){let E=this.options.textOptions.className.split(" ");this.textArea.classList.add(...E)}let h=this._createTextIcon(this.textArea),d=new L.Marker(a,{textMarker:!0,_textMarkerOverPM:!0,icon:h});if(this._setPane(d,"markerPane"),this._finishLayer(d),d.pm||(d.options.draggable=!1),d.addTo(this._map.pm._getContainingLayer()),d.pm){d.pm.textArea=this.textArea,L.setOptions(d.pm,{removeIfEmpty:((g=this.options.textOptions)==null?void 0:g.removeIfEmpty)??!0});let E=((x=this.options.textOptions)==null?void 0:x.focusAfterDraw)??!0;d.pm._createTextMarker(E),(k=this.options.textOptions)!=null&&k.text&&d.pm.setText(this.options.textOptions.text)}this._fireCreate(d),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createTextArea(){let r=document.createElement("textarea");return r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon(r){return L.divIcon({className:"pm-text-marker",html:r})}});var t0={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Cr(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let r=this._getDOMElem();r&&(Cr(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Cr(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let r=this._getDOMElem();r&&(Cr(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(r){let a=r.touches?r.touches[0]:r,h={originalEvent:a,target:this._layer};return h.containerPoint=this._map.mouseEventToContainerPoint(a),h.latlng=this._map.containerPointToLatLng(h.containerPoint),this._dragMixinOnMouseDown(h),!1},_simulateMouseMoveEvent(r){let a=r.touches?r.touches[0]:r,h={originalEvent:a,target:this._layer};return h.containerPoint=this._map.mouseEventToContainerPoint(a),h.latlng=this._map.containerPointToLatLng(h.containerPoint),this._dragMixinOnMouseMove(h),!1},_simulateMouseUpEvent(r){let a={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown(r){if(r.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(r);let a=r._fromLayerSync,h=this._syncLayers("_dragMixinOnMouseDown",r);if(this._layer instanceof L.Marker&&(this.options.snappable&&!a&&!h?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let d="resizeableCircleMarker";this._layer instanceof L.Circle&&(d="resizableCircle"),this.options.snappable&&!a&&!h?this._layer.pm.options[d]||this._initSnappableMarkersDrag():this._layer.pm.options[d]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(r){this._overwriteEventIfItComesFromMarker(r);let a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(r){let a=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,a&&L.DomUtil.removeClass(a,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(r){let{latlng:a}=r,h={lat:a.lat-this._tempDragCoord.lat,lng:a.lng-this._tempDragCoord.lng},d=m=>m.map(g=>{if(Array.isArray(g))return d(g);let x={lat:g.lat+h.lat,lng:g.lng+h.lng};return(g.alt||g.alt===0)&&(x.alt=g.alt),x});if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let m=d([this._layer.getLatLng()]);this._layer.setLatLng(m[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let m=this._layer.getLatLng();this._layer._snapped&&(m=this._layer._orgLatLng);let g=d([m]);this._layer.setLatLng(g[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let m=d([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(m),this._fireChange(this._layer.getBounds(),"Edit")}else{let m=d(this._layer.getLatLngs());this._layer.setLatLngs(m),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,r.layer=this._layer,this._fireDrag(r)},addDraggingClass(){let r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass(){let r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem(){let r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers(r,a){if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;let h=[];if(L.Util.isArray(this.options.syncLayersOnDrag))h=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(d=>{d instanceof L.LayerGroup&&(h=h.concat(d.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let d in this._parentLayerGroup){let m=this._parentLayerGroup[d];m.pm&&(h=m.pm.getLayers(!0))}return L.Util.isArray(h)&&h.length>0&&(h=h.filter(d=>!!d.pm).filter(d=>!!d.pm.options.draggable),h.forEach(d=>{d!==this._layer&&d.pm[r]&&(d._snapped=!1,d.pm[r](a))})),h.length>0}return!1},_stopDOMImageDrag(r){return r.preventDefault(),!1}},n0=t0,i0=_(zi());function r0(r,a,h,d){return h.unproject(a.transform(h.project(r,d)),d)}function jd(r,a,h){let d=h.getMaxZoom();if(d===1/0&&(d=h.getZoom()),L.Util.isArray(r)){let m=[];return r.forEach(g=>{m.push(jd(g,a,h))}),m}return r instanceof L.LatLng?r0(r,a,h,d):null}function rs(r,a){a instanceof L.Layer&&(a=a.getLatLng());let h=r.getMaxZoom();return h===1/0&&(h=r.getZoom()),r.project(a,h)}function Vl(r,a){let h=r.getMaxZoom();return h===1/0&&(h=r.getZoom()),r.unproject(a,h)}var o0={_onRotateStart(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=rs(this._map,this._rotationOriginLatLng),this._rotationStartPoint=rs(this._map,r.target.getLatLng()),this._initialRotateLatLng=Gi(this._layer),this._startAngle=this.getAngle();let a=Gi(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate(r){let a=rs(this._map,r.target.getLatLng()),h=this._rotationStartPoint,d=this._rotationOriginPoint,m=Math.atan2(a.y-d.y,a.x-d.x)-Math.atan2(h.y-d.y,h.x-d.x);this._layer.setLatLngs(this._rotateLayer(m,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let g=this;function x(Z,G=[],ce=-1){if(ce>-1&&G.push(ce),L.Util.isArray(Z[0]))Z.forEach((_e,Oe)=>x(_e,G.slice(),Oe));else{let _e=(0,i0.default)(g._markers,G);Z.forEach((Oe,Je)=>{_e[Je].setLatLng(Oe)})}}x(this._layer.getLatLngs());let k=Gi(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(m,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let E=m*180/Math.PI;E=E<0?E+360:E;let B=E+this._startAngle;this._setAngle(B),this._rotationLayer.pm._setAngle(B),this._fireRotation(this._rotationLayer,E,k),this._fireRotation(this._map,E,k),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let a=Gi(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Gi(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,a),this._fireRotationEnd(this._map,r,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(r,a,h,d,m){let g=rs(m,h);return this._matrix=d.clone().rotate(r,g).flip(),jd(a,this._matrix,m)},_setAngle(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=r.getCenter();return r.removeFrom(this._layer._map),a},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Hs(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let r={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),r),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Gi(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(r){let a=this.getAngle(),h=this._layer.getLatLngs(),d=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(d,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(d,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let m=this.getAngle()-a;m=m<0?m+360:m,this._startAngle=a,this._fireRotation(this._layer,m,h,this._layer),this._fireRotation(this._map||this._layer._map,m,h,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(r){let a=r-this.getAngle();this.rotateLayer(a)},getAngle(){return this._angle||0},setInitAngle(r){this._setAngle(r)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(r){this._rotationCenter=r,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(r)}},s0=o0,a0=L.Class.extend({includes:[n0,qs,s0,Lr],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions(r){L.Util.setOptions(this,r)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(r,a){let h=a.target,d={layer:this._layer,marker:h,event:a},m="";return r==="move"?m="moveVertexValidation":r==="add"?m="addVertexValidation":r==="remove"&&(m="removeVertexValidation"),this.options[m]&&typeof this.options[m]=="function"&&!this.options[m](d)?(r==="move"&&(h._cancelDragEventChain=h.getLatLng()),!1):(h._cancelDragEventChain=null,!0)},_vertexValidationDrag(r){return r._cancelDragEventChain?(r._latlng=r._cancelDragEventChain,r.update(),!1):!0},_vertexValidationDragEnd(r){return r._cancelDragEventChain?(r._cancelDragEventChain=null,!1):!0}}),An=a0;An.LayerGroup=L.Class.extend({initialize(r){this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(d=>this._initLayer(d));let a=d=>{if(d.layer._pmTempLayer)return;this._layers=this.getLayers();let m=this._layers.filter(g=>!g.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in g.pm._parentLayerGroup));m.forEach(g=>{this._initLayer(g)}),m.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(a,100,this),this),this._layerGroup.on("layerremove",d=>{this._removeLayerFromGroup(d.target)},this);let h=d=>{d.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(h,100,this),this)},enable(r,a=[]){a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(h=>{h instanceof L.LayerGroup?a.indexOf(h._leaflet_id)===-1&&(a.push(h._leaflet_id),h.pm.enable(r,a)):h.pm.enable(r)})},disable(r=[]){r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(a=>{a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.disable(r)):a.pm.disable()})},enabled(r=[]){return r.length===0&&(this._layers=this.getLayers()),!!this._layers.find(a=>a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1?(r.push(a._leaflet_id),a.pm.enabled(r)):!1:a.pm.enabled())},toggleEdit(r,a=[]){a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(h=>{h instanceof L.LayerGroup?a.indexOf(h._leaflet_id)===-1&&(a.push(h._leaflet_id),h.pm.toggleEdit(r,a)):h.pm.toggleEdit(r)})},_initLayer(r){let a=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup(r){if(r.pm&&r.pm._layerGroup){let a=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[a]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(r=>r.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var r;return this._map||((r=this._layers.find(a=>!!a._map))==null?void 0:r._map)||null},getLayers(r=!1,a=!0,h=!0,d=[]){let m=[];return r?this._layerGroup.getLayers().forEach(g=>{m.push(g),g instanceof L.LayerGroup&&d.indexOf(g._leaflet_id)===-1&&(d.push(g._leaflet_id),m=m.concat(g.pm.getLayers(!0,!0,!0,d)))}):m=this._layerGroup.getLayers(),h&&(m=m.filter(g=>!(g instanceof L.LayerGroup))),a&&(m=m.filter(g=>!!g.pm),m=m.filter(g=>!g._pmTempLayer),m=m.filter(g=>!L.PM.optIn&&!g.options.pmIgnore||L.PM.optIn&&g.options.pmIgnore===!1)),m},setOptions(r,a=[]){a.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(h=>{h.pm&&(h instanceof L.LayerGroup?a.indexOf(h._leaflet_id)===-1&&(a.push(h._leaflet_id),h.pm.setOptions(r,a)):h.pm.setOptions(r))})}}),An.Marker=An.extend({_shape:"Marker",initialize(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(r={draggable:!0}){if(L.Util.setOptions(this,r),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(r){let a=r.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});var Br=_(zi()),l0={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let r=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=r.filter((a,h,d)=>d.indexOf(a)===h)},_removeFromCache(r){let a=this.markerCache.indexOf(r);a>-1&&this.markerCache.splice(a,1)},renderLimits(r){this.markerCache.forEach(a=>{r.includes(a)?this._markerGroup.addLayer(a):this._markerGroup.removeLayer(a)})},applyLimitFilters({latlng:r={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let a=[...this._filterClosestMarkers(r)];this.renderLimits(a)},_filterClosestMarkers(r){let a=[...this.markerCache],h=this.options.limitMarkersToCount;return h===-1?a:(a.sort((d,m)=>{let g=d._latlng.distanceTo(r),x=m._latlng.distanceTo(r);return g-x}),a.filter((d,m)=>h>-1?m<h:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(r){this._preventRenderMarkers=!!r}},u0=l0;An.Line=An.extend({includes:[u0],_shape:"Line",initialize(r){this._layer=r,this._enabled=!1},enable(r){if(L.Util.setOptions(this,r),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let r=this._map,a=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let h=d=>{if(Array.isArray(d[0]))return d.map(h,this);let m=d.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&d.map((g,x)=>{let k=this.isPolygon()?(x+1)%d.length:x+1;return this._createMiddleMarker(m[x],m[k])}),m};this._markers=h(a),this.filterMarkerGroup(),r.addLayer(this._markerGroup)},_createMarker(r){let a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker(r,a){if(!r||!a)return!1;let h=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),a.getLatLng()),d=this._createMarker(h),m=L.divIcon({className:"marker-icon marker-icon-middle"});return d.setIcon(m),d.leftM=r,d.rightM=a,r._middleMarkerNext=d,a._middleMarkerPrev=d,d.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),d.on("movestart",this._onMiddleMarkerMoveStart,this),d},_onMiddleMarkerClick(r){let a=r.target;if(!this._vertexValidation("add",r))return;let h=L.divIcon({className:"marker-icon"});a.setIcon(h),this._addMarker(a,a.leftM,a.rightM)},_onMiddleMarkerMoveStart(r){let a=r.target;if(a.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",r)){a.on("move",this._onMiddleMarkerMovePrevent,this);return}a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)},_onMiddleMarkerMovePrevent(r){let a=r.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd(r){let a=r.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(a))return;let h=L.divIcon({className:"marker-icon"});a.setIcon(h),setTimeout(()=>{delete a._dragging},100)},_addMarker(r,a,h){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let d=r.getLatLng(),m=this._layer._latlngs;delete r.leftM,delete r.rightM;let{indexPath:g,index:x,parentPath:k}=L.PM.Utils.findDeepMarkerIndex(this._markers,a),E=g.length>1?(0,Br.default)(m,k):m,B=g.length>1?(0,Br.default)(this._markers,k):this._markers;E.splice(x+1,0,d),B.splice(x+1,0,r),this._layer.setLatLngs(m),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,r),this._createMiddleMarker(r,h)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,d),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return to(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(r){let a=this._layer,h,d;if(this.options.allowSelfIntersection?h=!1:(d=to(this._layer.toGeoJSON(15)),h=d.features.length>0),h){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return h;r?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(d)}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return h},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(r,a){r.forEach(h=>{Array.isArray(h)?this._updateDisabledMarkerStyle(h,a):h._icon&&(a&&!this._checkMarkerAllowedToDrag(h)?L.DomUtil.addClass(h._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(h._icon,"vertexmarker-disabled"))})},_removeMarker(r){let a=r.target;if(!this._vertexValidation("remove",r))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Gi(this._layer,this._layer.getLatLngs()));let h=this._layer.getLatLngs(),{indexPath:d,index:m,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);if(!d)return;let x=d.length>1?(0,Br.default)(h,g):h,k=d.length>1?(0,Br.default)(this._markers,g):this._markers;if(!this.options.removeLayerBelowMinVertexCount&&(x.length<=2||this.isPolygon()&&x.length<=3)){this._flashLayer();return}x.splice(m,1),this._layer.setLatLngs(h),this.isPolygon()&&x.length<=2&&x.splice(0,x.length);let E=!1;if(x.length<=1&&(x.splice(0,x.length),g.length>1&&d.length>1&&(h=Vi(h)),this._layer.setLatLngs(h),this._initMarkers(),E=!0),Hn(h)||this._layer.remove(),h=Vi(h),this._layer.setLatLngs(h),this._markers=Vi(this._markers),!E&&(k=d.length>1?(0,Br.default)(this._markers,g):this._markers,a._middleMarkerPrev&&(this._markerGroup.removeLayer(a._middleMarkerPrev),this._removeFromCache(a._middleMarkerPrev)),a._middleMarkerNext&&(this._markerGroup.removeLayer(a._middleMarkerNext),this._removeFromCache(a._middleMarkerNext)),this._markerGroup.removeLayer(a),this._removeFromCache(a),k)){let B,Z;if(this.isPolygon()?(B=(m+1)%k.length,Z=(m+(k.length-1))%k.length):(Z=m-1<0?void 0:m-1,B=m+1>=k.length?void 0:m+1),B!==Z){let G=k[Z],ce=k[B];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(G,ce)}k.splice(m,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,d),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(r){let a=this._layer.getLatLngs(),h=r.getLatLng(),{indexPath:d,index:m,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);(d.length>1?(0,Br.default)(a,g):a).splice(m,1,h),this._layer.setLatLngs(a)},_getNeighborMarkers(r){let{indexPath:a,index:h,parentPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),m=a.length>1?(0,Br.default)(this._markers,d):this._markers,g=(h+1)%m.length,x=(h+(m.length-1))%m.length,k=m[x],E=m[g];return{prevMarker:k,nextMarker:E}},_checkMarkerAllowedToDrag(r){let{prevMarker:a,nextMarker:h}=this._getNeighborMarkers(r),d=L.polyline([a.getLatLng(),r.getLatLng()]),m=L.polyline([r.getLatLng(),h.getLatLng()]),g=Nn(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.length,x=Nn(this._layer.toGeoJSON(15),m.toGeoJSON(15)).features.length;return r.getLatLng()===this._markers[0][0].getLatLng()?x+=1:r.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(g+=1),!(g<=2&&x<=2)},_onMarkerDragStart(r){let a=r.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",r))return;let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragStart(r,h),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Gi(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null},_onMarkerDrag(r){let a=r.target;if(!this._vertexValidationDrag(a))return;let{indexPath:h,index:d,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);if(!h)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(a);let g=h.length>1?(0,Br.default)(this._markers,m):this._markers,x=(d+1)%g.length,k=(d+(g.length-1))%g.length,E=a.getLatLng(),B=g[k].getLatLng(),Z=g[x].getLatLng();if(a._middleMarkerNext){let G=L.PM.Utils.calcMiddleLatLng(this._map,E,Z);a._middleMarkerNext.setLatLng(G)}if(a._middleMarkerPrev){let G=L.PM.Utils.calcMiddleLatLng(this._map,E,B);a._middleMarkerPrev.setLatLng(G)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,h),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(r){let a=r.target;if(!this._vertexValidationDragEnd(a))return;let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,a),d=this.hasSelfIntersection();d&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(d=!1);let m=!this.options.allowSelfIntersection&&d;if(this._fireMarkerDragEnd(r,h,m),m){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(r,h);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(r){let a=r.target;if(a._dragging)return;let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireVertexClick(r,h)}}),An.Polygon=An.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(r){let{prevMarker:a,nextMarker:h}=this._getNeighborMarkers(r),d=L.polyline([a.getLatLng(),r.getLatLng()]),m=L.polyline([r.getLatLng(),h.getLatLng()]),g=Nn(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.length,x=Nn(this._layer.toGeoJSON(15),m.toGeoJSON(15)).features.length;return!(g<=2&&x<=2)}}),An.Rectangle=An.Polygon.extend({_shape:"Rectangle",_initMarkers(){let r=this._map,a=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,r.addLayer(this._markerGroup),this._markers=[],this._markers[0]=a.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((h,d)=>{let m=this._cornerMarkers.find(g=>g._index===d);m&&m.setLatLng(h)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(r,a){let h=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._origLatLng=r,h._index=a,h._pmTempLayer=!0,h.on("click",this._onVertexClick,this),this._markerGroup.addLayer(h),h},_addMarkerEvents(){this._markers[0].forEach(r=>{r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(r){if(!this._vertexValidation("move",r))return;let a=r.target,h=this._cornerMarkers;a._oppositeCornerLatLng=h.find(m=>m._index===(a._index+2)%4).getLatLng(),a._snapped=!1;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragStart(r,d)},_onMarkerDrag(r){let a=r.target;if(!this._vertexValidationDrag(a)||a._index===void 0)return;this._adjustRectangleForMarkerMove(a);let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDrag(r,h),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(r){let a=r.target;if(!this._vertexValidationDragEnd(a))return;this._cornerMarkers.forEach(d=>{delete d._oppositeCornerLatLng});let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragEnd(r,h),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(r){L.extend(r._origLatLng,r._latlng);let a=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers(){let r=this._layer.getLatLngs()[0];r&&r.length!==4&&r.length>0?(r.forEach((a,h)=>{this._cornerMarkers[h].setLatLng(a)}),this._cornerMarkers.slice(r.length).forEach(a=>{a.setLatLng(r[0])})):!r||!r.length?console.error("The layer has no LatLngs"):this._cornerMarkers.forEach(a=>{a.setLatLng(r[a._index])})},_findCorners(){this._angle===void 0&&this.setInitAngle(Hs(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this.getAngle(),this._map||this)}}),An.CircleMarker=An.extend({_shape:"CircleMarker",initialize(r){this._layer=r,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(r={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,r),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);let a=this._layer.getLatLng(),h=this._layer._radius,d=this._getLatLngOnCircle(a,h);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(d),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(r,a){let h=this._map.project(r),d=L.point(h.x+a,h.y);return this._map.unproject(d)},_createHintLine(r,a){let h=r.getLatLng(),d=a.getLatLng();this._hintline=L.polyline([h,d],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(r){let a=this._createMarker(r);return this.options.draggable?L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"):a.dragging.disable(),a},_createOuterMarker(r){let a=this._createMarker(r);return a.on("drag",this._resizeCircle,this),a},_createMarker(r){let a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),a.on("click",this._onVertexClick,this),this._helperLayers.addLayer(a),a},_moveCircle(r){if(r.target._cancelDragEventChain)return;let a=this._centerMarker.getLatLng();this._layer.setLatLng(a);let h=this._layer._radius,d=this._getLatLngOnCircle(a,h);this._outerMarker._latlng=d,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let r=this._layer.getLatLng(),a=this._layer._radius,h=this._getLatLngOnCircle(r,a);this._outerMarker.setLatLng(h),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._distanceCalculation(r,a);this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(h),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,a])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag(r){let a=r.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(r)},_onMarkerDragEnd(r){this._extedingMarkerDragEnd();let a=r.target;this._vertexValidationDragEnd(a)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let r=this._layer._map||this._map;if(r){let a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),h=L.circle(this._layer.getLatLng(),this._layer.options);h.setRadius(a);let d=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(h,200,!d).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(h,200,!d),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._distanceCalculation(r,a);return this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?a=eo(this._map,r,a,this._getMinDistanceInMeter(r)):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&(a=eo(this._map,r,a,this._getMaxDistanceInMeter(r))),a},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._distanceCalculation(r,a);this.options[this._minRadiusOption]&&h<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&h>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(r,a){return this._map.project(r).distanceTo(this._map.project(a))},_getMinDistanceInMeter(r){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,r)},_getMaxDistanceInMeter(r){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,r)},_onVertexClick(r){r.target._dragging||this._fireVertexClick(r,void 0)}}),An.Circle=An.CircleMarker.extend({_shape:"Circle",initialize(r){this._layer=r,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable(r){L.PM.Edit.CircleMarker.prototype.enable.call(this,r||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(r,a){return this._map.distance(r,a)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(r){r.target._dragging||this._fireVertexClick(r,void 0)}}),An.ImageOverlay=An.extend({_shape:"ImageOverlay",initialize(r){this._layer=r,this._enabled=!1},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},enabled(){return this._enabled},enable(r={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,r),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let r=this._layer.getBounds(),a=r.getNorthWest(),h=r.getNorthEast(),d=r.getSouthEast(),m=r.getSouthWest();return[a,h,d,m]}}),An.Text=An.extend({_shape:"Text",initialize(r){this._layer=r,this._enabled=!1},enable(r){if(L.Util.setOptions(this,r),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${r}px`,this.textArea.style.width=`${a}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(r={}){let a=this._hasFocus;this._hasFocus=r.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(r){this.textArea.value=r,this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let a=this.options.className.split(" ");this.textArea.classList.add(...a)}let r=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(r),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(r=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(r){r.preventDefault()}});var jc=function(r,a,h,d,m,g){this._matrix=[r,a,h,d,m,g]};jc.init=()=>new L.PM.Matrix(1,0,0,1,0,0),jc.prototype={transform(r){return this._transform(r.clone())},_transform(r){let a=this._matrix,{x:h,y:d}=r;return r.x=a[0]*h+a[1]*d+a[4],r.y=a[2]*h+a[3]*d+a[5],r},untransform(r){let a=this._matrix;return new L.Point((r.x/a[0]-a[4])/a[0],(r.y/a[2]-a[5])/a[2])},clone(){let r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate(r){if(r===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let a,h;return typeof r=="number"?(a=r,h=r):(a=r.x,h=r.y),this._add(1,0,0,1,a,h)},scale(r,a){if(r===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let h,d;return a=a||L.point(0,0),typeof r=="number"?(h=r,d=r):(h=r.x,d=r.y),this._add(h,0,0,d,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},rotate(r,a){let h=Math.cos(r),d=Math.sin(r);return a=a||new L.Point(0,0),this._add(h,d,-d,h,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(r,a,h,d,m,g){let x=[[],[],[]],k=this._matrix,E=[[k[0],k[2],k[4]],[k[1],k[3],k[5]],[0,0,1]],B=[[r,h,m],[a,d,g],[0,0,1]],Z;r&&r instanceof L.PM.Matrix&&(k=r._matrix,B=[[k[0],k[2],k[4]],[k[1],k[3],k[5]],[0,0,1]]);for(let G=0;G<3;G+=1)for(let ce=0;ce<3;ce+=1){Z=0;for(let _e=0;_e<3;_e+=1)Z+=E[G][_e]*B[_e][ce];x[G][ce]=Z}return this._matrix=[x[0][0],x[1][0],x[0][1],x[1][1],x[0][2],x[1][2]],this}};var c0=jc,h0={calcMiddleLatLng(r,a,h){let d=r.project(a),m=r.project(h);return r.unproject(d._add(m)._divideBy(2))},findLayers(r){let a=[];return r.eachLayer(h=>{(h instanceof L.Polyline||h instanceof L.Marker||h instanceof L.Circle||h instanceof L.CircleMarker||h instanceof L.ImageOverlay)&&a.push(h)}),a=a.filter(h=>!!h.pm),a=a.filter(h=>!h._pmTempLayer),a=a.filter(h=>!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1),a},circleToPolygon(r,a=60,h=!0){let d=r.getLatLng(),m=r.getRadius(),g=wl(d,m,a,0,h),x=[];for(let k=0;k<g.length;k+=1){let E=[g[k].lat,g[k].lng];x.push(E)}return L.polygon(x,r.options)},disablePopup(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent(r,a,h,d=!1){r.fire(a,h,d);let{groups:m}=this.getAllParentGroups(r);m.forEach(g=>{g.fire(a,h,d)})},getAllParentGroups(r){let a=[],h=[],d=m=>{for(let g in m._eventParents)if(a.indexOf(g)===-1){a.push(g);let x=m._eventParents[g];h.push(x),d(x)}};return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(d(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:h,groupIds:a},{groupIds:a,groups:h}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:wl,getTranslation:Tt,findDeepCoordIndex(r,a,h=!0){let d,m=x=>(k,E)=>{let B=x.concat(E);if(h){if(k.lat&&k.lat===a.lat&&k.lng===a.lng)return d=B,!0}else if(k.lat&&L.latLng(k).equals(a))return d=B,!0;return Array.isArray(k)&&k.some(m(B))};r.some(m([]));let g={};return d&&(g={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),g},findDeepMarkerIndex(r,a){let h,d=g=>(x,k)=>{let E=g.concat(k);return x._leaflet_id===a._leaflet_id?(h=E,!0):Array.isArray(x)&&x.some(d(E))};r.some(d([]));let m={};return h&&(m={indexPath:h,index:h[h.length-1],parentPath:h.slice(0,h.length-1)}),m},_getIndexFromSegment(r,a){if(a&&a.length===2){let h=this.findDeepCoordIndex(r,a[0]),d=this.findDeepCoordIndex(r,a[1]),m=Math.max(h.index,d.index);return(h.index===0||d.index===0)&&m!==1&&(m+=1),{indexA:h,indexB:d,newIndex:m,indexPath:h.indexPath,parentPath:h.parentPath}}return null},_getRotatedRectangle(r,a,h,d){let m=rs(d,r),g=rs(d,a),x=h*Math.PI/180,k=Math.cos(x),E=Math.sin(x),B=(g.x-m.x)*k+(g.y-m.y)*E,Z=(g.y-m.y)*k-(g.x-m.x)*E,G=B*k+m.x,ce=B*E+m.y,_e=-Z*E+m.x,Oe=Z*k+m.y,Je=Vl(d,m),et=Vl(d,{x:G,y:ce}),At=Vl(d,g),H=Vl(d,{x:_e,y:Oe});return[Je,et,At,H]},pxRadiusToMeterRadius(r,a,h){let d=a.project(h),m=L.point(d.x+r,d.y);return a.distance(a.unproject(m),h)}},d0=h0;L.PM=L.PM||{version:Os.version,Map:bc,Toolbar:kl,Draw:En,Edit:An,Utils:d0,Matrix:c0,activeLang:"en",optIn:!1,initialize(r){this.addInitHooks(r)},setOptIn(r){this.optIn=!!r},addInitHooks(){function r(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(r);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(a);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(h);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(d);function m(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(m);function g(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(g);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(x);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(k);function E(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(E)},reInitLayer(r){r instanceof L.LayerGroup&&r.eachLayer(a=>{this.reInitLayer(a)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(r){let a=this._map.mouseEventToLayerPoint(r),h,d;for(let m=this._drawFirst;m;m=m.next)h=m.layer,h.options.interactive&&h._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(d=h);d&&(L.DomEvent.fakeStop(r),this._fireEvent([d],r))}}),L.PM.initialize()})();var Ff={exports:{}};(function(e,t){(function(i,o){o(t)})(hs,function(i){var o=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=s,f=this._zoom;if(s.__parent)for(;u.__parent._zoom>=f;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,u):this._animationAddLayerNonAnimated(s,u)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):(s.getLatLng?this._map?s.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow())):(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s})),this)},addLayers:function(s,u){if(!L.Util.isArray(s))return this.addLayer(s);var f,_=this._featureGroup,v=this._nonPointGroup,b=this.options.chunkedLoading,w=this.options.chunkInterval,P=this.options.chunkProgress,O=s.length,R=0,V=!0;if(this._map){var oe=new Date().getTime(),te=L.bind(function(){var z=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();R<O;R++){if(b&&R%200==0){var ne=new Date().getTime()-z;if(w<ne)break}if((f=s[R])instanceof L.LayerGroup)V&&(s=s.slice(),V=!1),this._extractNonGroupLayers(f,s),O=s.length;else if(f.getLatLng){if(!this.hasLayer(f)&&(this._addLayer(f,this._maxZoom),u||this.fire("layeradd",{layer:f}),f.__parent&&f.__parent.getChildCount()===2)){var pe=f.__parent.getAllChildMarkers(),Se=pe[0]===f?pe[1]:pe[0];_.removeLayer(Se)}}else v.addLayer(f),u||this.fire("layeradd",{layer:f})}P&&P(R,O,new Date().getTime()-oe),R===O?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(te,this.options.chunkDelay)},this);te()}else for(var ee=this._needsClustering;R<O;R++)(f=s[R])instanceof L.LayerGroup?(V&&(s=s.slice(),V=!1),this._extractNonGroupLayers(f,s),O=s.length):f.getLatLng?this.hasLayer(f)||ee.push(f):v.addLayer(f);return this},removeLayers:function(s){var u,f,_=s.length,v=this._featureGroup,b=this._nonPointGroup,w=!0;if(!this._map){for(u=0;u<_;u++)(f=s[u])instanceof L.LayerGroup?(w&&(s=s.slice(),w=!1),this._extractNonGroupLayers(f,s),_=s.length):(this._arraySplice(this._needsClustering,f),b.removeLayer(f),this.hasLayer(f)&&this._needsRemoving.push({layer:f,latlng:f._latlng}),this.fire("layerremove",{layer:f}));return this}if(this._unspiderfy){this._unspiderfy();var P=s.slice(),O=_;for(u=0;u<O;u++)(f=P[u])instanceof L.LayerGroup?(this._extractNonGroupLayers(f,P),O=P.length):this._unspiderfyLayer(f)}for(u=0;u<_;u++)(f=s[u])instanceof L.LayerGroup?(w&&(s=s.slice(),w=!1),this._extractNonGroupLayers(f,s),_=s.length):f.__parent?(this._removeLayer(f,!0,!0),this.fire("layerremove",{layer:f}),v.hasLayer(f)&&(v.removeLayer(f),f.clusterShow&&f.clusterShow())):(b.removeLayer(f),this.fire("layerremove",{layer:f}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;0<=u;u--)s.extend(this._needsClustering[u].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,u){var f,_,v,b=this._needsClustering.slice(),w=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(b),_=b.length-1;0<=_;_--){for(f=!0,v=w.length-1;0<=v;v--)if(w[v].layer===b[_]){f=!1;break}f&&s.call(u,b[_])}this._nonPointGroup.eachLayer(s,u)},getLayers:function(){var s=[];return this.eachLayer(function(u){s.push(u)}),s},getLayer:function(s){var u=null;return s=parseInt(s,10),this.eachLayer(function(f){L.stamp(f)===s&&(u=f)}),u},hasLayer:function(s){if(!s)return!1;var u,f=this._needsClustering;for(u=f.length-1;0<=u;u--)if(f[u]===s)return!0;for(u=(f=this._needsRemoving).length-1;0<=u;u--)if(f[u].layer===s)return!1;return!(!s.__parent||s.__parent._group!==this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,u){var f=this._map;typeof u!="function"&&(u=function(){});var _=function(){!f.hasLayer(s)&&!f.hasLayer(s.__parent)||this._inZoomAnimation||(this._map.off("moveend",_,this),this.off("animationend",_,this),f.hasLayer(s)?u():s.__parent._icon&&(this.once("spiderfied",u,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?u():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",_,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",_,this),this.on("animationend",_,this),s.__parent.zoomToBounds())},onAdd:function(s){var u,f,_;if(this._map=s,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,u=0,f=this._needsRemoving.length;u<f;u++)(_=this._needsRemoving[u]).newlatlng=_.layer._latlng,_.layer._latlng=_.latlng;for(u=0,f=this._needsRemoving.length;u<f;u++)_=this._needsRemoving[u],this._removeLayer(_.layer,!0),_.layer._latlng=_.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),f=this._needsClustering,this._needsClustering=[],this.addLayers(f,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var u=s;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(s,u){for(var f=s.length-1;0<=f;f--)if(s[f]===u)return s.splice(f,1),!0},_removeFromGridUnclustered:function(s,u){for(var f=this._map,_=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());v<=u&&_[u].removeObject(s,f.project(s.getLatLng(),u));u--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var u=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),u&&s.target.openPopup()}},_moveChild:function(s,u,f){s._latlng=u,this.removeLayer(s),s._latlng=f,this.addLayer(s)},_childMarkerDragEnd:function(s){var u=s.target.__dragStart;delete s.target.__dragStart,u&&this._moveChild(s.target,u,s.target._latlng)},_removeLayer:function(s,u,f){var _=this._gridClusters,v=this._gridUnclustered,b=this._featureGroup,w=this._map,P=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(s,this._maxZoom);var O,R=s.__parent,V=R._markers;for(this._arraySplice(V,s);R&&(R._childCount--,R._boundsNeedUpdate=!0,!(R._zoom<P));)u&&R._childCount<=1?(O=R._markers[0]===s?R._markers[1]:R._markers[0],_[R._zoom].removeObject(R,w.project(R._cLatLng,R._zoom)),v[R._zoom].addObject(O,w.project(O.getLatLng(),R._zoom)),this._arraySplice(R.__parent._childClusters,R),R.__parent._markers.push(O),O.__parent=R.__parent,R._icon&&(b.removeLayer(R),f||b.addLayer(O))):R._iconNeedsUpdate=!0,R=R.__parent;delete s.__parent},_isOrIsParent:function(s,u){for(;u;){if(s===u)return!0;u=u.parentNode}return!1},fire:function(s,u,f){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,u,f)},listens:function(s,u){return L.FeatureGroup.prototype.listens.call(this,s,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,u)},_defaultIconCreateFunction:function(s){var u=s.getChildCount(),f=" marker-cluster-";return f+=u<10?"small":u<100?"medium":"large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+f,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,u=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,_=this.options.zoomToBoundsOnClick,v=this.options.spiderfyOnEveryZoom;(u||_||v)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),f&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var u=s.layer,f=u;if(s.type!=="clusterkeypress"||!s.originalEvent||s.originalEvent.keyCode===13){for(;f._childClusters.length===1;)f=f._childClusters[0];f._zoom===this._maxZoom&&f._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),2<s.layer.getChildCount()&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,_=this.options.spiderfyOnEveryZoom,v=this._map;(s||f||_)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),v.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),f=this.options.maxClusterRadius,_=f;typeof f!="function"&&(_=function(){return f}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var v=s;u<=v;v--)this._gridClusters[v]=new L.DistanceGrid(_(v)),this._gridUnclustered[v]=new L.DistanceGrid(_(v));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(s,u){var f,_,v=this._gridClusters,b=this._gridUnclustered,w=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);w<=u;u--){f=this._map.project(s.getLatLng(),u);var P=v[u].getNearObject(f);if(P)return P._addChild(s),void(s.__parent=P);if(P=b[u].getNearObject(f)){var O=P.__parent;O&&this._removeLayer(P,!1);var R=new this._markerCluster(this,u,P,s);v[u].addObject(R,this._map.project(R._cLatLng,u)),P.__parent=R;var V=s.__parent=R;for(_=u-1;_>O._zoom;_--)V=new this._markerCluster(this,_,V),v[_].addObject(V,this._map.project(P.getLatLng(),_));return O._addChild(V),void this._removeFromGridUnclustered(P,u)}b[u].addObject(s,f)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(s){var u=this._maxLat;return u!==void 0&&(s.getNorth()>=u&&(s._northEast.lat=1/0),s.getSouth()<=-u&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,u){if(u===s)this._featureGroup.addLayer(s);else if(u._childCount===2){u._addToMap();var f=u.getAllChildMarkers();this._featureGroup.removeLayer(f[0]),this._featureGroup.removeLayer(f[1])}else u._updateIcon()},_extractNonGroupLayers:function(s,u){var f,_=s.getLayers(),v=0;for(u=u||[];v<_.length;v++)(f=_[v])instanceof L.LayerGroup?this._extractNonGroupLayers(f,u):u.push(f);return u},_overrideMarkerIcon:function(s){return s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,u){this._animationAddLayerNonAnimated(s,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,u){var f,_=this._getExpandedVisibleBounds(),v=this._featureGroup,b=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(_,s,b,function(w){var P,O=w._latlng,R=w._markers;for(_.contains(O)||(O=null),w._isSingleParent()&&s+1===u?(v.removeLayer(w),w._recursivelyAddChildrenToMap(null,u,_)):(w.clusterHide(),w._recursivelyAddChildrenToMap(O,u,_)),f=R.length-1;0<=f;f--)P=R[f],_.contains(P._latlng)||v.removeLayer(P)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(_,u),v.eachLayer(function(w){w instanceof L.MarkerCluster||!w._icon||w.clusterShow()}),this._topClusterLevel._recursively(_,s,u,function(w){w._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(_,s,b,function(w){v.removeLayer(w),w.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,u){this._animationZoomOutSingle(this._topClusterLevel,s-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,u){var f=this,_=this._featureGroup;_.addLayer(s),u!==s&&(2<u._childCount?(u._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(u.getLatLng())),s.clusterHide(),this._enqueue(function(){_.removeLayer(s),s.clusterShow(),f._animationEnd()})):(this._forceLayout(),f._animationStart(),f._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,u,f){var _=this._getExpandedVisibleBounds(),v=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(_,v,u+1,f);var b=this;this._forceLayout(),s._recursivelyBecomeVisible(_,f),this._enqueue(function(){if(s._childCount===1){var w=s._markers[0];this._ignoreMove=!0,w.setLatLng(w.getLatLng()),this._ignoreMove=!1,w.clusterShow&&w.clusterShow()}else s._recursively(_,f,v,function(P){P._recursivelyRemoveChildrenFromMap(_,v,u+1)});b._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var c=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,u,f,_){L.Marker.prototype.initialize.call(this,f?f._cLatLng||f.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,f&&this._addChild(f),_&&this._addChild(_)},getAllChildMarkers:function(s,u){s=s||[];for(var f=this._childClusters.length-1;0<=f;f--)this._childClusters[f].getAllChildMarkers(s,u);for(var _=this._markers.length-1;0<=_;_--)u&&this._markers[_].__dragStart||s.push(this._markers[_]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var u,f=this._childClusters.slice(),_=this._group._map,v=_.getBoundsZoom(this._bounds),b=this._zoom+1,w=_.getZoom();0<f.length&&b<v;){b++;var P=[];for(u=0;u<f.length;u++)P=P.concat(f[u]._childClusters);f=P}b<v?this._group._map.setView(this._latlng,b):v<=w?this._group._map.setView(this._latlng,w+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(u||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(u||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s,u,f,_,v=this._markers,b=this._childClusters,w=0,P=0,O=this._childCount;if(O!==0){for(this._resetBounds(),s=0;s<v.length;s++)f=v[s]._latlng,this._bounds.extend(f),w+=f.lat,P+=f.lng;for(s=0;s<b.length;s++)(u=b[s])._boundsNeedUpdate&&u._recalculateBounds(),this._bounds.extend(u._bounds),f=u._wLatLng,_=u._childCount,w+=f.lat*_,P+=f.lng*_;this._latlng=this._wLatLng=new L.LatLng(w/O,P/O),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,u,f){this._recursively(s,this._group._map.getMinZoom(),f-1,function(_){var v,b,w=_._markers;for(v=w.length-1;0<=v;v--)(b=w[v])._icon&&(b._setPos(u),b.clusterHide())},function(_){var v,b,w=_._childClusters;for(v=w.length-1;0<=v;v--)(b=w[v])._icon&&(b._setPos(u),b.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,u,f,_){this._recursively(s,_,u,function(v){v._recursivelyAnimateChildrenIn(s,v._group._map.latLngToLayerPoint(v.getLatLng()).round(),f),v._isSingleParent()&&f-1===_?(v.clusterShow(),v._recursivelyRemoveChildrenFromMap(s,u,f)):v.clusterHide(),v._addToMap()})},_recursivelyBecomeVisible:function(s,u){this._recursively(s,this._group._map.getMinZoom(),u,null,function(f){f.clusterShow()})},_recursivelyAddChildrenToMap:function(s,u,f){this._recursively(f,this._group._map.getMinZoom()-1,u,function(_){if(u!==_._zoom)for(var v=_._markers.length-1;0<=v;v--){var b=_._markers[v];f.contains(b._latlng)&&(s&&(b._backupLatlng=b.getLatLng(),b.setLatLng(s),b.clusterHide&&b.clusterHide()),_._group._featureGroup.addLayer(b))}},function(_){_._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var u=this._markers.length-1;0<=u;u--){var f=this._markers[u];f._backupLatlng&&(f.setLatLng(f._backupLatlng),delete f._backupLatlng)}if(s-1===this._zoom)for(var _=this._childClusters.length-1;0<=_;_--)this._childClusters[_]._restorePosition();else for(var v=this._childClusters.length-1;0<=v;v--)this._childClusters[v]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,u,f,_){var v,b;this._recursively(s,u-1,f-1,function(w){for(b=w._markers.length-1;0<=b;b--)v=w._markers[b],_&&_.contains(v._latlng)||(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())},function(w){for(b=w._childClusters.length-1;0<=b;b--)v=w._childClusters[b],_&&_.contains(v._latlng)||(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())})},_recursively:function(s,u,f,_,v){var b,w,P=this._childClusters,O=this._zoom;if(u<=O&&(_&&_(this),v&&O===f&&v(this)),O<u||O<f)for(b=P.length-1;0<=b;b--)(w=P[b])._boundsNeedUpdate&&w._recalculateBounds(),s.intersects(w._bounds)&&w._recursively(s,u,f,_,v)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,u){var f=this._getCoord(u.x),_=this._getCoord(u.y),v=this._grid,b=v[_]=v[_]||{},w=b[f]=b[f]||[],P=L.Util.stamp(s);this._objectPoint[P]=u,w.push(s)},updateObject:function(s,u){this.removeObject(s),this.addObject(s,u)},removeObject:function(s,u){var f,_,v=this._getCoord(u.x),b=this._getCoord(u.y),w=this._grid,P=w[b]=w[b]||{},O=P[v]=P[v]||[];for(delete this._objectPoint[L.Util.stamp(s)],f=0,_=O.length;f<_;f++)if(O[f]===s)return O.splice(f,1),_===1&&delete P[v],!0},eachObject:function(s,u){var f,_,v,b,w,P,O=this._grid;for(f in O)for(_ in w=O[f])for(v=0,b=(P=w[_]).length;v<b;v++)s.call(u,P[v])&&(v--,b--)},getNearObject:function(s){var u,f,_,v,b,w,P,O,R=this._getCoord(s.x),V=this._getCoord(s.y),oe=this._objectPoint,te=this._sqCellSize,ee=null;for(u=V-1;u<=V+1;u++)if(v=this._grid[u]){for(f=R-1;f<=R+1;f++)if(b=v[f])for(_=0,w=b.length;_<w;_++)P=b[_],((O=this._sqDist(oe[L.Util.stamp(P)],s))<te||O<=te&&ee===null)&&(te=O,ee=P)}return ee},_getCoord:function(s){var u=Math.floor(s/this._cellSize);return isFinite(u)?u:s},_sqDist:function(s,u){var f=u.x-s.x,_=u.y-s.y;return f*f+_*_}},L.QuickHull={getDistant:function(s,u){var f=u[1].lat-u[0].lat;return(u[0].lng-u[1].lng)*(s.lat-u[0].lat)+f*(s.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(s,u){var f,_,v,b=0,w=null,P=[];for(f=u.length-1;0<=f;f--)_=u[f],0<(v=this.getDistant(_,s))&&(P.push(_),b<v&&(b=v,w=_));return{maxPoint:w,newPoints:P}},buildConvexHull:function(s,u){var f=[],_=this.findMostDistantPointFromBaseLine(s,u);return _.maxPoint?f=(f=f.concat(this.buildConvexHull([s[0],_.maxPoint],_.newPoints))).concat(this.buildConvexHull([_.maxPoint,s[1]],_.newPoints)):[s[0]]},getConvexHull:function(s){var u,f=!1,_=!1,v=!1,b=!1,w=null,P=null,O=null,R=null,V=null,oe=null;for(u=s.length-1;0<=u;u--){var te=s[u];(f===!1||te.lat>f)&&(f=(w=te).lat),(_===!1||te.lat<_)&&(_=(P=te).lat),(v===!1||te.lng>v)&&(v=(O=te).lng),(b===!1||te.lng<b)&&(b=(R=te).lng)}return V=_!==f?(oe=P,w):(oe=R,O),[].concat(this.buildConvexHull([oe,V],s),this.buildConvexHull([V,oe],s))}},L.MarkerCluster.include({getConvexHull:function(){var s,u,f=this.getAllChildMarkers(),_=[];for(u=f.length-1;0<=u;u--)s=f[u].getLatLng(),_.push(s);return L.QuickHull.getConvexHull(_)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var s,u=this.getAllChildMarkers(null,!0),f=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),s=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(u.length,f):u.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(u.length,f):(f.y+=10,this._generatePointsCircle(u.length,f)),this._animationSpiderfy(u,s)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,u){var f,_,v=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s)/this._2PI,b=this._2PI/s,w=[];for(v=Math.max(v,35),w.length=s,f=0;f<s;f++)_=this._circleStartAngle+f*b,w[f]=new L.Point(u.x+v*Math.cos(_),u.y+v*Math.sin(_))._round();return w},_generatePointsSpiral:function(s,u){var f,_=this._group.options.spiderfyDistanceMultiplier,v=_*this._spiralLengthStart,b=_*this._spiralFootSeparation,w=_*this._spiralLengthFactor*this._2PI,P=0,O=[];for(f=O.length=s;0<=f;f--)f<s&&(O[f]=new L.Point(u.x+v*Math.cos(P),u.y+v*Math.sin(P))._round()),v+=w/(P+=b/v+5e-4*f);return O},_noanimationUnspiderfy:function(){var s,u,f=this._group,_=f._map,v=f._featureGroup,b=this.getAllChildMarkers(null,!0);for(f._ignoreMove=!0,this.setOpacity(1),u=b.length-1;0<=u;u--)s=b[u],v.removeLayer(s),s._preSpiderfyLatlng&&(s.setLatLng(s._preSpiderfyLatlng),delete s._preSpiderfyLatlng),s.setZIndexOffset&&s.setZIndexOffset(0),s._spiderLeg&&(_.removeLayer(s._spiderLeg),delete s._spiderLeg);f.fire("unspiderfied",{cluster:this,markers:b}),f._ignoreMove=!1,f._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,u){var f,_,v,b,w=this._group,P=w._map,O=w._featureGroup,R=this._group.options.spiderLegPolylineOptions;for(w._ignoreMove=!0,f=0;f<s.length;f++)b=P.layerPointToLatLng(u[f]),_=s[f],v=new L.Polyline([this._latlng,b],R),P.addLayer(v),_._spiderLeg=v,_._preSpiderfyLatlng=_._latlng,_.setLatLng(b),_.setZIndexOffset&&_.setZIndexOffset(1e6),O.addLayer(_);this.setOpacity(.3),w._ignoreMove=!1,w.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,u){var f,_,v,b,w,P,O=this,R=this._group,V=R._map,oe=R._featureGroup,te=this._latlng,ee=V.latLngToLayerPoint(te),z=L.Path.SVG,ne=L.extend({},this._group.options.spiderLegPolylineOptions),pe=ne.opacity;for(pe===void 0&&(pe=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),z?(ne.opacity=0,ne.className=(ne.className||"")+" leaflet-cluster-spider-leg"):ne.opacity=pe,R._ignoreMove=!0,f=0;f<s.length;f++)_=s[f],P=V.layerPointToLatLng(u[f]),v=new L.Polyline([te,P],ne),V.addLayer(v),_._spiderLeg=v,z&&(w=(b=v._path).getTotalLength()+.1,b.style.strokeDasharray=w,b.style.strokeDashoffset=w),_.setZIndexOffset&&_.setZIndexOffset(1e6),_.clusterHide&&_.clusterHide(),oe.addLayer(_),_._setPos&&_._setPos(ee);for(R._forceLayout(),R._animationStart(),f=s.length-1;0<=f;f--)P=V.layerPointToLatLng(u[f]),(_=s[f])._preSpiderfyLatlng=_._latlng,_.setLatLng(P),_.clusterShow&&_.clusterShow(),z&&((b=(v=_._spiderLeg)._path).style.strokeDashoffset=0,v.setStyle({opacity:pe}));this.setOpacity(.3),R._ignoreMove=!1,setTimeout(function(){R._animationEnd(),R.fire("spiderfied",{cluster:O,markers:s})},200)},_animationUnspiderfy:function(s){var u,f,_,v,b,w,P=this,O=this._group,R=O._map,V=O._featureGroup,oe=s?R._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):R.latLngToLayerPoint(this._latlng),te=this.getAllChildMarkers(null,!0),ee=L.Path.SVG;for(O._ignoreMove=!0,O._animationStart(),this.setOpacity(1),f=te.length-1;0<=f;f--)(u=te[f])._preSpiderfyLatlng&&(u.closePopup(),u.setLatLng(u._preSpiderfyLatlng),delete u._preSpiderfyLatlng,w=!0,u._setPos&&(u._setPos(oe),w=!1),u.clusterHide&&(u.clusterHide(),w=!1),w&&V.removeLayer(u),ee&&(b=(v=(_=u._spiderLeg)._path).getTotalLength()+.1,v.style.strokeDashoffset=b,_.setStyle({opacity:0})));O._ignoreMove=!1,setTimeout(function(){var z=0;for(f=te.length-1;0<=f;f--)(u=te[f])._spiderLeg&&z++;for(f=te.length-1;0<=f;f--)(u=te[f])._spiderLeg&&(u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),1<z&&V.removeLayer(u),R.removeLayer(u._spiderLeg),delete u._spiderLeg);O._animationEnd(),O.fire("unspiderfied",{cluster:P,markers:te})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var u,f;for(u in s)for(f=s[u].__parent;f;)f._iconNeedsUpdate=!0,f=f.__parent},_refreshSingleMarkerModeMarkers:function(s){var u,f;for(u in s)f=s[u],this.hasLayer(f)&&f.setIcon(this._overrideMarkerIcon(f))}}),L.Marker.include({refreshIconOptions:function(s,u){var f=this.options.icon;return L.setOptions(f,s),this.setIcon(f),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),i.MarkerClusterGroup=o,i.MarkerCluster=c,Object.defineProperty(i,"__esModule",{value:!0})})})(Ff,Ff.exports);const IS={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Function,default:()=>({})},prefix:{type:[String,Boolean],default:!1},cluster:{type:Boolean,default:!1},maxClusterRadius:{type:Number,default:20},clusterIconCreateFunction:{type:Function,default:void 0}},emits:["add:layer","drag:layer","draw:start","edit:layer","geojson","geojson:ready","zoom:change","zoom:start"],setup(e,{expose:t,emit:i}){delete ii.Icon.Default.prototype._getIconUrl,ii.Icon.Default.mergeOptions({iconRetinaUrl:CS,iconUrl:kS,shadowUrl:ES});const o=e,c=i;let s,u,f,_;const v=ze(null),b=Ze(()=>({maxZoom:o.zoomBounds,zoom:{animate:o.zoomAnimate}}));yn(()=>o.geojson,z=>{_.clearLayers(),te(z)},{deep:!0}),yn(()=>o.dragging,z=>{z?s.dragging.enable():s.dragging.disable()});function w(){const z={maxClusterRadius:o.maxClusterRadius};return o.clusterIconCreateFunction&&Object.assign(z,{iconCreateFunction:ne=>o.clusterIconCreateFunction({L:ii,cluster:ne})}),z}cn(()=>{const z=xS(ii,{maxZoom:o.maxZoom,minZoom:o.minZoom,className:"map-tiles"}),[ne]=Object.values(z),pe={center:o.center,zoom:o.zoom,worldCopyJump:!0,dragging:o.dragging,maxZoom:o.maxZoom};o.disableZoom&&Object.assign(pe,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),f=new ii.FeatureGroup,_=o.cluster?new ii.markerClusterGroup(w()):new ii.FeatureGroup,s=ii.map(v.value,pe),s.attributionControl.setPrefix(o.prefix),s.pm.setGlobalOptions({layerGroup:f}),_.addTo(s),s.addLayer(f),s.addLayer(_),o.geojson&&te(o.geojson),o.controls&&(s.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),s.on("pm:create",Se=>{c("geojson",P()),c("add:layer",R(Se.layer))}),f.on("pm:edit",Se=>{c("geojson",P()),c("edit:layer",R(Se.layer))}),s.on("pm:drawstart",Se=>{O(),c("draw:start",Se)}),s.on("zoom",Se=>c("zoom:change",Se)),s.on("zoomstart",Se=>c("zoom:start",Se))),ne.addTo(s),Object.keys(z).length>1&&ii.control.layers(z,{},{position:"topleft",collapsed:!1}).addTo(s),oe()});function P(){const z=ii.featureGroup();return f.eachLayer(ne=>{(ne instanceof ii.Path||ne instanceof ii.Marker)&&ne.pm&&z.addLayer(ne)}),z.toGeoJSON()}function O(){f.clearLayers()}function R(z){const ne=z.toGeoJSON();return typeof z.getRadius=="function"&&(ne.properties.radius=z.getRadius()),ne}const V=()=>{if(!_)return;const z=_.getBounds();s.invalidateSize(),ko(()=>{Object.keys(z).length&&s.fitBounds(z,b.value)})},oe=()=>{u=new ResizeObserver(z=>{z[0].contentRect,V()}),u.observe(v.value)};yr(()=>{_.clearLayers(),u==null||u.disconnect()});function te(z){if(z){const ne={L:ii};ii.geoJSON(z,{...DS(ne),...o.geojsonOptions(ne)}).addTo(_);const pe=_.getBounds();pe.isValid()&&s.fitBounds(pe,b.value)}c("geojson:ready",_)}function ee(){return s}return t({clearDrawLayers:O,getMapObject:ee,resizeMap:V}),(z,ne)=>(S(),U("div",{ref_key:"leafletMap",ref:v,style:pi({width:o.width,height:o.height})},null,4))}};function FS(e){jS(e,Object.assign({"/src/components/Map/VMap.client.vue":IS}))}function jS(e,t){Object.entries(t).forEach(([o,c])=>{const s=o.split("/").pop().replace(/\.client.\w+$/,"");e.component(s,c)})}const NS=["innerHTML"],zS={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},VS={key:1,class:"inline h-4 w-1"},GS=["innerHTML"],$S={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(e){const t=e,i=Ze(()=>{const[c,...s]=t.items;return{username:c,host:s}});function o(){const[c,...s]=t.items;document.location.href=`mailto:${c}@${s.join(".")}`}return(c,s)=>(S(),U("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:o},[N("span",{innerHTML:i.value.username},null,8,NS),(S(!0),U(je,null,ut(i.value.host,(u,f)=>(S(),U(je,null,[f===0?(S(),U("svg",zS,s[0]||(s[0]=[N("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1)]))):(S(),U("svg",VS,s[1]||(s[1]=[N("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1)]))),N("span",{innerHTML:u},null,8,GS)],64))),256))]))}},US={};function HS(e,t){return S(),ye(Ru,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:J(()=>[xt(e.$slots,"default")]),_:3})}const ZS=gt(US,[["render",HS]]),qS={},KS={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"};function WS(e,t){return S(),U("svg",KS,t[0]||(t[0]=[Xm('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1)]))}const JS=gt(qS,[["render",WS]]),YS={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},XS={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},QS=["placeholder"],eP={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},tP=["onClick"],nP=["innerHTML"],iP=500,rP={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(e,{emit:t}){const i=e,o=t,c=ze(""),s=ze([]),u=ze(!1),f=ze(null);let _;yn(c,b=>{clearTimeout(_),b.length?_=setTimeout(()=>{u.value=!0,an.get(i.url,{params:{...i.params,[i.queryParam]:c.value}}).then(({data:w})=>{u.value=!1,s.value=w})},iP):s.value=[]});const v=b=>{o("select",b),c.value=""};return cn(()=>{i.autofocus&&f.value.focus()}),(b,w)=>{const P=se("IconSearch");return S(),U("div",YS,[N("div",XS,[q(P,{class:"w-4 h-4 text-gray-500"})]),Rn(N("input",{"onUpdate:modelValue":w[0]||(w[0]=O=>c.value=O),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:e.placeholder,ref_key:"inputElement",ref:f},null,8,QS),[[md,c.value]]),u.value?(S(),ye(JS,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Ee("",!0),s.value.length?(S(),U("ul",eP,[(S(!0),U(je,null,ut(s.value,O=>(S(),U("li",{key:O.id,class:"autocomplete__item px-3 py-2 border-b text-xs text-base-content cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:R=>v(O)},[N("span",{innerHTML:O[e.label]},null,8,nP)],8,tP))),128))])):Ee("",!0)])}}},Vg=gt(rP,[["__scopeId","data-v-bd0dac97"]]),oP={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(e){const t=Ja(),i=({id:o,otu_valid_id:c})=>{t.push({name:"otus-id-overview",params:{id:c||o}})};return(o,c)=>(S(),ye(Vg,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:e.autofocus,params:{having_taxon_name_only:!0},onSelect:i},null,8,["autofocus"]))}},sP=["title"],aP={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const i=e,o=t,c=Ze({get(){return i.modelValue},set(s){o("update:modelValue",s)}});return(s,u)=>{const f=se("IconMinusCircle"),_=se("IconPlusCircle");return S(),U("button",{type:"button",title:c.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:u[0]||(u[0]=v=>c.value=!c.value)},[c.value?(S(),ye(f,{key:0,class:"w-5 h-5"})):(S(),ye(_,{key:1,class:"w-5 h-5"}))],8,sP)}}},lP={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(e){return(t,i)=>(S(),U("button",{type:"button",class:tn(["px-3","py-1","hover:bg-opacity-80",{"bg-primary-color":e.primary,"bg-secondary-color":e.secondary,"text-primary-content":e.primary,"text-secondary-content":e.secondary}])},[xt(t.$slots,"default")],2))}},uP={},cP={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function hP(e,t){return S(),U("div",cP,[xt(e.$slots,"default")])}const dP=gt(uP,[["render",hP]]),pP={},fP={class:"p-4 pl-5 pr-5"};function mP(e,t){return S(),U("div",fP,[xt(e.$slots,"default")])}const _P=gt(pP,[["render",mP]]),gP={},yP={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function vP(e,t){return S(),U("div",yP,[xt(e.$slots,"default")])}const bP=gt(gP,[["render",vP]]),xP={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(e){const t=e,i=ze(!1);let o;function c(){navigator.clipboard.writeText(t.text).then(()=>{i.value=!0,o=setTimeout(()=>{i.value=!1},t.delay)})}return Yi(()=>{clearTimeout(o)}),(s,u)=>{const f=se("IconCheck"),_=se("IconClipboard"),v=se("VButton");return S(),ye(v,{class:"px-2 py-2 rounded-full",primary:"",onClick:c},{default:J(()=>[i.value?(S(),ye(f,{key:0,class:"w-4 h-4"})):(S(),ye(_,{key:1,class:"w-4 h-4"}))]),_:1})}}},wP={class:"relative inline"},LP=["onClick"],CP={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(e){const t=ze(null),i=ze(!1),o=()=>{i.value=!i.value},c=u=>{i.value=!1,u.action()};function s(u){var f;(!u.target||!((f=t.value)!=null&&f.contains(u.target)))&&(i.value=!1)}return cn(()=>{document.addEventListener("pointerdown",s,{passive:!0,capture:!0})}),Yi(()=>{document.removeEventListener("pointerdown",s,{capture:!0})}),(u,f)=>(S(),U("div",wP,[N("button",{title:"Menu",onClick:o},[xt(u.$slots,"button")]),i.value?(S(),U("ul",{key:0,ref_key:"element",ref:t,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(S(!0),U(je,null,ut(e.items,_=>(S(),U("li",{key:_.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:v=>c(_)},Be(_.label),9,LP))),128))],512)):Ee("",!0)]))}};function Gg({props:e}){const t=ze([]);function i(o){var c,s;return{id:o.id,objectId:o.depiction_object_id,objectType:o.depiction_object_type,objectLabel:o.depiction_object.label,label:o.label,imageOriginal:o.image.original,imageMedium:o.image.medium,attribution:((c=o.attribution)==null?void 0:c.label)||"",labelAttribution:[o.depiction_object.label,((s=o.attribution)==null?void 0:s.label)||""].join(" ")}}return yn(()=>e.depictionId,o=>{o.length&&an.get("/depictions/gallery",{params:{depiction_id:o}}).then(({data:c})=>{t.value=c.map(i).sort((s,u)=>e.depictionId.indexOf(s.id)-e.depictionId.indexOf(u.id))})},{immediate:!0}),{depictions:t}}const kP=["src","alt"],EP={class:"bg-black bg-opacity-25 absolute h-full w-full"},MP={key:0,class:"z-10 text-white text-sm drop-shadow absolute bottom-2 right-0 px-4"},SP=["innerHTML"],PP={__name:"GalleryCarousel.global",props:{depictionId:{type:Array,default:()=>[]},interval:{type:Number,default:1e4},height:{type:String,default:"550px"}},setup(e){const t=e,{depictions:i}=Gg({props:t}),o=ze(0),c=Ze(()=>({height:t.height})),s=Ze(()=>i.value[o.value]||{}),u=Ze(()=>s.value.objectType==="Otu"),f=Ze(()=>[s.value.objectLabel,s.value.attribution].join(" "));let _=null;function v(){o.value=(o.value+1)%i.value.length}return yn(i,()=>{t.interval?(clearInterval(_),_=setInterval(v,t.interval)):o.value=Math.floor(Math.random()*i.value.length)}),Yi(()=>{clearInterval(_)}),(b,w)=>{const P=se("RouterLink");return S(),U("div",{class:"w-full relative",style:pi(c.value)},[q(Ru,{name:"fade"},{default:J(()=>[s.value.imageOriginal?(S(),U("img",{key:s.value.imageOriginal,class:"object-cover overflow-hidden h-full w-full absolute top-0 my-0",src:s.value.imageOriginal,alt:s.value.label},null,8,kP)):Ee("",!0)]),_:1}),N("div",EP,[xt(b.$slots,"default",{},void 0,!0)]),s.value.objectId?(S(),U("span",MP,[u.value?(S(),ye(P,{key:0,class:"text-white decoration-transparent",to:{name:"otus-id",params:{id:s.value.objectId}},innerHTML:f.value},null,8,["to","innerHTML"])):(S(),U("span",{key:1,innerHTML:f.value},null,8,SP))])):Ee("",!0)],4)}}},BP=gt(PP,[["__scopeId","data-v-0e946aee"]]),TP={class:"h-80 max-h-80 flex items-center justify-center"},AP=["textContent"],OP=["src","alt"],RP={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(e,{emit:t}){const i=e,o=t,c=ze(!1),s=ze(null),u=ze(null);yn(()=>i.image,v=>{v.original&&(u.value=null,c.value=!0)});function f(v){v.preventDefault(),c.value=!1,u.value="Image was not found or format is not supported"}function _(){c.value=!1}return cn(()=>{s.value.addEventListener("load",_),s.value.addEventListener("error",f)}),(v,b)=>{var O;const w=se("VSpinner"),P=se("ClientOnly");return S(),U("div",TP,[q(P,null,{default:J(()=>[c.value?(S(),ye(w,{key:0})):Ee("",!0)]),_:1}),u.value?(S(),U("span",{key:0,textContent:Be(u.value)},null,8,AP)):Ee("",!0),Rn(N("img",{ref_key:"imageElement",ref:s,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:e.image.original,alt:(O=e.image.depictions)==null?void 0:O.map(R=>R.label).join(";"),onClick:b[0]||(b[0]=R=>o("open:viewer"))},null,8,OP),[[Du,!u.value]])])}}},DP={class:"flex flex-col"},IP={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},FP={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(e){const t=e,i=ze(!1),o=ze(0),c=Ze(()=>t.images[o.value]||{}),s=()=>{o.value--},u=()=>{o.value++};return yn(()=>t.images,()=>{o.value=0},{immediate:!0}),(f,_)=>{const v=se("ImageViewer");return S(),U(je,null,[N("div",DP,[N("div",IP,[q(RP,{image:c.value,"onOpen:viewer":_[0]||(_[0]=()=>i.value=!0)},null,8,["image"])]),q(Lu,{class:"pt-2 pb-2",images:e.images,onSelectIndex:_[1]||(_[1]=b=>{o.value=b})},null,8,["images"])]),i.value?(S(),ye(v,{key:0,index:o.value,images:e.images,next:o.value<t.images.length-1,previous:o.value>0,onSelectIndex:_[2]||(_[2]=b=>o.value=b),onNext:_[3]||(_[3]=b=>u()),onPrevious:_[4]||(_[4]=b=>s()),onClose:_[5]||(_[5]=b=>i.value=!1)},null,8,["index","images","next","previous"])):Ee("",!0)],64)}}},jP=["src"],NP=["innerHTML"],zP={__name:"GalleryMosaic.global",props:{depictionId:{type:Array,default:()=>[]},imageHeight:{type:String,default:"112px"},imageWidth:{type:String,default:"200px"},wrap:{type:Boolean,default:!1},label:{type:Boolean,default:!1}},setup(e){const t=e,i=Ze(()=>({height:t.imageHeight}));function o(s){return s.objectType==="Otu"?"RouterLink":"div"}const{depictions:c}=Gg({props:t});return(s,u)=>(S(),U("div",{class:tn(["grid","gap-2",{"grid-flow-col":!t.wrap}]),style:pi(t.wrap&&`grid-template-columns: repeat(auto-fit, minmax(${t.imageWidth}, 1fr))`)},[(S(!0),U(je,null,ut(Ie(c),f=>(S(),ye(So(o(f)),{key:f.id,to:{name:"otus-id",params:{id:f.objectId}}},{default:J(()=>[N("img",{src:f.imageMedium,style:pi(i.value),class:"max-w-full my-0 object-cover w-full"},null,12,jP),e.label?(S(),U("span",{key:0,class:"text-sm",innerHTML:f.labelAttribution},null,8,NP)):Ee("",!0)]),_:2},1032,["to"]))),128))],6))}},VP={},GP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function $P(e,t){return S(),U("svg",GP,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))}const UP=gt(VP,[["render",$P]]),HP={},ZP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function qP(e,t){return S(),U("svg",ZP,t[0]||(t[0]=[N("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1)]))}const KP=gt(HP,[["render",qP]]),WP={},JP={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function YP(e,t){return S(),U("svg",JP,t[0]||(t[0]=[N("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1)]))}const XP=gt(WP,[["render",YP]]),QP={},eB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function tB(e,t){return S(),U("svg",eB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1)]))}const nB=gt(QP,[["render",tB]]),iB={},rB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function oB(e,t){return S(),U("svg",rB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1)]))}const sB=gt(iB,[["render",oB]]),aB={},lB={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function uB(e,t){return S(),U("svg",lB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)]))}const cB=gt(aB,[["render",uB]]),hB={},dB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function pB(e,t){return S(),U("svg",dB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]))}const fB=gt(hB,[["render",pB]]),mB={},_B={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function gB(e,t){return S(),U("svg",_B,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1)]))}const yB=gt(mB,[["render",gB]]),vB={},bB={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"};function xB(e,t){return S(),U("svg",bB,t[0]||(t[0]=[N("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1)]))}const wB=gt(vB,[["render",xB]]),LB={},CB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function kB(e,t){return S(),U("svg",CB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1)]))}const EB=gt(LB,[["render",kB]]),MB={},SB={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"};function PB(e,t){return S(),U("svg",SB,t[0]||(t[0]=[N("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1)]))}const BB=gt(MB,[["render",PB]]),TB={},AB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function OB(e,t){return S(),U("svg",AB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))}const RB=gt(TB,[["render",OB]]),DB={},IB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function FB(e,t){return S(),U("svg",IB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))}const jB=gt(DB,[["render",FB]]),NB={},zB={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function VB(e,t){return S(),U("svg",zB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1)]))}const GB=gt(NB,[["render",VB]]),$B={},UB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function HB(e,t){return S(),U("svg",UB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)]))}const ZB=gt($B,[["render",HB]]),qB={},KB={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function WB(e,t){return S(),U("svg",KB,t[0]||(t[0]=[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)]))}const JB=gt(qB,[["render",WB]]),YB={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(e){return(t,i)=>(S(),U("div",null,[N("p",null,Be(e.attribution.label),1)]))}},XB={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(e){return(t,i)=>(S(),U("div",null,[(S(!0),U(je,null,ut(e.depictions,o=>(S(),U("div",{key:o.id},[N("p",null,Be(o.label),1)]))),128))]))}},QB=["innerHTML"],e2={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(e){return(t,i)=>(S(),U("div",null,[N("p",{innerHTML:e.source.label},null,8,QB)]))}},t2={class:"p-2 text-black dark:text-white opacity-50"},n2={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(e){return(t,i)=>(S(),U("span",t2,Be(e.currentImage+1)+"/"+Be(e.totalImages),1))}},i2={},r2={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function o2(e,t){const i=se("IconArrowRight");return S(),U("button",r2,[q(i,{class:"h-8 w-8"})])}const s2=gt(i2,[["render",o2]]),a2={},l2={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function u2(e,t){const i=se("IconArrowLeft");return S(),U("button",l2,[q(i,{class:"h-8 w-8"})])}const c2=gt(a2,[["render",u2]]),h2={},d2={class:"p-2 box-border flex justify-between"};function p2(e,t){return S(),U("div",d2,[N("div",null,[xt(e.$slots,"default")]),N("div",null,[xt(e.$slots,"right")])])}const f2=gt(h2,[["render",p2]]),m2={},_2={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function g2(e,t){const i=se("IconClose");return S(),U("button",_2,[q(i)])}const y2=gt(m2,[["render",g2]]),v2={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},b2={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},x2=["textContent"],w2=["alt","src"],L2={class:"bottom-0 fixed max-w-full w-full"},C2={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},k2={class:"flex justify-center"},E2={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(e,{emit:t}){const i=e,o=t,c=({key:w})=>{switch(w){case"ArrowLeft":i.previous&&o("previous");break;case"ArrowRight":i.next&&o("next");break;case"Escape":o("close");break}},s=ze(null),u=ze(!1),f=ze(null),_=Ze(()=>i.images[i.index]);document.addEventListener("keyup",c);function v(){u.value=!1,f.value="Image was not found or format is not supported"}function b(){u.value=!1}return cn(()=>{s.value.addEventListener("load",b),s.value.addEventListener("error",v),document.body.classList.add("overflow-hidden")}),yr(()=>{document.removeEventListener("keyup",c),document.body.classList.remove("overflow-hidden")}),yn(()=>i.index,()=>{f.value=null,u.value=!0}),(w,P)=>{var R,V;const O=se("VSpinner");return S(),U("div",v2,[N("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:P[3]||(P[3]=Fa(()=>{},["stop"]))},[N("div",b2,[u.value?(S(),ye(O,{key:0})):Ee("",!0),f.value?(S(),U("div",{key:1,class:"flex flex-col justify-center",textContent:Be(f.value)},null,8,x2)):Ee("",!0),Rn(N("img",{ref_key:"imageElement",ref:s,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:(V=(R=_.value)==null?void 0:R.depictions)==null?void 0:V.map(oe=>oe.label).join(";"),src:_.value.original,onClick:P[0]||(P[0]=oe=>o("close"))},null,8,w2),[[Du,!f.value]]),e.next?(S(),ye(s2,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:P[1]||(P[1]=oe=>o("next"))})):Ee("",!0),e.previous?(S(),ye(c2,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:P[2]||(P[2]=oe=>o("previous"))})):Ee("",!0)])]),N("div",L2,[N("div",C2,[q(XB,{class:"my-auto",depictions:_.value.depictions},null,8,["depictions"]),q(YB,{class:"my-auto",attribution:_.value.attribution},null,8,["attribution"]),q(e2,{class:"my-auto",source:_.value.source},null,8,["source"])]),N("div",k2,[q(Lu,{class:"pb-2",current:e.index,images:e.images,onSelectIndex:P[4]||(P[4]=oe=>o("selectIndex",oe)),onClick:P[5]||(P[5]=Fa(()=>{},["stop"]))},null,8,["current","images"])])]),q(f2,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:J(()=>[q(y2,{onClick:P[6]||(P[6]=oe=>o("close"))})]),default:J(()=>[q(n2,{"current-image":e.index,"total-images":e.images.length},null,8,["current-image","total-images"])]),_:1})])}}},M2="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",S2={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(e){const t=e,i={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none",blank:"sm:px-0 prose dark:prose-invert max-w-none"},o=Ze(()=>i[t.frontmatter.layout]||M2);return(c,s)=>(S(),ye(So(e.tag),{class:tn(o.value)},{default:J(()=>[xt(c.$slots,"default")]),_:3},8,["class"]))}},P2={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},B2={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},T2={__name:"VModal.global",emits:["close"],setup(e,{emit:t}){const i=t,o=c=>{c.key==="Escape"&&(c.stopPropagation(),i("close"))};return cn(()=>{document.addEventListener("keydown",o),document.body.classList.add("overflow-hidden")}),yr(()=>{document.removeEventListener("keydown",o),document.body.classList.remove("overflow-hidden")}),(c,s)=>{const u=se("IconClose");return S(),U("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:s[2]||(s[2]=f=>i("close")),onKey:s[3]||(s[3]=Fa(f=>i("close"),["stop"]))},[N("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:s[1]||(s[1]=Fa(()=>{},["stop"]))},[N("div",P2,[xt(c.$slots,"header",{},()=>[s[4]||(s[4]=N("span",null,null,-1))]),q(u,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:s[0]||(s[0]=()=>i("close"))})]),N("div",B2,[xt(c.$slots,"default")]),N("div",null,[xt(c.$slots,"footer")])])],32)}}},A2={"aria-disabled":"false","aria-label":"Pagination",class:"flex flex-row text-sm"},O2=["disabled"],R2={role:"presentation",class:"page-item"},D2=["disabled"],I2={key:0,class:"border border-base-border px-2 py-1.5"},F2={key:0,class:"page-item"},j2=["disabled","onClick"],N2={key:1,class:"border border-base-border px-2 py-1.5"},z2={class:"page-item"},V2=["disabled"],G2={role:"presentation"},$2=["disabled"],U2={__name:"VPagination.global",props:{modelValue:{type:Number,required:!0},total:{type:Number,required:!0},per:{type:Number,required:!0},rangePages:{type:Number,default:5}},emits:["update:modelValue"],setup(e,{emit:t}){const i=e,o=t,c=Ze(()=>Math.ceil(i.total/i.per)),s=Ze({get:()=>i.modelValue,set:_=>{o("update:modelValue",_)}}),u=Ze(()=>i.modelValue+i.rangePages),f=Ze(()=>i.modelValue-i.rangePages);return(_,v)=>(S(),U("ul",A2,[N("li",null,[N("button",{type:"button",disabled:s.value<2||!c.value,"aria-label":"Go to first page",class:"border border-base-border rounded-l-md px-2 py-1.5",onClick:v[0]||(v[0]=b=>s.value=1)}," « ",8,O2)]),N("li",R2,[N("button",{type:"button",disabled:s.value<2||!c.value,"aria-label":"Go to previous page",class:"border border-base-border px-2 py-1.5",onClick:v[1]||(v[1]=b=>s.value--)}," ‹ ",8,D2)]),e.modelValue>i.rangePages?(S(),U("li",I2," ... ")):Ee("",!0),(S(!0),U(je,null,ut(c.value,b=>(S(),U(je,{key:b},[b<u.value&&f.value<b?(S(),U("li",F2,[N("button",{type:"button","aria-label":"Go to page 1",disabled:s.value===b,class:tn(["border","border-base-border","px-2","py-1.5",s.value===b?"text-primary-content bg-primary-color":"text-base-content"]),onClick:()=>s.value=b},Be(b),11,j2)])):Ee("",!0)],64))),128)),c.value-e.modelValue>=e.rangePages?(S(),U("li",N2," ... ")):Ee("",!0),N("li",z2,[N("button",{type:"button","aria-label":"Go to next page",class:"border border-base-border px-2 py-1.5",disabled:s.value===c.value||!c.value,onClick:v[2]||(v[2]=()=>s.value++)}," › ",8,V2)]),N("li",G2,[N("button",{type:"button",disabled:s.value===c.value||!c.value,"aria-label":"Go to last page",class:"border border-base-border rounded-r-md px-2 py-1.5",onClick:v[3]||(v[3]=()=>s.value=c.value)}," » ",8,$2)])]))}},H2={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(e){const t=e,i=ze({data:[]}),o=Ze(()=>t.data.map(u=>u.toLowerCase())),c=Ze(()=>{const u=i.value.data;return u.length?s(u):o.value.map(f=>[f,"??"])});function s(u){const f=t.data.length?u.filter(([_])=>o.value.includes(_)):u;return f.sort(([_],[v])=>o.value.indexOf(_)-o.value.indexOf(v)),f}return cn(()=>{an.get("/stats").then(u=>{const f=Object.entries(u.data.data).map(([_,v])=>[_.toLowerCase(),v.toLocaleString()]);i.value.data=f})}),(u,f)=>(S(),ye(So(e.tag),null,{default:J(()=>[(S(!0),U(je,null,ut(c.value,([_,v],b)=>xt(u.$slots,"default",{type:_,value:v},()=>[N("span",null,Be(_)+": "+Be(v)+Be(b<c.value.length-1?"; ":""),1)])),256))]),_:3}))}},Z2={key:1},q2={__name:"ClientOnly.global",setup(e){const t=ze(!1);return cn(()=>{t.value=!0}),(i,o)=>t.value?xt(i.$slots,"default",{key:0}):(S(),U("div",Z2))}},K2={class:"inline-flex items-center text-sm"},W2={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(e){return(t,i)=>{const o=se("router-link");return S(),U("li",K2,[q(o,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-base-content border-b-2 border-transparent","active-class":"border-b-2 !border-secondary-color font-medium",to:e.to},{default:J(()=>[xt(t.$slots,"default")]),_:3},8,["to"])])}}},J2={},Y2={class:"inline-flex items-center space-x-1 md:space-x-3"};function X2(e,t){return S(),U("ul",Y2,[xt(e.$slots,"default")])}const Q2=gt(J2,[["render",X2]]),eT={},tT={class:"relative sm:rounded-lg"},nT={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function iT(e,t){return S(),U("div",tT,[N("table",nT,[xt(e.$slots,"default")])])}const rT=gt(eT,[["render",iT]]),oT={},sT={class:"normal-case text-xs"};function aT(e,t){return S(),U("tbody",sT,[xt(e.$slots,"default")])}const lT=gt(oT,[["render",aT]]),uT={},cT={class:"px-4 py-4"};function hT(e,t){return S(),U("td",cT,[xt(e.$slots,"default")])}const dT=gt(uT,[["render",hT]]),pT={},fT={class:"bg-base-foreground border-b border-base-border"};function mT(e,t){return S(),U("tr",fT,[xt(e.$slots,"default")])}const _T=gt(pT,[["render",mT]]),gT={},yT={class:"text-xs text-base-content uppercase bg-base-background"};function vT(e,t){return S(),U("thead",yT,[xt(e.$slots,"default")])}const bT=gt(gT,[["render",vT]]),xT={},wT={class:"px-4 py-3"};function LT(e,t){return S(),U("th",wT,[xt(e.$slots,"default")])}const CT=gt(xT,[["render",LT]]),kT={};function ET(e,t){return S(),U("tr",null,[xt(e.$slots,"default")])}const MT=gt(kT,[["render",ET]]);var ST={base_url:"/orthoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/orthoptera/issues/new"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose"}],taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:content","panel:keys","panel:gbif","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]},xenocanto:{label:"xeno-canto",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:xeno-canto"]]]}},project_name:"Orthoptera Species File",project_citation:"Orthoptera Species File",project_url:"http://orthoptera.speciesfile.org/",project_authors:"Cigliano, M.M., H. Braun, D.C. Eades & D. Otte.",metadata:[{name:"description",content:"The Orthoptera Species File (OSF) is a taxonomic database of the world’s Orthoptera (grasshoppers, katydids, crickets, and related insects) both living and fossil. It has full taxonomic and synonymic information for all taxa, with complete taxonomic references, images, sound recordings, and specimen records."},{name:"keywords",content:"taxonpages, species, sfg, orthoptera, speciesfilegroup, Species File Group, orthoptera species file"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">GBIF.org</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:"/images/logo.jpg",header_logo_text:"Orthoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Recent",link:"/recent"},{label:"Help",link:"/help"}],copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution License. (CC-BY)",url:"https://sfg.taxonworks.org/api/v1",project_token:"3oerVKf82_196cIECvHYNg",analytics_services:{enableDev:!0,analytics:[{id:"G-882L0S5P9L"}]}};const PT={key:1},BT={class:"font-normal p-5 pt-0 text-base"},TT={class:"mx-5 my-2"},AT=["href"],OT={key:0,class:"text-sm"},RT="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",DT={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:void 0},label:{type:String,default:void 0},icon:{type:Boolean,default:!1},tag:{type:String,default:"VButton"}},setup(e){const{issue_trackers:t}=ST,i=ze(!1);function o(){t?i.value=!0:window.open(RT,"_blank")}return(c,s)=>{const u=se("IconGithub"),f=se("VModal");return S(),U(je,null,[(S(),ye(So(e.tag),{type:"button",title:"Report a problem",class:tn(e.buttonClass),onClick:o},{default:J(()=>[e.icon?(S(),ye(u,{key:0,class:"w-5 h-5"})):Ee("",!0),e.label?(S(),U("span",PT,Be(e.label),1)):Ee("",!0)]),_:1},8,["class"])),i.value?(S(),ye(f,{key:0,class:"text-base-content",onClose:s[0]||(s[0]=_=>i.value=!1)},{header:J(()=>s[1]||(s[1]=[N("h1",{class:"font-medium text-base px-1"},"Report a problem",-1)])),default:J(()=>[N("div",BT,[s[2]||(s[2]=N("span",null,"My issue is with:",-1)),N("ul",TT,[(S(!0),U(je,null,ut(Ie(t),_=>(S(),U("li",null,[N("a",{href:_.url,target:"_blank"},Be(_.label),9,AT),_.description?(S(),U("span",OT," - "+Be(_.description),1)):Ee("",!0)]))),256))])])]),_:1})):Ee("",!0)],64)}}},IT={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(e){const t=My(),i=Ze(()=>{var s;const c=(s=t.default)==null?void 0:s.call(t);return o(c)});function o(c){if(!c)return!0;const[s]=c;let u=s.children;return s.el!==null||u!==null}return(c,s)=>(S(),U(je,null,[xt(c.$slots,"default"),i.value?(S(),U("span",{key:0,class:tn(e.class)},[(S(!0),U(je,null,ut(e.lines,u=>(S(),U("span",{key:u,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"}," ‌ "))),128))],2)):Ee("",!0)],64))}},FT=["innerHTML"],jT={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(e){const t={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},i=e,o=ze(null),c=ze({}),s=ze(void 0);cn(()=>{u(),i.resize&&!i.fullScreen&&_()}),yr(()=>clearInterval(s.value));const u=()=>{const v=i.target?document.querySelector(i.target):o.value.parentNode;Object.assign(c.value,i.fullScreen?t:f(v))},f=v=>{const b=v.getBoundingClientRect(),w=window.getComputedStyle(v,null),P=parseInt(w.getPropertyValue("padding-left"),10),O=parseInt(w.getPropertyValue("padding-right"),10),R=parseInt(w.getPropertyValue("padding-top"),10),V=parseInt(w.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:b.width-P-O+"px",height:b.height-R-V+"px"}},_=()=>{s.value=setInterval(u(),500)};return(v,b)=>(S(),U("div",{ref_key:"spinnerElement",ref:o,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:pi(c.value)},[N("div",{class:tn(["tw-spinner",`tw-spinner-${e.spinnerPosition}`])},[e.showSpinner?(S(),U("svg",{key:0,style:pi(e.logoSize),"aria-hidden":"true",class:tn(["text-base-lighter","animate-spin fill-primary-color",e.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b[0]||(b[0]=[N("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),N("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),6)):Ee("",!0),b[1]||(b[1]=N("span",{class:"sr-only"},"Loading...",-1)),e.legend.length?(S(),U("div",{key:1,class:tn(["text-base-content","text-center",e.legendClass]),style:pi(e.legendStyle)},[e.showLegend?(S(),U("span",{key:0,innerHTML:e.legend},null,8,FT)):Ee("",!0),xt(v.$slots,"default",{},void 0,!0)],6)):Ee("",!0)],2)],4))}},NT=gt(jT,[["__scopeId","data-v-3927b18d"]]);function zT(e){VT(e,Object.assign({"/src/components/AddressMaker.global.vue":$S,"/src/components/Animation/AnimationOpacity.global.vue":ZS,"/src/components/Autocomplete/Autocomplete.global.vue":Vg,"/src/components/Autocomplete/AutocompleteOtu.global.vue":oP,"/src/components/Button/ButtonExpand.global.vue":aP,"/src/components/Button/VButton.global.vue":lP,"/src/components/Card/VCard.global.vue":dP,"/src/components/Card/VCardContent.global.vue":_P,"/src/components/Card/VCardHeader.global.vue":bP,"/src/components/Clipboard/VClipboard.global.vue":xP,"/src/components/Dropdown/Dropdown.global.vue":CP,"/src/components/Gallery/GalleryCarousel/GalleryCarousel.global.vue":BP,"/src/components/Gallery/GalleryImage.global.vue":FP,"/src/components/Gallery/GalleryMosaic/GalleryMosaic.global.vue":zP,"/src/components/Icon/IconArrowDown.global.vue":UP,"/src/components/Icon/IconArrowLeft.global.vue":KP,"/src/components/Icon/IconArrowRight.global.vue":XP,"/src/components/Icon/IconCheck.global.vue":nB,"/src/components/Icon/IconClipboard.global.vue":sB,"/src/components/Icon/IconClose.global.vue":cB,"/src/components/Icon/IconDocument.global.vue":fB,"/src/components/Icon/IconDownload.global.vue":yB,"/src/components/Icon/IconGithub.global.vue":wB,"/src/components/Icon/IconHamburger.global.vue":EB,"/src/components/Icon/IconJson.global.vue":BB,"/src/components/Icon/IconMinusCircle.global.vue":RB,"/src/components/Icon/IconPlusCircle.global.vue":jB,"/src/components/Icon/IconSearch.global.vue":GB,"/src/components/Icon/IconTrash.global.vue":ZB,"/src/components/Icon/IconWarning.global.vue":JB,"/src/components/ImageViewer/ImageViewer.global.vue":E2,"/src/components/Markdown/MarkdownLayout.global.vue":S2,"/src/components/Modal/VModal.global.vue":T2,"/src/components/Pagination/VPagination.global.vue":U2,"/src/components/ProjectStats.global.vue":H2,"/src/components/Ssr/ClientOnly.global.vue":q2,"/src/components/Tab/TabItem.global.vue":W2,"/src/components/Tab/TabMenu.global.vue":Q2,"/src/components/Table/VTable.global.vue":rT,"/src/components/Table/VTableBody.global.vue":lT,"/src/components/Table/VTableBodyCell.global.vue":dT,"/src/components/Table/VTableBodyRow.global.vue":_T,"/src/components/Table/VTableHeader.global.vue":bT,"/src/components/Table/VTableHeaderCell.global.vue":CT,"/src/components/Table/VTableHeaderRow.global.vue":MT,"/src/components/TrackerReport.global.vue":DT,"/src/components/VSkeleton.global.vue":IT,"/src/components/VSpinner.global.vue":NT}))}function VT(e,t){Object.entries(t).forEach(([o,c])=>{const s=o.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");e.component(s,c)})}const GT=window.location.origin,jf=window.initialState,{app:Ad,router:$T,store:UT}=_S({originUrl:GT});jf&&(UT.state.value=jf);FS(Ad);zT(Ad);$T.isReady().then(()=>{Ad.mount("#app")});export{je as F,gt as _,se as a,S as b,U as c,N as d,q as e,Ge as f,ut as g,ye as h,Ze as i,cn as j,xt as k,Ee as l,an as m,ZT as n,Em as o,yn as p,So as q,ze as r,Y0 as s,Be as t,Ie as u,Xm as v,J as w};
